"use strict";(self.webpackChunkspace_in=self.webpackChunkspace_in||[]).push([[179],{726:(Nu,gc,Yr)=>{Yr.d(gc,{Uw:()=>Xr,fo:()=>Lu});var ne=Yr(861);typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"&&global;var _r=function(Q){return Q.Unimplemented="UNIMPLEMENTED",Q.Unavailable="UNAVAILABLE",Q}(_r||{});class gn extends Error{constructor(x,z,ae){super(x),this.message=x,this.code=z,this.data=ae}}const Qr=Q=>{var x,z,ae,J,re;const Je=Q.CapacitorCustomPlatform||null,ge=Q.Capacitor||{},Ht=ge.Plugins=ge.Plugins||{},Ee=Q.CapacitorPlatforms,ts=(null===(x=Ee?.currentPlatform)||void 0===x?void 0:x.getPlatform)||(()=>null!==Je?Je.name:(Q=>{var x,z;return Q?.androidBridge?"android":null!==(z=null===(x=Q?.webkit)||void 0===x?void 0:x.messageHandlers)&&void 0!==z&&z.bridge?"ios":"web"})(Q)),kt=(null===(z=Ee?.currentPlatform)||void 0===z?void 0:z.isNativePlatform)||(()=>"web"!==ts()),Me=(null===(ae=Ee?.currentPlatform)||void 0===ae?void 0:ae.isPluginAvailable)||(Pt=>{const zt=$u.get(Pt);return!(!zt?.platforms.has(ts())&&!hp(Pt))}),hp=(null===(J=Ee?.currentPlatform)||void 0===J?void 0:J.getPluginHeader)||(Pt=>{var zt;return null===(zt=ge.PluginHeaders)||void 0===zt?void 0:zt.find(Qo=>Qo.name===Pt)}),$u=new Map,Tk=(null===(re=Ee?.currentPlatform)||void 0===re?void 0:re.registerPlugin)||((Pt,zt={})=>{const Qo=$u.get(Pt);if(Qo)return console.warn(`Capacitor plugin "${Pt}" already registered. Cannot register plugins twice.`),Qo.proxy;const ns=ts(),rs=hp(Pt);let Jr;const Hu=function(){var Ye=(0,ne.Z)(function*(){return!Jr&&ns in zt?Jr=Jr="function"==typeof zt[ns]?yield zt[ns]():zt[ns]:null!==Je&&!Jr&&"web"in zt&&(Jr=Jr="function"==typeof zt.web?yield zt.web():zt.web),Jr});return function(){return Ye.apply(this,arguments)}}(),Xo=Ye=>{let sn;const Lr=(...ei)=>{const bi=Hu().then(vr=>{const is=((Ye,sn)=>{var Lr,ei;if(!rs){if(Ye)return null===(ei=Ye[sn])||void 0===ei?void 0:ei.bind(Ye);throw new gn(`"${Pt}" plugin is not implemented on ${ns}`,_r.Unimplemented)}{const bi=rs?.methods.find(vr=>sn===vr.name);if(bi)return"promise"===bi.rtype?vr=>ge.nativePromise(Pt,sn.toString(),vr):(vr,is)=>ge.nativeCallback(Pt,sn.toString(),vr,is);if(Ye)return null===(Lr=Ye[sn])||void 0===Lr?void 0:Lr.bind(Ye)}})(vr,Ye);if(is){const vc=is(...ei);return sn=vc?.remove,vc}throw new gn(`"${Pt}.${Ye}()" is not implemented on ${ns}`,_r.Unimplemented)});return"addListener"===Ye&&(bi.remove=(0,ne.Z)(function*(){return sn()})),bi};return Lr.toString=()=>`${Ye.toString()}() { [capacitor code] }`,Object.defineProperty(Lr,"name",{value:Ye,writable:!1,configurable:!1}),Lr},zu=Xo("addListener"),fp=Xo("removeListener"),Mv=(Ye,sn)=>{const Lr=zu({eventName:Ye},sn),ei=function(){var vr=(0,ne.Z)(function*(){const is=yield Lr;fp({eventName:Ye,callbackId:is},sn)});return function(){return vr.apply(this,arguments)}}(),bi=new Promise(vr=>Lr.then(()=>vr({remove:ei})));return bi.remove=(0,ne.Z)(function*(){console.warn("Using addListener() without 'await' is deprecated."),yield ei()}),bi},Gu=new Proxy({},{get(Ye,sn){switch(sn){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return rs?Mv:zu;case"removeListener":return fp;default:return Xo(sn)}}});return Ht[Pt]=Gu,$u.set(Pt,{name:Pt,proxy:Gu,platforms:new Set([...Object.keys(zt),...rs?[ns]:[]])}),Gu});return ge.convertFileSrc||(ge.convertFileSrc=Pt=>Pt),ge.getPlatform=ts,ge.handleError=Pt=>Q.console.error(Pt),ge.isNativePlatform=kt,ge.isPluginAvailable=Me,ge.pluginMethodNoop=(Pt,zt,Qo)=>Promise.reject(`${Qo} does not have an implementation of "${zt}".`),ge.registerPlugin=Tk,ge.Exception=gn,ge.DEBUG=!!ge.DEBUG,ge.isLoggingEnabled=!!ge.isLoggingEnabled,ge.platform=ge.getPlatform(),ge.isNative=ge.isNativePlatform(),ge},Ko=(Q=>Q.Capacitor=Qr(Q))(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),Lu=Ko.registerPlugin;class Xr{constructor(x){this.listeners={},this.windowListeners={},x&&(console.warn(`Capacitor WebPlugin "${x.name}" config object was deprecated in v3 and will be removed in v4.`),this.config=x)}addListener(x,z){var ae=this;this.listeners[x]||(this.listeners[x]=[]),this.listeners[x].push(z);const re=this.windowListeners[x];re&&!re.registered&&this.addWindowListener(re);const Je=function(){var Ht=(0,ne.Z)(function*(){return ae.removeListener(x,z)});return function(){return Ht.apply(this,arguments)}}(),ge=Promise.resolve({remove:Je});return Object.defineProperty(ge,"remove",{value:(Ht=(0,ne.Z)(function*(){console.warn("Using addListener() without 'await' is deprecated."),yield Je()}),function(){return Ht.apply(this,arguments)})}),ge;var Ht}removeAllListeners(){var x=this;return(0,ne.Z)(function*(){x.listeners={};for(const z in x.windowListeners)x.removeWindowListener(x.windowListeners[z]);x.windowListeners={}})()}notifyListeners(x,z){const ae=this.listeners[x];ae&&ae.forEach(J=>J(z))}hasListeners(x){return!!this.listeners[x].length}registerWindowListener(x,z){this.windowListeners[z]={registered:!1,windowEventName:x,pluginEventName:z,handler:ae=>{this.notifyListeners(z,ae)}}}unimplemented(x="not implemented"){return new Ko.Exception(x,_r.Unimplemented)}unavailable(x="not available"){return new Ko.Exception(x,_r.Unavailable)}removeListener(x,z){var ae=this;return(0,ne.Z)(function*(){const J=ae.listeners[x];if(!J)return;const re=J.indexOf(z);ae.listeners[x].splice(re,1),ae.listeners[x].length||ae.removeWindowListener(ae.windowListeners[x])})()}addWindowListener(x){window.addEventListener(x.windowEventName,x.handler),x.registered=!0}removeWindowListener(x){x&&(window.removeEventListener(x.windowEventName,x.handler),x.registered=!1)}}const up=Q=>encodeURIComponent(Q).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),yc=Q=>Q.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class Ev extends Xr{getCookies(){return(0,ne.Z)(function*(){const x=document.cookie,z={};return x.split(";").forEach(ae=>{if(ae.length<=0)return;let[J,re]=ae.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");J=yc(J).trim(),re=yc(re).trim(),z[J]=re}),z})()}setCookie(x){return(0,ne.Z)(function*(){try{const z=up(x.key),ae=up(x.value),J=`; expires=${(x.expires||"").replace("expires=","")}`,re=(x.path||"/").replace("path=",""),Je=null!=x.url&&x.url.length>0?`domain=${x.url}`:"";document.cookie=`${z}=${ae||""}${J}; path=${re}; ${Je};`}catch(z){return Promise.reject(z)}})()}deleteCookie(x){return(0,ne.Z)(function*(){try{document.cookie=`${x.key}=; Max-Age=0`}catch(z){return Promise.reject(z)}})()}clearCookies(){return(0,ne.Z)(function*(){try{const x=document.cookie.split(";")||[];for(const z of x)document.cookie=z.replace(/^ +/,"").replace(/=.*/,`=;expires=${(new Date).toUTCString()};path=/`)}catch(x){return Promise.reject(x)}})()}clearAllCookies(){var x=this;return(0,ne.Z)(function*(){try{yield x.clearCookies()}catch(z){return Promise.reject(z)}})()}}Lu("CapacitorCookies",{web:()=>new Ev});const Tv=function(){var Q=(0,ne.Z)(function*(x){return new Promise((z,ae)=>{const J=new FileReader;J.onload=()=>{const re=J.result;z(re.indexOf(",")>=0?re.split(",")[1]:re)},J.onerror=re=>ae(re),J.readAsDataURL(x)})});return function(z){return Q.apply(this,arguments)}}();class Bu extends Xr{request(x){return(0,ne.Z)(function*(){const z=((Q,x={})=>{const z=Object.assign({method:Q.method||"GET",headers:Q.headers},x),J=((Q={})=>{const x=Object.keys(Q);return Object.keys(Q).map(J=>J.toLocaleLowerCase()).reduce((J,re,Je)=>(J[re]=Q[x[Je]],J),{})})(Q.headers)["content-type"]||"";if("string"==typeof Q.data)z.body=Q.data;else if(J.includes("application/x-www-form-urlencoded")){const re=new URLSearchParams;for(const[Je,ge]of Object.entries(Q.data||{}))re.set(Je,ge);z.body=re.toString()}else if(J.includes("multipart/form-data")||Q.data instanceof FormData){const re=new FormData;if(Q.data instanceof FormData)Q.data.forEach((ge,Ht)=>{re.append(Ht,ge)});else for(const ge of Object.keys(Q.data))re.append(ge,Q.data[ge]);z.body=re;const Je=new Headers(z.headers);Je.delete("content-type"),z.headers=Je}else(J.includes("application/json")||"object"==typeof Q.data)&&(z.body=JSON.stringify(Q.data));return z})(x,x.webFetchExtra),ae=((Q,x=!0)=>Q?Object.entries(Q).reduce((ae,J)=>{const[re,Je]=J;let ge,Ht;return Array.isArray(Je)?(Ht="",Je.forEach(Ee=>{ge=x?encodeURIComponent(Ee):Ee,Ht+=`${re}=${ge}&`}),Ht.slice(0,-1)):(ge=x?encodeURIComponent(Je):Je,Ht=`${re}=${ge}`),`${ae}&${Ht}`},"").substr(1):null)(x.params,x.shouldEncodeUrlParams),J=ae?`${x.url}?${ae}`:x.url,re=yield fetch(J,z),Je=re.headers.get("content-type")||"";let Ht,Ee,{responseType:ge="text"}=re.ok?x:{};switch(Je.includes("application/json")&&(ge="json"),ge){case"arraybuffer":case"blob":Ee=yield re.blob(),Ht=yield Tv(Ee);break;case"json":Ht=yield re.json();break;default:Ht=yield re.text()}const Zo={};return re.headers.forEach((ts,mt)=>{Zo[mt]=ts}),{data:Ht,headers:Zo,status:re.status,url:re.url}})()}get(x){var z=this;return(0,ne.Z)(function*(){return z.request(Object.assign(Object.assign({},x),{method:"GET"}))})()}post(x){var z=this;return(0,ne.Z)(function*(){return z.request(Object.assign(Object.assign({},x),{method:"POST"}))})()}put(x){var z=this;return(0,ne.Z)(function*(){return z.request(Object.assign(Object.assign({},x),{method:"PUT"}))})()}patch(x){var z=this;return(0,ne.Z)(function*(){return z.request(Object.assign(Object.assign({},x),{method:"PATCH"}))})()}delete(x){var z=this;return(0,ne.Z)(function*(){return z.request(Object.assign(Object.assign({},x),{method:"DELETE"}))})()}}Lu("CapacitorHttp",{web:()=>new Bu})},117:(Nu,gc,Yr)=>{function ne(t){return"function"==typeof t}function qo(t){const n=t(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const Qs=qo(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function Zr(t,e){if(t){const n=t.indexOf(e);0<=n&&t.splice(n,1)}}class Yt{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const s of n)s.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(ne(r))try{r()}catch(s){e=s instanceof Qs?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{_r(s)}catch(o){e=e??[],o instanceof Qs?e=[...e,...o.errors]:e.push(o)}}if(e)throw new Qs(e)}}add(e){var n;if(e&&e!==this)if(this.closed)_r(e);else{if(e instanceof Yt){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(e)}}_hasParent(e){const{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){const{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Zr(n,e)}remove(e){const{_finalizers:n}=this;n&&Zr(n,e),e instanceof Yt&&e._removeParent(this)}}Yt.EMPTY=(()=>{const t=new Yt;return t.closed=!0,t})();const Xs=Yt.EMPTY;function es(t){return t instanceof Yt||t&&"closed"in t&&ne(t.remove)&&ne(t.add)&&ne(t.unsubscribe)}function _r(t){ne(t)?t():t.unsubscribe()}const gn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Nr={setTimeout(t,e,...n){const{delegate:r}=Nr;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){const{delegate:e}=Nr;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Qr(t){Nr.setTimeout(()=>{const{onUnhandledError:e}=gn;if(!e)throw t;e(t)})}function mc(){}const Ko=lp("C",void 0,void 0);function lp(t,e,n){return{kind:t,value:e,error:n}}let Xr=null;function Fu(t){if(gn.useDeprecatedSynchronousErrorHandling){const e=!Xr;if(e&&(Xr={errorThrown:!1,error:null}),t(),e){const{errorThrown:n,error:r}=Xr;if(Xr=null,n)throw r}}else t()}class yc extends Yt{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,es(e)&&e.add(this)):this.destination=Ek}static create(e,n,r){return new Yo(e,n,r)}next(e){this.isStopped?Bu(function Ck(t){return lp("N",t,void 0)}(e),this):this._next(e)}error(e){this.isStopped?Bu(function Lu(t){return lp("E",void 0,t)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Bu(Ko,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ev=Function.prototype.bind;function dp(t,e){return Ev.call(t,e)}class Tv{constructor(e){this.partialObserver=e}next(e){const{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){_c(r)}}error(e){const{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){_c(r)}else _c(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){_c(n)}}}class Yo extends yc{constructor(e,n,r){let i;if(super(),ne(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&gn.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&dp(e.next,s),error:e.error&&dp(e.error,s),complete:e.complete&&dp(e.complete,s)}):i=e}this.destination=new Tv(i)}}function _c(t){gn.useDeprecatedSynchronousErrorHandling?function up(t){gn.useDeprecatedSynchronousErrorHandling&&Xr&&(Xr.errorThrown=!0,Xr.error=t)}(t):Qr(t)}function Bu(t,e){const{onStoppedNotification:n}=gn;n&&Nr.setTimeout(()=>n(t,e))}const Ek={closed:!0,next:mc,error:function Dv(t){throw t},complete:mc},Q="function"==typeof Symbol&&Symbol.observable||"@@observable";function x(t){return t}function ae(t){return 0===t.length?x:1===t.length?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}let J=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){const s=function ge(t){return t&&t instanceof yc||function Je(t){return t&&ne(t.next)&&ne(t.error)&&ne(t.complete)}(t)&&es(t)}(n)?n:new Yo(n,r,i);return Fu(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=re(r))((i,s)=>{const o=new Yo({next:a=>{try{n(a)}catch(c){s(c),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[Q](){return this}pipe(...n){return ae(n)(this)}toPromise(n){return new(n=re(n))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function re(t){var e;return null!==(e=t??gn.Promise)&&void 0!==e?e:Promise}const Ht=qo(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Ee=(()=>{class t extends J{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new Zo(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new Ht}next(n){Fu(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){Fu(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Fu(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:s}=this;return r||i?Xs:(this.currentObservers=null,s.push(n),new Yt(()=>{this.currentObservers=null,Zr(s,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){const n=new J;return n.source=this,n}}return t.create=(e,n)=>new Zo(e,n),t})();class Zo extends Ee{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,e)}error(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,e)}complete(){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===n||n.call(e)}_subscribe(e){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(e))&&void 0!==r?r:Xs}}function ts(t){return ne(t?.lift)}function mt(t){return e=>{if(ts(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function kt(t,e,n,r,i){return new Sv(t,e,n,r,i)}class Sv extends yc{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function Me(t,e){return mt((n,r)=>{let i=0;n.subscribe(kt(r,s=>{r.next(t.call(e,s,i++))}))})}function ju(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function Ye(t){return this instanceof Ye?(this.v=t,this):new Ye(t)}function ei(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,e=t[Symbol.asyncIterator];return e?e.call(t):(t=function Xo(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,c){!function i(s,o,a,c){Promise.resolve(c).then(function(l){s({value:l,done:a})},o)}(a,c,(o=t[s](o)).done,o.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const Dk=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function Sk(t){return ne(t?.then)}function xk(t){return ne(t[Q])}function Ak(t){return Symbol.asyncIterator&&ne(t?.[Symbol.asyncIterator])}function Mk(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const kk=function lG(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function Pk(t){return ne(t?.[kk])}function Rk(t){return function sn(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(t,e||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(f){return new Promise(function(p,g){s.push([h,f,p,g])>1||a(h,f)})})}function a(h,f){try{!function c(h){h.value instanceof Ye?Promise.resolve(h.value.v).then(l,u):d(s[0][2],h)}(r[h](f))}catch(p){d(s[0][3],p)}}function l(h){a("next",h)}function u(h){a("throw",h)}function d(h,f){h(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}(this,arguments,function*(){const n=t.getReader();try{for(;;){const{value:r,done:i}=yield Ye(n.read());if(i)return yield Ye(void 0);yield yield Ye(r)}}finally{n.releaseLock()}})}function Ok(t){return ne(t?.getReader)}function Fr(t){if(t instanceof J)return t;if(null!=t){if(xk(t))return function uG(t){return new J(e=>{const n=t[Q]();if(ne(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(Dk(t))return function dG(t){return new J(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}(t);if(Sk(t))return function hG(t){return new J(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Qr)})}(t);if(Ak(t))return Nk(t);if(Pk(t))return function fG(t){return new J(e=>{for(const n of t)if(e.next(n),e.closed)return;e.complete()})}(t);if(Ok(t))return function pG(t){return Nk(Rk(t))}(t)}throw Mk(t)}function Nk(t){return new J(e=>{(function gG(t,e){var n,r,i,s;return function rs(t,e,n,r){return new(n||(n=Promise))(function(s,o){function a(u){try{l(r.next(u))}catch(d){o(d)}}function c(u){try{l(r.throw(u))}catch(d){o(d)}}function l(u){u.done?s(u.value):function i(s){return s instanceof n?s:new n(function(o){o(s)})}(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})}(this,void 0,void 0,function*(){try{for(n=ei(t);!(r=yield n.next()).done;)if(e.next(r.value),e.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})})(t,e).catch(n=>e.error(n))})}function ss(t,e,n,r=0,i=!1){const s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function mn(t,e,n=1/0){return ne(e)?mn((r,i)=>Me((s,o)=>e(r,s,i,o))(Fr(t(r,i))),n):("number"==typeof e&&(n=e),mt((r,i)=>function mG(t,e,n,r,i,s,o,a){const c=[];let l=0,u=0,d=!1;const h=()=>{d&&!c.length&&!l&&e.complete()},f=g=>l<r?p(g):c.push(g),p=g=>{s&&e.next(g),l++;let m=!1;Fr(n(g,u++)).subscribe(kt(e,_=>{i?.(_),s?f(_):e.next(_)},()=>{m=!0},void 0,()=>{if(m)try{for(l--;c.length&&l<r;){const _=c.shift();o?ss(e,o,()=>p(_)):p(_)}h()}catch(_){e.error(_)}}))};return t.subscribe(kt(e,f,()=>{d=!0,h()})),()=>{a?.()}}(r,i,t,n)))}function bc(t=1/0){return mn(x,t)}const wi=new J(t=>t.complete());function kv(t){return t[t.length-1]}function Wu(t){return function _G(t){return t&&ne(t.schedule)}(kv(t))?t.pop():void 0}function pp(t,e=0){return mt((n,r)=>{n.subscribe(kt(r,i=>ss(r,t,()=>r.next(i),e),()=>ss(r,t,()=>r.complete(),e),i=>ss(r,t,()=>r.error(i),e)))})}function gp(t,e=0){return mt((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function Lk(t,e){if(!t)throw new Error("Iterable cannot be null");return new J(n=>{ss(n,e,()=>{const r=t[Symbol.asyncIterator]();ss(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function on(t,e){return e?function DG(t,e){if(null!=t){if(xk(t))return function wG(t,e){return Fr(t).pipe(gp(e),pp(e))}(t,e);if(Dk(t))return function CG(t,e){return new J(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}(t,e);if(Sk(t))return function IG(t,e){return Fr(t).pipe(gp(e),pp(e))}(t,e);if(Ak(t))return Lk(t,e);if(Pk(t))return function EG(t,e){return new J(n=>{let r;return ss(n,e,()=>{r=t[kk](),ss(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void n.error(o)}s?n.complete():n.next(i)},0,!0)}),()=>ne(r?.return)&&r.return()})}(t,e);if(Ok(t))return function TG(t,e){return Lk(Rk(t),e)}(t,e)}throw Mk(t)}(t,e):Fr(t)}class Br extends Ee{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){const{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}function ie(...t){return on(t,Wu(t))}function Fk(t={}){const{connector:e=(()=>new Ee),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return s=>{let o,a,c,l=0,u=!1,d=!1;const h=()=>{a?.unsubscribe(),a=void 0},f=()=>{h(),o=c=void 0,u=d=!1},p=()=>{const g=o;f(),g?.unsubscribe()};return mt((g,m)=>{l++,!d&&!u&&h();const _=c=c??e();m.add(()=>{l--,0===l&&!d&&!u&&(a=Pv(p,i))}),_.subscribe(m),!o&&l>0&&(o=new Yo({next:y=>_.next(y),error:y=>{d=!0,h(),a=Pv(f,n,y),_.error(y)},complete:()=>{u=!0,h(),a=Pv(f,r),_.complete()}}),Fr(g).subscribe(o))})(s)}}function Pv(t,e,...n){if(!0===e)return void t();if(!1===e)return;const r=new Yo({next:()=>{r.unsubscribe(),t()}});return Fr(e(...n)).subscribe(r)}function ti(t,e){return mt((n,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();n.subscribe(kt(r,c=>{i?.unsubscribe();let l=0;const u=s++;Fr(t(c,u)).subscribe(i=kt(r,d=>r.next(e?e(c,d,u,l++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function AG(t,e){return t===e}function je(t){for(let e in t)if(t[e]===je)return e;throw Error("Could not find renamed property on target object.")}function Zt(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(Zt).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function Rv(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const MG=je({__forward_ref__:je});function Ov(t){return t.__forward_ref__=Ov,t.toString=function(){return Zt(this())},t}function ce(t){return Nv(t)?t():t}function Nv(t){return"function"==typeof t&&t.hasOwnProperty(MG)&&t.__forward_ref__===Ov}function Lv(t){return t&&!!t.\u0275providers}const Bk="https://g.co/ng/security#xss";class L extends Error{constructor(e,n){super(function yp(t,e){return`NG0${Math.abs(t)}${e?": "+e:""}`}(e,n)),this.code=e}}function ue(t){return"string"==typeof t?t:null==t?"":String(t)}function Fv(t,e){throw new L(-201,!1)}function Vr(t,e){null==t&&function se(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}(e,t,null,"!=")}function X(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function ni(t){return{providers:t.providers||[],imports:t.imports||[]}}function _p(t){return Vk(t,bp)||Vk(t,Uk)}function Vk(t,e){return t.hasOwnProperty(e)?t[e]:null}function vp(t){return t&&(t.hasOwnProperty(Bv)||t.hasOwnProperty(BG))?t[Bv]:null}const bp=je({\u0275prov:je}),Bv=je({\u0275inj:je}),Uk=je({ngInjectableDef:je}),BG=je({ngInjectorDef:je});var Ie=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(Ie||{});let Vv;function rr(t){const e=Vv;return Vv=t,e}function $k(t,e,n){const r=_p(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&Ie.Optional?null:void 0!==e?e:void Fv(Zt(t))}const et=globalThis;class Y{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=X({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const qu={},zv="__NG_DI_FLAG__",wp="ngTempTokenPath",jG=/\n/gm,zk="__source";let wc;function Js(t){const e=wc;return wc=t,e}function zG(t,e=Ie.Default){if(void 0===wc)throw new L(-203,!1);return null===wc?$k(t,void 0,e):wc.get(t,e&Ie.Optional?null:void 0,e)}function W(t,e=Ie.Default){return(function jk(){return Vv}()||zG)(ce(t),e)}function K(t,e=Ie.Default){return W(t,Ip(e))}function Ip(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Gv(t){const e=[];for(let n=0;n<t.length;n++){const r=ce(t[n]);if(Array.isArray(r)){if(0===r.length)throw new L(900,!1);let i,s=Ie.Default;for(let o=0;o<r.length;o++){const a=r[o],c=GG(a);"number"==typeof c?-1===c?i=a.token:s|=c:i=a}e.push(W(i,s))}else e.push(W(r))}return e}function Ku(t,e){return t[zv]=e,t.prototype[zv]=e,t}function GG(t){return t[zv]}function os(t){return{toString:t}.toString()}var Cp=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(Cp||{}),ri=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(ri||{});const Ii={},Fe=[],Ep=je({\u0275cmp:je}),Wv=je({\u0275dir:je}),qv=je({\u0275pipe:je}),Wk=je({\u0275mod:je}),as=je({\u0275fac:je}),Yu=je({__NG_ELEMENT_ID__:je}),qk=je({__NG_ENV_ID__:je});function Kk(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}function Kv(t,e,n){let r=0;for(;r<n.length;){const i=n[r];if("number"==typeof i){if(0!==i)break;r++;const s=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,s)}else{const s=i,o=n[++r];Zk(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function Yk(t){return 3===t||4===t||6===t}function Zk(t){return 64===t.charCodeAt(0)}function Zu(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||Qk(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function Qk(t,e,n,r,i){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const a=t[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<t.length;){const a=t[s];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(t[s+1]=i));if(r===t[s+1])return void(t[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),null!==r&&t.splice(s++,0,r),null!==i&&t.splice(s++,0,i)}const Xk="ng-template";function KG(t,e,n){let r=0,i=!0;for(;r<t.length;){let s=t[r++];if("string"==typeof s&&i){const o=t[r++];if(n&&"class"===s&&-1!==Kk(o.toLowerCase(),e,0))return!0}else{if(1===s){for(;r<t.length&&"string"==typeof(s=t[r++]);)if(s.toLowerCase()===e)return!0;return!1}"number"==typeof s&&(i=!1)}}return!1}function Jk(t){return 4===t.type&&t.value!==Xk}function YG(t,e,n){return e===(4!==t.type||n?t.value:Xk)}function ZG(t,e,n){let r=4;const i=t.attrs||[],s=function JG(t){for(let e=0;e<t.length;e++)if(Yk(t[e]))return e;return t.length}(i);let o=!1;for(let a=0;a<e.length;a++){const c=e[a];if("number"!=typeof c){if(!o)if(4&r){if(r=2|1&r,""!==c&&!YG(t,c,n)||""===c&&1===e.length){if(ii(r))return!1;o=!0}}else{const l=8&r?c:e[++a];if(8&r&&null!==t.attrs){if(!KG(t.attrs,l,n)){if(ii(r))return!1;o=!0}continue}const d=QG(8&r?"class":c,i,Jk(t),n);if(-1===d){if(ii(r))return!1;o=!0;continue}if(""!==l){let h;h=d>s?"":i[d+1].toLowerCase();const f=8&r?h:null;if(f&&-1!==Kk(f,l,0)||2&r&&l!==h){if(ii(r))return!1;o=!0}}}}else{if(!o&&!ii(r)&&!ii(c))return!1;if(o&&ii(c))continue;o=!1,r=c|1&r}}return ii(r)||o}function ii(t){return 0==(1&t)}function QG(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){const o=e[i];if(o===t)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function e9(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function e1(t,e,n=!1){for(let r=0;r<e.length;r++)if(ZG(t,e[r],n))return!0;return!1}function t1(t,e){return t?":not("+e.trim()+")":e}function n9(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&r){const a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!ii(o)&&(e+=t1(s,i),i=""),r=o,s=s||!ii(r);n++}return""!==i&&(e+=t1(s,i)),e}function wt(t){return os(()=>{const e=r1(t),n={...e,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Cp.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||ri.Emulated,styles:t.styles||Fe,_:null,schemas:t.schemas||null,tView:null,id:""};i1(n);const r=t.dependencies;return n.directiveDefs=Tp(r,!1),n.pipeDefs=Tp(r,!0),n.id=function u9(t){let e=0;const n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}(n),n})}function o9(t){return ke(t)||yn(t)}function a9(t){return null!==t}function Ci(t){return os(()=>({type:t.type,bootstrap:t.bootstrap||Fe,declarations:t.declarations||Fe,imports:t.imports||Fe,exports:t.exports||Fe,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function n1(t,e){if(null==t)return Ii;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}function zn(t){return os(()=>{const e=r1(t);return i1(e),e})}function Mn(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function ke(t){return t[Ep]||null}function yn(t){return t[Wv]||null}function Gn(t){return t[qv]||null}function wr(t,e){const n=t[Wk]||null;if(!n&&!0===e)throw new Error(`Type ${Zt(t)} does not have '\u0275mod' property.`);return n}function r1(t){const e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Ii,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||Fe,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:n1(t.inputs,e),outputs:n1(t.outputs)}}function i1(t){t.features?.forEach(e=>e(t))}function Tp(t,e){if(!t)return null;const n=e?Gn:o9;return()=>("function"==typeof t?t():t).map(r=>n(r)).filter(a9)}const It=0,G=1,me=2,ft=3,si=4,Qu=5,kn=6,Cc=7,Rt=8,eo=9,Ec=10,de=11,Xu=12,s1=13,Tc=14,Ot=15,Ju=16,Dc=17,Ei=18,ed=19,o1=20,to=21,cs=22,td=23,nd=24,Ce=25,Yv=1,a1=2,Ti=7,Sc=9,_n=11;function ir(t){return Array.isArray(t)&&"object"==typeof t[Yv]}function Wn(t){return Array.isArray(t)&&!0===t[Yv]}function Zv(t){return 0!=(4&t.flags)}function ea(t){return t.componentOffset>-1}function Sp(t){return 1==(1&t.flags)}function oi(t){return!!t.template}function Qv(t){return 0!=(512&t[me])}function ta(t,e){return t.hasOwnProperty(as)?t[as]:null}let vn=null,xp=!1;function Ur(t){const e=vn;return vn=t,e}const u1={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function h1(t){if(!id(t)||t.dirty){if(!t.producerMustRecompute(t)&&!g1(t))return void(t.dirty=!1);t.producerRecomputeValue(t),t.dirty=!1}}function p1(t){t.dirty=!0,function f1(t){if(void 0===t.liveConsumerNode)return;const e=xp;xp=!0;try{for(const n of t.liveConsumerNode)n.dirty||p1(n)}finally{xp=e}}(t),t.consumerMarkedDirty?.(t)}function Jv(t){return t&&(t.nextProducerIndex=0),Ur(t)}function eb(t,e){if(Ur(e),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(id(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)Ap(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function g1(t){xc(t);for(let e=0;e<t.producerNode.length;e++){const n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(h1(n),r!==n.version))return!0}return!1}function m1(t){if(xc(t),id(t))for(let e=0;e<t.producerNode.length;e++)Ap(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Ap(t,e){if(function _1(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}(t),xc(t),1===t.liveConsumerNode.length)for(let r=0;r<t.producerNode.length;r++)Ap(t.producerNode[r],t.producerIndexOfThis[r]);const n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){const r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];xc(i),i.producerIndexOfThis[r]=e}}function id(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function xc(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}let v1=null;const C1=()=>{},C9=(()=>({...u1,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule(t.ref)},hasRun:!1,cleanupFn:C1}))();class E9{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function na(){return E1}function E1(t){return t.type.prototype.ngOnChanges&&(t.setInput=D9),T9}function T9(){const t=D1(this),e=t?.current;if(e){const n=t.previous;if(n===Ii)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function D9(t,e,n,r){const i=this.declaredInputs[n],s=D1(t)||function S9(t,e){return t[T1]=e}(t,{previous:Ii,current:null}),o=s.current||(s.current={}),a=s.previous,c=a[i];o[i]=new E9(c&&c.currentValue,e,a===Ii),t[r]=e}na.ngInherit=!0;const T1="__ngSimpleChanges__";function D1(t){return t[T1]||null}const Di=function(t,e,n){};function tt(t){for(;Array.isArray(t);)t=t[It];return t}function Mp(t,e){return tt(e[t])}function sr(t,e){return tt(e[t.index])}function A1(t,e){return t.data[e]}function Ac(t,e){return t[e]}function Ir(t,e){const n=e[t];return ir(n)?n:n[It]}function ro(t,e){return null==e?null:t[e]}function M1(t){t[Dc]=0}function R9(t){1024&t[me]||(t[me]|=1024,P1(t,1))}function k1(t){1024&t[me]&&(t[me]&=-1025,P1(t,-1))}function P1(t,e){let n=t[ft];if(null===n)return;n[Qu]+=e;let r=n;for(n=n[ft];null!==n&&(1===e&&1===r[Qu]||-1===e&&0===r[Qu]);)n[Qu]+=e,r=n,n=n[ft]}const oe={lFrame:H1(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function N1(){return oe.bindingsEnabled}function A(){return oe.lFrame.lView}function Pe(){return oe.lFrame.tView}function Ze(t){return oe.lFrame.contextLView=t,t[Rt]}function Qe(t){return oe.lFrame.contextLView=null,t}function bn(){let t=L1();for(;null!==t&&64===t.type;)t=t.parent;return t}function L1(){return oe.lFrame.currentTNode}function Si(t,e){const n=oe.lFrame;n.currentTNode=t,n.isParent=e}function sb(){return oe.lFrame.isParent}function qn(){const t=oe.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function ls(){return oe.lFrame.bindingIndex}function kc(){return oe.lFrame.bindingIndex++}function us(t){const e=oe.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function G9(t,e){const n=oe.lFrame;n.bindingIndex=n.bindingRootIndex=t,ab(e)}function ab(t){oe.lFrame.currentDirectiveIndex=t}function U1(){return oe.lFrame.currentQueryIndex}function lb(t){oe.lFrame.currentQueryIndex=t}function q9(t){const e=t[G];return 2===e.type?e.declTNode:1===e.type?t[kn]:null}function j1(t,e,n){if(n&Ie.SkipSelf){let i=e,s=t;for(;!(i=i.parent,null!==i||n&Ie.Host||(i=q9(s),null===i||(s=s[Tc],10&i.type))););if(null===i)return!1;e=i,t=s}const r=oe.lFrame=$1();return r.currentTNode=e,r.lView=t,!0}function ub(t){const e=$1(),n=t[G];oe.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function $1(){const t=oe.lFrame,e=null===t?null:t.child;return null===e?H1(t):e}function H1(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function z1(){const t=oe.lFrame;return oe.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const G1=z1;function db(){const t=z1();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Kn(){return oe.lFrame.selectedIndex}function ra(t){oe.lFrame.selectedIndex=t}let q1=!0;function kp(){return q1}function io(t){q1=t}function Pp(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:u}=s;o&&(t.contentHooks??=[]).push(-n,o),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),c&&(t.viewHooks??=[]).push(-n,c),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),null!=u&&(t.destroyHooks??=[]).push(n,u)}}function Rp(t,e,n){K1(t,e,3,n)}function Op(t,e,n,r){(3&t[me])===n&&K1(t,e,n,r)}function hb(t,e){let n=t[me];(3&n)===e&&(n&=8191,n+=1,t[me]=n)}function K1(t,e,n,r){const s=r??-1,o=e.length-1;let a=0;for(let c=void 0!==r?65535&t[Dc]:0;c<o;c++)if("number"==typeof e[c+1]){if(a=e[c],null!=r&&a>=r)break}else e[c]<0&&(t[Dc]+=65536),(a<s||-1==s)&&(tW(t,n,e,c),t[Dc]=(4294901760&t[Dc])+c+2),c++}function Y1(t,e){Di(4,t,e);const n=Ur(null);try{e.call(t)}finally{Ur(n),Di(5,t,e)}}function tW(t,e,n,r){const i=n[r]<0,s=n[r+1],a=t[i?-n[r]:n[r]];i?t[me]>>13<t[Dc]>>16&&(3&t[me])===e&&(t[me]+=8192,Y1(a,s)):Y1(a,s)}const Pc=-1;class od{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function pb(t){return t!==Pc}function ad(t){return 32767&t}function cd(t,e){let n=function sW(t){return t>>16}(t),r=e;for(;n>0;)r=r[Tc],n--;return r}let gb=!0;function Np(t){const e=gb;return gb=t,e}const Z1=255,Q1=5;let oW=0;const xi={};function Lp(t,e){const n=X1(t,e);if(-1!==n)return n;const r=e[G];r.firstCreatePass&&(t.injectorIndex=e.length,mb(r.data,t),mb(e,null),mb(r.blueprint,null));const i=Fp(t,e),s=t.injectorIndex;if(pb(i)){const o=ad(i),a=cd(i,e),c=a[G].data;for(let l=0;l<8;l++)e[s+l]=a[o+l]|c[o+l]}return e[s+8]=i,s}function mb(t,e){t.push(0,0,0,0,0,0,0,0,e)}function X1(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function Fp(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){if(r=oP(i),null===r)return Pc;if(n++,i=i[Tc],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return Pc}function yb(t,e,n){!function aW(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Yu)&&(r=n[Yu]),null==r&&(r=n[Yu]=oW++);const i=r&Z1;e.data[t+(i>>Q1)]|=1<<i}(t,e,n)}function J1(t,e,n){if(n&Ie.Optional||void 0!==t)return t;Fv()}function eP(t,e,n,r){if(n&Ie.Optional&&void 0===r&&(r=null),!(n&(Ie.Self|Ie.Host))){const i=t[eo],s=rr(void 0);try{return i?i.get(e,r,n&Ie.Optional):$k(e,r,n&Ie.Optional)}finally{rr(s)}}return J1(r,0,n)}function tP(t,e,n,r=Ie.Default,i){if(null!==t){if(2048&e[me]&&!(r&Ie.Self)){const o=function fW(t,e,n,r,i){let s=t,o=e;for(;null!==s&&null!==o&&2048&o[me]&&!(512&o[me]);){const a=nP(s,o,n,r|Ie.Self,xi);if(a!==xi)return a;let c=s.parent;if(!c){const l=o[o1];if(l){const u=l.get(n,xi,r);if(u!==xi)return u}c=oP(o),o=o[Tc]}s=c}return i}(t,e,n,r,xi);if(o!==xi)return o}const s=nP(t,e,n,r,xi);if(s!==xi)return s}return eP(e,n,r,i)}function nP(t,e,n,r,i){const s=function uW(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(Yu)?t[Yu]:void 0;return"number"==typeof e?e>=0?e&Z1:hW:e}(n);if("function"==typeof s){if(!j1(e,t,r))return r&Ie.Host?J1(i,0,r):eP(e,n,r,i);try{let o;if(o=s(r),null!=o||r&Ie.Optional)return o;Fv()}finally{G1()}}else if("number"==typeof s){let o=null,a=X1(t,e),c=Pc,l=r&Ie.Host?e[Ot][kn]:null;for((-1===a||r&Ie.SkipSelf)&&(c=-1===a?Fp(t,e):e[a+8],c!==Pc&&iP(r,!1)?(o=e[G],a=ad(c),e=cd(c,e)):a=-1);-1!==a;){const u=e[G];if(rP(s,a,u.data)){const d=lW(a,e,n,o,r,l);if(d!==xi)return d}c=e[a+8],c!==Pc&&iP(r,e[G].data[a+8]===l)&&rP(s,a,e)?(o=u,a=ad(c),e=cd(c,e)):a=-1}}return i}function lW(t,e,n,r,i,s){const o=e[G],a=o.data[t+8],u=Bp(a,o,n,null==r?ea(a)&&gb:r!=o&&0!=(3&a.type),i&Ie.Host&&s===a);return null!==u?ia(e,o,u,a):xi}function Bp(t,e,n,r,i){const s=t.providerIndexes,o=e.data,a=1048575&s,c=t.directiveStart,u=s>>20,h=i?a+u:t.directiveEnd;for(let f=r?a:a+u;f<h;f++){const p=o[f];if(f<c&&n===p||f>=c&&p.type===n)return f}if(i){const f=o[c];if(f&&oi(f)&&f.type===n)return c}return null}function ia(t,e,n,r){let i=t[n];const s=e.data;if(function nW(t){return t instanceof od}(i)){const o=i;o.resolving&&function kG(t,e){const n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new L(-200,`Circular dependency in DI detected for ${t}${n}`)}(function Ue(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():ue(t)}(s[n]));const a=Np(o.canSeeViewProviders);o.resolving=!0;const l=o.injectImpl?rr(o.injectImpl):null;j1(t,r,Ie.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&function eW(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=E1(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}(n,s[n],e)}finally{null!==l&&rr(l),Np(a),o.resolving=!1,G1()}}return i}function rP(t,e,n){return!!(n[e+(t>>Q1)]&1<<t)}function iP(t,e){return!(t&Ie.Self||t&Ie.Host&&e)}class Yn{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return tP(this._tNode,this._lView,e,Ip(r),n)}}function hW(){return new Yn(bn(),A())}function _b(t){return Nv(t)?()=>{const e=_b(ce(t));return e&&e()}:ta(t)}function oP(t){const e=t[G],n=e.type;return 2===n?e.declTNode:1===n?t[kn]:null}const Oc="__parameters__";function Lc(t,e,n){return os(()=>{const r=function vb(t){return function(...n){if(t){const r=t(...n);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(c,l,u){const d=c.hasOwnProperty(Oc)?c[Oc]:Object.defineProperty(c,Oc,{value:[]})[Oc];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(o),c}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}function Bc(t,e){t.forEach(n=>Array.isArray(n)?Bc(n,e):e(n))}function cP(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Up(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function Cr(t,e,n){let r=Vc(t,e);return r>=0?t[1|r]=n:(r=~r,function bW(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function bb(t,e){const n=Vc(t,e);if(n>=0)return t[1|n]}function Vc(t,e){return function lP(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){const s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}(t,e,1)}const or=Ku(Lc("Optional"),8),$p=Ku(Lc("SkipSelf"),4);function qp(t){return 128==(128&t.flags)}var so=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(so||{});const Tb=new Map;let zW=0;const Sb="__ngContext__";function Pn(t,e){ir(e)?(t[Sb]=e[ed],function WW(t){Tb.set(t[ed],t)}(e)):t[Sb]=e}let xb;function Ab(t,e){return xb(t,e)}function pd(t){const e=t[ft];return Wn(e)?e[ft]:e}function AP(t){return kP(t[Xu])}function MP(t){return kP(t[si])}function kP(t){for(;null!==t&&!Wn(t);)t=t[si];return t}function $c(t,e,n,r,i){if(null!=r){let s,o=!1;Wn(r)?s=r:ir(r)&&(o=!0,r=r[It]);const a=tt(r);0===t&&null!==n?null==i?NP(e,n,a):sa(e,n,a,i||null,!0):1===t&&null!==n?sa(e,n,a,i||null,!0):2===t?function eg(t,e,n){const r=Xp(t,e);r&&function dq(t,e,n,r){t.removeChild(e,n,r)}(t,r,e,n)}(e,a,o):3===t&&e.destroyNode(a),null!=s&&function pq(t,e,n,r,i){const s=n[Ti];s!==tt(n)&&$c(e,t,r,s,i);for(let a=_n;a<n.length;a++){const c=n[a];md(c[G],c,t,e,r,s)}}(e,t,s,n,i)}}function Zp(t,e,n){return t.createElement(e,n)}function RP(t,e){const n=t[Sc],r=n.indexOf(e);k1(e),n.splice(r,1)}function Qp(t,e){if(t.length<=_n)return;const n=_n+e,r=t[n];if(r){const i=r[Ju];null!==i&&i!==t&&RP(i,r),e>0&&(t[n-1][si]=r[si]);const s=Up(t,_n+e);!function rq(t,e){md(t,e,e[de],2,null,null),e[It]=null,e[kn]=null}(r[G],r);const o=s[Ei];null!==o&&o.detachView(s[G]),r[ft]=null,r[si]=null,r[me]&=-129}return r}function kb(t,e){if(!(256&e[me])){const n=e[de];e[td]&&m1(e[td]),e[nd]&&m1(e[nd]),n.destroyNode&&md(t,e,n,3,null,null),function oq(t){let e=t[Xu];if(!e)return Pb(t[G],t);for(;e;){let n=null;if(ir(e))n=e[Xu];else{const r=e[_n];r&&(n=r)}if(!n){for(;e&&!e[si]&&e!==t;)ir(e)&&Pb(e[G],e),e=e[ft];null===e&&(e=t),ir(e)&&Pb(e[G],e),n=e&&e[si]}e=n}}(e)}}function Pb(t,e){if(!(256&e[me])){e[me]&=-129,e[me]|=256,function uq(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const i=e[n[r]];if(!(i instanceof od)){const s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],c=s[o+1];Di(4,a,c);try{c.call(a)}finally{Di(5,a,c)}}else{Di(4,i,s);try{s.call(i)}finally{Di(5,i,s)}}}}}(t,e),function lq(t,e){const n=t.cleanup,r=e[Cc];if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const o=n[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else n[s].call(r[n[s+1]]);null!==r&&(e[Cc]=null);const i=e[to];if(null!==i){e[to]=null;for(let s=0;s<i.length;s++)(0,i[s])()}}(t,e),1===e[G].type&&e[de].destroy();const n=e[Ju];if(null!==n&&Wn(e[ft])){n!==e[ft]&&RP(n,e);const r=e[Ei];null!==r&&r.detachView(t)}!function qW(t){Tb.delete(t[ed])}(e)}}function Rb(t,e,n){return function OP(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[It];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:s}=t.data[r.directiveStart+i];if(s===ri.None||s===ri.Emulated)return null}return sr(r,n)}}(t,e.parent,n)}function sa(t,e,n,r,i){t.insertBefore(e,n,r,i)}function NP(t,e,n){t.appendChild(e,n)}function LP(t,e,n,r,i){null!==r?sa(t,e,n,r,i):NP(t,e,n)}function Xp(t,e){return t.parentNode(e)}let Ob,Bb,VP=function BP(t,e,n){return 40&t.type?sr(t,n):null};function Jp(t,e,n,r){const i=Rb(t,r,e),s=e[de],a=function FP(t,e,n){return VP(t,e,n)}(r.parent||e[kn],r,e);if(null!=i)if(Array.isArray(n))for(let c=0;c<n.length;c++)LP(s,i,n[c],a,!1);else LP(s,i,n,a,!1);void 0!==Ob&&Ob(s,r,e,n,i)}function gd(t,e){if(null!==e){const n=e.type;if(3&n)return sr(e,t);if(4&n)return Nb(-1,t[e.index]);if(8&n){const r=e.child;if(null!==r)return gd(t,r);{const i=t[e.index];return Wn(i)?Nb(-1,i):tt(i)}}if(32&n)return Ab(e,t)()||tt(t[e.index]);{const r=jP(t,e);return null!==r?Array.isArray(r)?r[0]:gd(pd(t[Ot]),r):gd(t,e.next)}}return null}function jP(t,e){return null!==e?t[Ot][kn].projection[e.projection]:null}function Nb(t,e){const n=_n+t+1;if(n<e.length){const r=e[n],i=r[G].firstChild;if(null!==i)return gd(r,i)}return e[Ti]}function Lb(t,e,n,r,i,s,o){for(;null!=n;){const a=r[n.index],c=n.type;if(o&&0===e&&(a&&Pn(tt(a),r),n.flags|=2),32!=(32&n.flags))if(8&c)Lb(t,e,n.child,r,i,s,!1),$c(e,t,i,a,s);else if(32&c){const l=Ab(n,r);let u;for(;u=l();)$c(e,t,i,u,s);$c(e,t,i,a,s)}else 16&c?HP(t,e,r,n,i,s):$c(e,t,i,a,s);n=o?n.projectionNext:n.next}}function md(t,e,n,r,i,s){Lb(n,r,t.firstChild,e,i,s,!1)}function HP(t,e,n,r,i,s){const o=n[Ot],c=o[kn].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++)$c(e,t,i,c[l],s);else{let l=c;const u=o[ft];qp(r)&&(l.flags|=128),Lb(t,e,l,u,i,s,!0)}}function zP(t,e,n){""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function GP(t,e,n){const{mergedAttrs:r,classes:i,styles:s}=n;null!==r&&Kv(t,e,r),null!==i&&zP(t,e,i),null!==s&&function mq(t,e,n){t.setAttribute(e,"style",n)}(t,e,s)}class YP{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Bk})`}}function oo(t){return t instanceof YP?t.changingThisBreaksApplicationSecurity:t}const Mq=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var Gc=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Gc||{});function Wc(t){const e=function vd(){const t=A();return t&&t[Ec].sanitizer}();return e?e.sanitize(Gc.URL,t)||"":function yd(t,e){const n=function Dq(t){return t instanceof YP&&t.getTypeName()||null}(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${Bk})`)}return n===e}(t,"URL")?oo(t):function Ub(t){return(t=String(t)).match(Mq)?t:"unsafe:"+t}(ue(t))}const bd=new Y("ENVIRONMENT_INITIALIZER"),iR=new Y("INJECTOR",-1),sR=new Y("INJECTOR_DEF_TYPES");class zb{get(e,n=qu){if(n===qu){const r=new Error(`NullInjectorError: No provider for ${Zt(e)}!`);throw r.name="NullInjectorError",r}return n}}function Hq(...t){return{\u0275providers:oR(0,t),\u0275fromNgModule:!0}}function oR(t,...e){const n=[],r=new Set;let i;const s=o=>{n.push(o)};return Bc(e,o=>{const a=o;ig(a,s,[],r)&&(i||=[],i.push(a))}),void 0!==i&&aR(i,s),n}function aR(t,e){for(let n=0;n<t.length;n++){const{ngModule:r,providers:i}=t[n];Wb(i,s=>{e(s,r)})}}function ig(t,e,n,r){if(!(t=ce(t)))return!1;let i=null,s=vp(t);const o=!s&&ke(t);if(s||o){if(o&&!o.standalone)return!1;i=t}else{const c=t.ngModule;if(s=vp(c),!s)return!1;i=c}const a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){const c="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const l of c)ig(l,e,n,r)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let l;r.add(i);try{Bc(s.imports,u=>{ig(u,e,n,r)&&(l||=[],l.push(u))})}finally{}void 0!==l&&aR(l,e)}if(!a){const l=ta(i)||(()=>new i);e({provide:i,useFactory:l,deps:Fe},i),e({provide:sR,useValue:i,multi:!0},i),e({provide:bd,useValue:()=>W(i),multi:!0},i)}const c=s.providers;if(null!=c&&!a){const l=t;Wb(c,u=>{e(u,l)})}}}return i!==t&&void 0!==t.providers}function Wb(t,e){for(let n of t)Lv(n)&&(n=n.\u0275providers),Array.isArray(n)?Wb(n,e):e(n)}const zq=je({provide:String,useValue:je});function qb(t){return null!==t&&"object"==typeof t&&zq in t}function oa(t){return"function"==typeof t}const Kb=new Y("Set Injector scope."),sg={},Wq={};let Yb;function og(){return void 0===Yb&&(Yb=new zb),Yb}class Er{}class qc extends Er{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Qb(e,o=>this.processProvider(o)),this.records.set(iR,Kc(void 0,this)),i.has("environment")&&this.records.set(Er,Kc(void 0,this));const s=this.records.get(Kb);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(sR.multi,Fe,Ie.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const n of this._ngOnDestroyHooks)n.ngOnDestroy();const e=this._onDestroyHooks;this._onDestroyHooks=[];for(const n of e)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const n=Js(this),r=rr(void 0);try{return e()}finally{Js(n),rr(r)}}get(e,n=qu,r=Ie.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(qk))return e[qk](this);r=Ip(r);const s=Js(this),o=rr(void 0);try{if(!(r&Ie.SkipSelf)){let c=this.records.get(e);if(void 0===c){const l=function Qq(t){return"function"==typeof t||"object"==typeof t&&t instanceof Y}(e)&&_p(e);c=l&&this.injectableDefInScope(l)?Kc(Zb(e),sg):null,this.records.set(e,c)}if(null!=c)return this.hydrate(e,c)}return(r&Ie.Self?og():this.parent).get(e,n=r&Ie.Optional&&n===qu?null:n)}catch(a){if("NullInjectorError"===a.name){if((a[wp]=a[wp]||[]).unshift(Zt(e)),s)throw a;return function WG(t,e,n,r){const i=t[wp];throw e[zk]&&i.unshift(e[zk]),t.message=function qG(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let i=Zt(e);if(Array.isArray(e))i=e.map(Zt).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):Zt(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(jG,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t[wp]=null,t}(a,e,"R3InjectorError",this.source)}throw a}finally{rr(o),Js(s)}}resolveInjectorInitializers(){const e=Js(this),n=rr(void 0);try{const i=this.get(bd.multi,Fe,Ie.Self);for(const s of i)s()}finally{Js(e),rr(n)}}toString(){const e=[],n=this.records;for(const r of n.keys())e.push(Zt(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new L(205,!1)}processProvider(e){let n=oa(e=ce(e))?e:ce(e&&e.provide);const r=function Kq(t){return qb(t)?Kc(void 0,t.useValue):Kc(function uR(t,e,n){let r;if(oa(t)){const i=ce(t);return ta(i)||Zb(i)}if(qb(t))r=()=>ce(t.useValue);else if(function lR(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...Gv(t.deps||[]));else if(function cR(t){return!(!t||!t.useExisting)}(t))r=()=>W(ce(t.useExisting));else{const i=ce(t&&(t.useClass||t.provide));if(!function Yq(t){return!!t.deps}(t))return ta(i)||Zb(i);r=()=>new i(...Gv(t.deps))}return r}(t),sg)}(e);if(oa(e)||!0!==e.multi)this.records.get(n);else{let i=this.records.get(n);i||(i=Kc(void 0,sg,!0),i.factory=()=>Gv(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){return n.value===sg&&(n.value=Wq,n.value=n.factory()),"object"==typeof n.value&&n.value&&function Zq(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;const n=ce(e.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){const n=this._onDestroyHooks.indexOf(e);-1!==n&&this._onDestroyHooks.splice(n,1)}}function Zb(t){const e=_p(t),n=null!==e?e.factory:ta(t);if(null!==n)return n;if(t instanceof Y)throw new L(204,!1);if(t instanceof Function)return function qq(t){const e=t.length;if(e>0)throw function dd(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}(e,"?"),new L(204,!1);const n=function FG(t){return t&&(t[bp]||t[Uk])||null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new L(204,!1)}function Kc(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function Qb(t,e){for(const n of t)Array.isArray(n)?Qb(n,e):n&&Lv(n)?Qb(n.\u0275providers,e):e(n)}const ag=new Y("AppId",{providedIn:"root",factory:()=>Xq}),Xq="ng",dR=new Y("Platform Initializer"),hs=new Y("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),hR=new Y("CSP nonce",{providedIn:"root",factory:()=>function zc(){if(void 0!==Bb)return Bb;if(typeof document<"u")return document;throw new L(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let fR=(t,e,n)=>null;function sw(t,e,n=!1){return fR(t,e,n)}class c8{}class mR{}class u8{resolveComponentFactory(e){throw function l8(t){const e=Error(`No component factory found for ${Zt(t)}.`);return e.ngComponent=t,e}(e)}}let fg=(()=>{class t{static#e=this.NULL=new u8}return t})();function d8(){return Qc(bn(),A())}function Qc(t,e){return new ao(sr(t,e))}let ao=(()=>{class t{constructor(n){this.nativeElement=n}static#e=this.__NG_ELEMENT_ID__=d8}return t})();function h8(t){return t instanceof ao?t.nativeElement:t}class _R{}let pg=(()=>{class t{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function f8(){const t=A(),n=Ir(bn().index,t);return(ir(n)?n:t)[de]}()}return t})(),p8=(()=>{class t{static#e=this.\u0275prov=X({token:t,providedIn:"root",factory:()=>null})}return t})();class Cd{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const vR=new Cd("16.2.12"),cw={};function CR(t,e=null,n=null,r){const i=ER(t,e,n,r);return i.resolveInjectorInitializers(),i}function ER(t,e=null,n=null,r,i=new Set){const s=[n||Fe,Hq(t)];return r=r||("object"==typeof t?void 0:Zt(t)),new qc(s,e||og(),r||null,i)}let cr=(()=>{class t{static#e=this.THROW_IF_NOT_FOUND=qu;static#t=this.NULL=new zb;static create(n,r){if(Array.isArray(n))return CR({name:""},r,n,"");{const i=n.name??"";return CR({name:i},n.parent,n.providers,i)}}static#n=this.\u0275prov=X({token:t,providedIn:"any",factory:()=>W(iR)});static#r=this.__NG_ELEMENT_ID__=-1}return t})();function uw(t){return t.ngOriginalError}class fs{constructor(){this._console=console}handleError(e){const n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&uw(e);for(;n&&uw(n);)n=uw(n);return n||null}}function hw(t){return e=>{setTimeout(t,void 0,e)}}const Xt=class w8 extends Ee{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&"object"==typeof e){const c=e;i=c.next?.bind(c),s=c.error?.bind(c),o=c.complete?.bind(c)}this.__isAsync&&(s=hw(s),i&&(i=hw(i)),o&&(o=hw(o)));const a=super.subscribe({next:i,error:s,complete:o});return e instanceof Yt&&e.add(a),a}};function DR(...t){}class $e{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Xt(!1),this.onMicrotaskEmpty=new Xt(!1),this.onStable=new Xt(!1),this.onError=new Xt(!1),typeof Zone>"u")throw new L(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function I8(){const t="function"==typeof et.requestAnimationFrame;let e=et[t?"requestAnimationFrame":"setTimeout"],n=et[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);const i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function T8(t){const e=()=>{!function E8(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(et,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,pw(t),t.isCheckStableRunning=!0,fw(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),pw(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{if(function S8(t){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0].data?.__ignore_ng_zone__}(a))return n.invokeTask(i,s,o,a);try{return SR(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||t.shouldCoalesceRunChangeDetection)&&e(),xR(t)}},onInvoke:(n,r,i,s,o,a,c)=>{try{return SR(t),n.invoke(i,s,o,a,c)}finally{t.shouldCoalesceRunChangeDetection&&e(),xR(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&("microTask"==s.change?(t._hasPendingMicrotasks=s.microTask,pw(t),fw(t)):"macroTask"==s.change&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!$e.isInAngularZone())throw new L(909,!1)}static assertNotInAngularZone(){if($e.isInAngularZone())throw new L(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,C8,DR,DR);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}}const C8={};function fw(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function pw(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function SR(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function xR(t){t._nesting--,fw(t)}class D8{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Xt,this.onMicrotaskEmpty=new Xt,this.onStable=new Xt,this.onError=new Xt}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}}const AR=new Y("",{providedIn:"root",factory:MR});function MR(){const t=K($e);let e=!0;return function SG(...t){const e=Wu(t),n=function bG(t,e){return"number"==typeof kv(t)?t.pop():e}(t,1/0),r=t;return r.length?1===r.length?Fr(r[0]):bc(n)(on(r,e)):wi}(new J(i=>{e=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{i.next(e),i.complete()})}),new J(i=>{let s;t.runOutsideAngular(()=>{s=t.onStable.subscribe(()=>{$e.assertNotInAngularZone(),queueMicrotask(()=>{!e&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(e=!0,i.next(!0))})})});const o=t.onUnstable.subscribe(()=>{$e.assertInAngularZone(),e&&(e=!1,t.runOutsideAngular(()=>{i.next(!1)}))});return()=>{s.unsubscribe(),o.unsubscribe()}}).pipe(Fk()))}function ps(t){return t instanceof Function?t():t}let gw=(()=>{class t{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=X({token:t,providedIn:"root",factory:()=>new t})}return t})();function Ed(t){for(;t;){t[me]|=64;const e=pd(t);if(Qv(t)&&!e)return t;t=e}return null}const NR=new Y("",{providedIn:"root",factory:()=>!1});let mg=null;function VR(t,e){return t[e]??$R()}function UR(t,e){const n=$R();n.producerNode?.length&&(t[e]=mg,n.lView=t,mg=jR())}const F8={...u1,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Ed(t.lView)},lView:null};function jR(){return Object.create(F8)}function $R(){return mg??=jR(),mg}const fe={};function k(t){HR(Pe(),A(),Kn()+t,!1)}function HR(t,e,n,r){if(!r)if(3==(3&e[me])){const s=t.preOrderCheckHooks;null!==s&&Rp(e,s,n)}else{const s=t.preOrderHooks;null!==s&&Op(e,s,0,n)}ra(n)}function $(t,e=Ie.Default){const n=A();return null===n?W(t,e):tP(bn(),n,ce(t),e)}function yg(t,e,n,r,i,s,o,a,c,l,u){const d=e.blueprint.slice();return d[It]=i,d[me]=140|r,(null!==l||t&&2048&t[me])&&(d[me]|=2048),M1(d),d[ft]=d[Tc]=t,d[Rt]=n,d[Ec]=o||t&&t[Ec],d[de]=a||t&&t[de],d[eo]=c||t&&t[eo]||null,d[kn]=s,d[ed]=function GW(){return zW++}(),d[cs]=u,d[o1]=l,d[Ot]=2==e.type?t[Ot]:d,d}function el(t,e,n,r,i){let s=t.data[e];if(null===s)s=function mw(t,e,n,r,i){const s=L1(),o=sb(),c=t.data[e]=function G8(t,e,n,r,i,s){let o=e?e.injectorIndex:-1,a=0;return function Mc(){return null!==oe.skipHydrationRootTNode}()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=c),null!==s&&(o?null==s.child&&null!==c.parent&&(s.child=c):null===s.next&&(s.next=c,c.prev=s)),c}(t,e,n,r,i),function z9(){return oe.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const o=function sd(){const t=oe.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return Si(s,!0),s}function Td(t,e,n,r){if(0===n)return-1;const i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function GR(t,e,n,r,i){const s=VR(e,td),o=Kn(),a=2&r;try{ra(-1),a&&e.length>Ce&&HR(t,e,Ce,!1),Di(a?2:0,i);const l=a?s:null,u=Jv(l);try{null!==l&&(l.dirty=!1),n(r,i)}finally{eb(l,u)}}finally{a&&null===e[td]&&UR(e,td),ra(o),Di(a?3:1,i)}}function yw(t,e,n){if(Zv(e)){const r=Ur(null);try{const s=e.directiveEnd;for(let o=e.directiveStart;o<s;o++){const a=t.data[o];a.contentQueries&&a.contentQueries(1,n[o],o)}}finally{Ur(r)}}}function _w(t,e,n){N1()&&(function X8(t,e,n,r){const i=n.directiveStart,s=n.directiveEnd;ea(n)&&function s7(t,e,n){const r=sr(e,t),i=WR(n);let o=16;n.signals?o=4096:n.onPush&&(o=64);const a=_g(t,yg(t,i,null,o,r,e,null,t[Ec].rendererFactory.createRenderer(r,n),null,null,null));t[e.index]=a}(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||Lp(n,e),Pn(r,e);const o=n.initialInputs;for(let a=i;a<s;a++){const c=t.data[a],l=ia(e,t,a,n);Pn(l,e),null!==o&&o7(0,a-i,l,c,0,o),oi(c)&&(Ir(n.index,e)[Rt]=ia(e,t,a,n))}}(t,e,n,sr(n,e)),64==(64&n.flags)&&QR(t,e,n))}function vw(t,e,n=sr){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(e,t):t[o];t[i++]=a}}}function WR(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=bw(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function bw(t,e,n,r,i,s,o,a,c,l,u){const d=Ce+r,h=d+i,f=function V8(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:fe);return n}(d,h),p="function"==typeof l?l():l;return f[G]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:c,consts:p,incompleteFirstPass:!1,ssrId:u}}let qR=t=>null;function KR(t,e,n,r){for(let i in t)if(t.hasOwnProperty(i)){n=null===n?{}:n;const s=t[i];null===r?YR(n,e,i,s):r.hasOwnProperty(i)&&YR(n,e,r[i],s)}return n}function YR(t,e,n,r){t.hasOwnProperty(n)?t[n].push(e,r):t[n]=[e,r]}function ww(t,e,n,r){if(N1()){const i=null===r?null:{"":-1},s=function e7(t,e){const n=t.directiveRegistry;let r=null,i=null;if(n)for(let s=0;s<n.length;s++){const o=n[s];if(e1(e,o.selectors,!1))if(r||(r=[]),oi(o))if(null!==o.findHostDirectiveDefs){const a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o),Iw(t,e,a.length)}else r.unshift(o),Iw(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return null===r?null:[r,i]}(t,n);let o,a;null===s?o=a=null:[o,a]=s,null!==o&&ZR(t,e,n,o,i,a),i&&function t7(t,e,n){if(e){const r=t.localNames=[];for(let i=0;i<e.length;i+=2){const s=n[e[i+1]];if(null==s)throw new L(-301,!1);r.push(e[i],s)}}}(n,r,i)}n.mergedAttrs=Zu(n.mergedAttrs,n.attrs)}function ZR(t,e,n,r,i,s){for(let l=0;l<r.length;l++)yb(Lp(n,e),t,r[l].type);!function r7(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}(n,t.data.length,r.length);for(let l=0;l<r.length;l++){const u=r[l];u.providersResolver&&u.providersResolver(u)}let o=!1,a=!1,c=Td(t,e,r.length,null);for(let l=0;l<r.length;l++){const u=r[l];n.mergedAttrs=Zu(n.mergedAttrs,u.hostAttrs),i7(t,n,e,c,u),n7(c,u,i),null!==u.contentQueries&&(n.flags|=4),(null!==u.hostBindings||null!==u.hostAttrs||0!==u.hostVars)&&(n.flags|=64);const d=u.type.prototype;!o&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),c++}!function W8(t,e,n){const i=e.directiveEnd,s=t.data,o=e.attrs,a=[];let c=null,l=null;for(let u=e.directiveStart;u<i;u++){const d=s[u],h=n?n.get(d):null,p=h?h.outputs:null;c=KR(d.inputs,u,c,h?h.inputs:null),l=KR(d.outputs,u,l,p);const g=null===c||null===o||Jk(e)?null:a7(c,u,o);a.push(g)}null!==c&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=l}(t,n,s)}function QR(t,e,n){const r=n.directiveStart,i=n.directiveEnd,s=n.index,o=function W9(){return oe.lFrame.currentDirectiveIndex}();try{ra(s);for(let a=r;a<i;a++){const c=t.data[a],l=e[a];ab(a),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&J8(c,l)}}finally{ra(-1),ab(o)}}function J8(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function Iw(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function n7(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;oi(e)&&(n[""]=t)}}function i7(t,e,n,r,i){t.data[r]=i;const s=i.factory||(i.factory=ta(i.type)),o=new od(s,oi(i),$);t.blueprint[r]=o,n[r]=o,function Z8(t,e,n,r,i){const s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;null===o&&(o=t.hostBindingOpCodes=[]);const a=~e.index;(function Q8(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(o)!=a&&o.push(a),o.push(n,r,s)}}(t,e,r,Td(t,n,i.hostVars,fe),i)}function o7(t,e,n,r,i,s){const o=s[e];if(null!==o)for(let a=0;a<o.length;)XR(r,n,o[a++],o[a++],o[a++])}function XR(t,e,n,r,i){const s=Ur(null);try{const o=t.inputTransforms;null!==o&&o.hasOwnProperty(r)&&(i=o[r].call(e,i)),null!==t.setInput?t.setInput(e,i,n,r):e[r]=i}finally{Ur(s)}}function a7(t,e,n){let r=null,i=0;for(;i<n.length;){const s=n[i];if(0!==s)if(5!==s){if("number"==typeof s)break;if(t.hasOwnProperty(s)){null===r&&(r=[]);const o=t[s];for(let a=0;a<o.length;a+=2)if(o[a]===e){r.push(s,o[a+1],n[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function JR(t,e,n,r){return[t,!0,!1,e,null,0,r,n,null,null,null]}function eO(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const s=n[r+1];if(-1!==s){const o=t.data[s];lb(n[r]),o.contentQueries(2,e[s],s)}}}function _g(t,e){return t[Xu]?t[s1][si]=e:t[Xu]=e,t[s1]=e,e}function Ew(t,e,n){lb(0);const r=Ur(null);try{e(t,n)}finally{Ur(r)}}function tO(t){return t[Cc]||(t[Cc]=[])}function nO(t){return t.cleanup||(t.cleanup=[])}function iO(t,e){const n=t[eo],r=n?n.get(fs,null):null;r&&r.handleError(e)}function Tw(t,e,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++];XR(t.data[o],e[o],r,a,i)}}function gs(t,e,n){const r=Mp(e,t);!function PP(t,e,n){t.setValue(e,n)}(t[de],r,n)}function c7(t,e){const n=Ir(e,t),r=n[G];!function l7(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n);const i=n[It];null!==i&&null===n[cs]&&(n[cs]=sw(i,n[eo])),Dw(r,n,n[Rt])}function Dw(t,e,n){ub(e);try{const r=t.viewQuery;null!==r&&Ew(1,r,n);const i=t.template;null!==i&&GR(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&eO(t,e),t.staticViewQueries&&Ew(2,t.viewQuery,n);const s=t.components;null!==s&&function u7(t,e){for(let n=0;n<e.length;n++)c7(t,e[n])}(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[me]&=-5,db()}}let sO=(()=>{class t{constructor(){this.all=new Set,this.queue=new Map}create(n,r,i){const s=typeof Zone>"u"?null:Zone.current,o=function I9(t,e,n){const r=Object.create(C9);n&&(r.consumerAllowSignalWrites=!0),r.fn=t,r.schedule=e;const i=o=>{r.cleanupFn=o};return r.ref={notify:()=>p1(r),run:()=>{if(r.dirty=!1,r.hasRun&&!g1(r))return;r.hasRun=!0;const o=Jv(r);try{r.cleanupFn(),r.cleanupFn=C1,r.fn(i)}finally{eb(r,o)}},cleanup:()=>r.cleanupFn()},r.ref}(n,l=>{this.all.has(l)&&this.queue.set(l,s)},i);let a;this.all.add(o),o.notify();const c=()=>{o.cleanup(),a?.(),this.all.delete(o),this.queue.delete(o)};return a=r?.onDestroy(c),{destroy:c}}flush(){if(0!==this.queue.size)for(const[n,r]of this.queue)this.queue.delete(n),r?r.run(()=>n.run()):n.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=X({token:t,providedIn:"root",factory:()=>new t})}return t})();function vg(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?i=Rv(i,a):2==s&&(r=Rv(r,a+": "+e[++o]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function Dd(t,e,n,r,i=!1){for(;null!==n;){const s=e[n.index];null!==s&&r.push(tt(s)),Wn(s)&&oO(s,r);const o=n.type;if(8&o)Dd(t,e,n.child,r);else if(32&o){const a=Ab(n,e);let c;for(;c=a();)r.push(c)}else if(16&o){const a=jP(e,n);if(Array.isArray(a))r.push(...a);else{const c=pd(e[Ot]);Dd(c[G],c,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function oO(t,e){for(let n=_n;n<t.length;n++){const r=t[n],i=r[G].firstChild;null!==i&&Dd(r[G],r,i,e)}t[Ti]!==t[It]&&e.push(t[Ti])}function bg(t,e,n,r=!0){const i=e[Ec],s=i.rendererFactory,o=i.afterRenderEventManager;s.begin?.(),o?.begin();try{aO(t,e,t.template,n)}catch(c){throw r&&iO(e,c),c}finally{s.end?.(),i.effectManager?.flush(),o?.end()}}function aO(t,e,n,r){const i=e[me];if(256!=(256&i)){e[Ec].effectManager?.flush(),ub(e);try{M1(e),function B1(t){return oe.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&GR(t,e,n,2,r);const o=3==(3&i);if(o){const l=t.preOrderCheckHooks;null!==l&&Rp(e,l,null)}else{const l=t.preOrderHooks;null!==l&&Op(e,l,0,null),hb(e,0)}if(function f7(t){for(let e=AP(t);null!==e;e=MP(e)){if(!e[a1])continue;const n=e[Sc];for(let r=0;r<n.length;r++){R9(n[r])}}}(e),cO(e,2),null!==t.contentQueries&&eO(t,e),o){const l=t.contentCheckHooks;null!==l&&Rp(e,l)}else{const l=t.contentHooks;null!==l&&Op(e,l,1),hb(e,1)}!function B8(t,e){const n=t.hostBindingOpCodes;if(null===n)return;const r=VR(e,nd);try{for(let i=0;i<n.length;i++){const s=n[i];if(s<0)ra(~s);else{const o=s,a=n[++i],c=n[++i];G9(a,o),r.dirty=!1;const l=Jv(r);try{c(2,e[o])}finally{eb(r,l)}}}}finally{null===e[nd]&&UR(e,nd),ra(-1)}}(t,e);const a=t.components;null!==a&&uO(e,a,0);const c=t.viewQuery;if(null!==c&&Ew(2,c,r),o){const l=t.viewCheckHooks;null!==l&&Rp(e,l)}else{const l=t.viewHooks;null!==l&&Op(e,l,2),hb(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),e[me]&=-73,k1(e)}finally{db()}}}function cO(t,e){for(let n=AP(t);null!==n;n=MP(n))for(let r=_n;r<n.length;r++)lO(n[r],e)}function p7(t,e,n){lO(Ir(e,t),n)}function lO(t,e){if(!function k9(t){return 128==(128&t[me])}(t))return;const n=t[G],r=t[me];if(80&r&&0===e||1024&r||2===e)aO(n,t,n.template,t[Rt]);else if(t[Qu]>0){cO(t,1);const i=n.components;null!==i&&uO(t,i,1)}}function uO(t,e,n){for(let r=0;r<e.length;r++)p7(t,e[r],n)}class Sd{get rootNodes(){const e=this._lView,n=e[G];return Dd(n,e,n.firstChild,[])}constructor(e,n){this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Rt]}set context(e){this._lView[Rt]=e}get destroyed(){return 256==(256&this._lView[me])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[ft];if(Wn(e)){const n=e[8],r=n?n.indexOf(this):-1;r>-1&&(Qp(e,r),Up(n,r))}this._attachedToViewContainer=!1}kb(this._lView[G],this._lView)}onDestroy(e){!function R1(t,e){if(256==(256&t[me]))throw new L(911,!1);null===t[to]&&(t[to]=[]),t[to].push(e)}(this._lView,e)}markForCheck(){Ed(this._cdRefInjectingView||this._lView)}detach(){this._lView[me]&=-129}reattach(){this._lView[me]|=128}detectChanges(){bg(this._lView[G],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new L(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function sq(t,e){md(t,e,e[de],2,null,null)}(this._lView[G],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new L(902,!1);this._appRef=e}}class g7 extends Sd{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;bg(e[G],e,e[Rt],!1)}checkNoChanges(){}get context(){return null}}class dO extends fg{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const n=ke(e);return new xd(n,this.ngModule)}}function hO(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}class y7{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=Ip(r);const i=this.injector.get(e,cw,r);return i!==cw||n===cw?i:this.parentInjector.get(e,n,r)}}class xd extends mR{get inputs(){const e=this.componentDef,n=e.inputTransforms,r=hO(e.inputs);if(null!==n)for(const i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return hO(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=function r9(t){return t.map(n9).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let s=(i=i||this.ngModule)instanceof Er?i:i?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new y7(e,s):e,a=o.get(_R,null);if(null===a)throw new L(407,!1);const d={rendererFactory:a,sanitizer:o.get(p8,null),effectManager:o.get(sO,null),afterRenderEventManager:o.get(gw,null)},h=a.createRenderer(null,this.componentDef),f=this.componentDef.selectors[0][0]||"div",p=r?function U8(t,e,n,r){const s=r.get(NR,!1)||n===ri.ShadowDom,o=t.selectRootElement(e,s);return function j8(t){qR(t)}(o),o}(h,r,this.componentDef.encapsulation,o):Zp(h,f,function m7(t){const e=t.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(f)),_=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let y=null;null!==p&&(y=sw(p,o,!0));const v=bw(0,null,null,1,0,null,null,null,null,null,null),I=yg(null,v,null,_,null,null,d,h,o,null,y);let w,T;ub(I);try{const O=this.componentDef;let P,q=null;O.findHostDirectiveDefs?(P=[],q=new Map,O.findHostDirectiveDefs(O,P,q),P.push(O)):P=[O];const pe=function v7(t,e){const n=t[G],r=Ce;return t[r]=e,el(n,r,2,"#host",null)}(I,p),ye=function b7(t,e,n,r,i,s,o){const a=i[G];!function w7(t,e,n,r){for(const i of t)e.mergedAttrs=Zu(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(vg(e,e.mergedAttrs,!0),null!==n&&GP(r,n,e))}(r,t,e,o);let c=null;null!==e&&(c=sw(e,i[eo]));const l=s.rendererFactory.createRenderer(e,n);let u=16;n.signals?u=4096:n.onPush&&(u=64);const d=yg(i,WR(n),null,u,i[t.index],t,s,l,null,null,c);return a.firstCreatePass&&Iw(a,t,r.length-1),_g(i,d),i[t.index]=d}(pe,p,O,P,I,d,h);T=A1(v,Ce),p&&function C7(t,e,n,r){if(r)Kv(t,n,["ng-version",vR.full]);else{const{attrs:i,classes:s}=function i9(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let s=t[r];if("string"==typeof s)2===i?""!==s&&e.push(s,t[++r]):8===i&&n.push(s);else{if(!ii(i))break;i=s}r++}return{attrs:e,classes:n}}(e.selectors[0]);i&&Kv(t,n,i),s&&s.length>0&&zP(t,n,s.join(" "))}}(h,O,p,r),void 0!==n&&function E7(t,e,n){const r=t.projection=[];for(let i=0;i<e.length;i++){const s=n[i];r.push(null!=s?Array.from(s):null)}}(T,this.ngContentSelectors,n),w=function I7(t,e,n,r,i,s){const o=bn(),a=i[G],c=sr(o,i);ZR(a,i,o,n,null,r);for(let u=0;u<n.length;u++)Pn(ia(i,a,o.directiveStart+u,o),i);QR(a,i,o),c&&Pn(c,i);const l=ia(i,a,o.directiveStart+o.componentOffset,o);if(t[Rt]=i[Rt]=l,null!==s)for(const u of s)u(l,e);return yw(a,o,t),l}(ye,O,P,q,I,[T7]),Dw(v,I,null)}finally{db()}return new _7(this.componentType,w,Qc(T,I),I,T)}}class _7 extends c8{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new g7(i),this.componentType=e}setInput(e,n){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;const s=this._rootLView;Tw(s[G],s,i,e,n),this.previousInputValues.set(e,n),Ed(Ir(this._tNode.index,s))}}get injector(){return new Yn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function T7(){const t=bn();Pp(A()[G],t)}function Ig(t){return!!Sw(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function Sw(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Mi(t,e,n){return t[e]=n}function Rn(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function aa(t,e,n,r){const i=Rn(t,e,n);return Rn(t,e+1,r)||i}function il(t,e,n,r,i,s,o,a){const l=function Cg(t,e,n,r,i){const s=aa(t,e,n,r);return Rn(t,e+2,i)||s}(t,ls(),n,i,o);return us(3),l?e+ue(n)+r+ue(i)+s+ue(o)+a:fe}function Ct(t,e,n,r,i,s,o,a){const c=A(),l=Pe(),u=t+Ce,d=l.firstCreatePass?function eK(t,e,n,r,i,s,o,a,c){const l=e.consts,u=el(e,t,4,o||null,ro(l,a));ww(e,n,u,ro(l,c)),Pp(e,u);const d=u.tView=bw(2,u,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return null!==e.queries&&(e.queries.template(e,u),d.queries=e.queries.embeddedTView(u)),u}(u,l,c,e,n,r,i,s,o):l.data[u];Si(d,!1);const h=kO(l,c,d,t);kp()&&Jp(l,c,h,d),Pn(h,c),_g(c,c[u]=JR(h,c,h,d)),Sp(d)&&_w(l,c,d),null!=o&&vw(c,d,a)}let kO=function PO(t,e,n,r){return io(!0),e[de].createComment("")};function F(t,e,n){const r=A();return Rn(r,kc(),e)&&function Tr(t,e,n,r,i,s,o,a){const c=sr(e,n);let u,l=e.inputs;!a&&null!=l&&(u=l[r])?(Tw(t,n,u,r,i),ea(e)&&function K8(t,e){const n=Ir(e,t);16&n[me]||(n[me]|=64)}(n,e.index)):3&e.type&&(r=function q8(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=o?o(i,e.value||"",r):i,s.setProperty(c,r,i))}(Pe(),function yt(){const t=oe.lFrame;return A1(t.tView,t.selectedIndex)}(),r,t,e,r[de],n,!1),F}function Ow(t,e,n,r,i){const o=i?"class":"style";Tw(t,n,e.inputs[o],o,r)}function D(t,e,n,r){const i=A(),s=Pe(),o=Ce+t,a=i[de],c=s.firstCreatePass?function iK(t,e,n,r,i,s){const o=e.consts,c=el(e,t,2,r,ro(o,i));return ww(e,n,c,ro(o,s)),null!==c.attrs&&vg(c,c.attrs,!1),null!==c.mergedAttrs&&vg(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(o,s,i,e,n,r):s.data[o],l=OO(s,i,c,a,e,t);i[o]=l;const u=Sp(c);return Si(c,!0),GP(a,l,c),32!=(32&c.flags)&&kp()&&Jp(s,i,l,c),0===function N9(){return oe.lFrame.elementDepthCount}()&&Pn(l,i),function L9(){oe.lFrame.elementDepthCount++}(),u&&(_w(s,i,c),yw(s,c,i)),null!==r&&vw(i,c),D}function S(){let t=bn();sb()?function ob(){oe.lFrame.isParent=!1}():(t=t.parent,Si(t,!1));const e=t;(function B9(t){return oe.skipHydrationRootTNode===t})(e)&&function $9(){oe.skipHydrationRootTNode=null}(),function F9(){oe.lFrame.elementDepthCount--}();const n=Pe();return n.firstCreatePass&&(Pp(n,t),Zv(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function rW(t){return 0!=(8&t.flags)}(e)&&Ow(n,e,A(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function iW(t){return 0!=(16&t.flags)}(e)&&Ow(n,e,A(),e.stylesWithoutHost,!1),S}function _t(t,e,n,r){return D(t,e,n,r),S(),_t}let OO=(t,e,n,r,i,s)=>(io(!0),Zp(r,i,function W1(){return oe.lFrame.currentNamespace}()));function Rd(){return A()}function Sg(t){return!!t&&"function"==typeof t.then}function FO(t){return!!t&&"function"==typeof t.subscribe}function V(t,e,n,r){const i=A(),s=Pe(),o=bn();return function VO(t,e,n,r,i,s,o){const a=Sp(r),l=t.firstCreatePass&&nO(t),u=e[Rt],d=tO(e);let h=!0;if(3&r.type||o){const g=sr(r,e),m=o?o(g):g,_=d.length,y=o?I=>o(tt(I[r.index])):r.index;let v=null;if(!o&&a&&(v=function uK(t,e,n,r){const i=t.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===n&&i[s+1]===r){const a=e[Cc],c=i[s+2];return a.length>c?a[c]:null}"string"==typeof o&&(s+=2)}return null}(t,e,i,r.index)),null!==v)(v.__ngLastListenerFn__||v).__ngNextListenerFn__=s,v.__ngLastListenerFn__=s,h=!1;else{s=jO(r,e,u,s,!1);const I=n.listen(m,i,s);d.push(s,I),l&&l.push(i,y,_,_+1)}}else s=jO(r,e,u,s,!1);const f=r.outputs;let p;if(h&&null!==f&&(p=f[i])){const g=p.length;if(g)for(let m=0;m<g;m+=2){const w=e[p[m]][p[m+1]].subscribe(s),T=d.length;d.push(s,w),l&&l.push(i,r.index,T,-(T+1))}}}(s,i,i[de],o,t,e,r),V}function UO(t,e,n,r){try{return Di(6,e,n),!1!==n(r)}catch(i){return iO(t,i),!1}finally{Di(7,e,n)}}function jO(t,e,n,r,i){return function s(o){if(o===Function)return r;Ed(t.componentOffset>-1?Ir(t.index,e):e);let c=UO(e,n,r,o),l=s.__ngNextListenerFn__;for(;l;)c=UO(e,n,l,o)&&c,l=l.__ngNextListenerFn__;return i&&!1===c&&o.preventDefault(),c}}function _e(t=1){return function K9(t){return(oe.lFrame.contextLView=function Y9(t,e){for(;t>0;)e=e[Tc],t--;return e}(t,oe.lFrame.contextLView))[Rt]}(t)}function xg(t,e){return t<<17|e<<2}function co(t){return t>>17&32767}function Bw(t){return 2|t}function ca(t){return(131068&t)>>2}function Vw(t,e){return-131069&t|e<<2}function Uw(t){return 1|t}function QO(t,e,n,r,i){const s=t[n+1],o=null===e;let a=r?co(s):ca(s),c=!1;for(;0!==a&&(!1===c||o);){const u=t[a+1];vK(t[a],e)&&(c=!0,t[a+1]=r?Uw(u):Bw(u)),a=r?co(u):ca(u)}c&&(t[n+1]=r?Bw(s):Uw(s))}function vK(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&Vc(t,e)>=0}function Ag(t,e,n){return function ai(t,e,n,r){const i=A(),s=Pe(),o=us(2);s.firstUpdatePass&&function oN(t,e,n,r){const i=t.data;if(null===i[n+1]){const s=i[Kn()],o=function sN(t,e){return e>=t.expandoStartIndex}(t,n);(function uN(t,e){return 0!=(t.flags&(e?8:16))})(s,r)&&null===e&&!o&&(e=!1),e=function xK(t,e,n,r){const i=function cb(t){const e=oe.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=Od(n=jw(null,t,e,n,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||t[o]!==i)if(n=jw(i,t,e,n,r),null===s){let c=function AK(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==ca(r))return t[co(r)]}(t,e,r);void 0!==c&&Array.isArray(c)&&(c=jw(null,t,e,c[1],r),c=Od(c,e.attrs,r),function MK(t,e,n,r){t[co(n?e.classBindings:e.styleBindings)]=r}(t,e,r,c))}else s=function kK(t,e,n){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=Od(r,t[s].hostAttrs,n);return Od(r,e.attrs,n)}(t,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),n}(i,s,e,r),function yK(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=co(o),c=ca(o);t[r]=n;let u,l=!1;if(Array.isArray(n)?(u=n[1],(null===u||Vc(n,u)>0)&&(l=!0)):u=n,i)if(0!==c){const h=co(t[a+1]);t[r+1]=xg(h,a),0!==h&&(t[h+1]=Vw(t[h+1],r)),t[a+1]=function gK(t,e){return 131071&t|e<<17}(t[a+1],r)}else t[r+1]=xg(a,0),0!==a&&(t[a+1]=Vw(t[a+1],r)),a=r;else t[r+1]=xg(c,0),0===a?a=r:t[c+1]=Vw(t[c+1],r),c=r;l&&(t[r+1]=Bw(t[r+1])),QO(t,u,r,!0),QO(t,u,r,!1),function _K(t,e,n,r,i){const s=i?t.residualClasses:t.residualStyles;null!=s&&"string"==typeof e&&Vc(s,e)>=0&&(n[r+1]=Uw(n[r+1]))}(e,u,t,r,s),o=xg(a,c),s?e.classBindings=o:e.styleBindings=o}(i,s,e,n,o,r)}}(s,t,o,r),e!==fe&&Rn(i,o,e)&&function cN(t,e,n,r,i,s,o,a){if(!(3&e.type))return;const c=t.data,l=c[a+1],u=function mK(t){return 1==(1&t)}(l)?lN(c,e,n,i,ca(l),o):void 0;Mg(u)||(Mg(s)||function pK(t){return 2==(2&t)}(l)&&(s=lN(c,null,n,i,a,o)),function gq(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let s=-1===r.indexOf("-")?void 0:so.DashCase;null==i?t.removeStyle(n,r,s):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=so.Important),t.setStyle(n,r,i,s))}}(r,o,Mp(Kn(),n),i,s))}(s,s.data[Kn()],i,i[de],t,i[o+1]=function NK(t,e){return null==t||""===t||("string"==typeof e?t+=e:"object"==typeof t&&(t=Zt(oo(t)))),t}(e,n),r,o)}(t,e,n,!1),Ag}function jw(t,e,n,r,i){let s=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(s=e[a],r=Od(r,s.hostAttrs,i),s!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function Od(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Cr(t,o,!!n||e[++s]))}return void 0===t?null:t}function lN(t,e,n,r,i,s){const o=null===e;let a;for(;i>0;){const c=t[i],l=Array.isArray(c),u=l?c[1]:c,d=null===u;let h=n[i+1];h===fe&&(h=d?Fe:void 0);let f=d?bb(h,r):u===r?h:void 0;if(l&&!Mg(f)&&(f=bb(c,r)),Mg(f)&&(a=f,o))return a;const p=t[i+1];i=o?co(p):ca(p)}if(null!==e){let c=s?e.residualClasses:e.residualStyles;null!=c&&(a=bb(c,r))}return a}function Mg(t){return void 0!==t}function N(t,e=""){const n=A(),r=Pe(),i=t+Ce,s=r.firstCreatePass?el(r,i,1,e,null):r.data[i],o=dN(r,n,s,e,t);n[i]=o,kp()&&Jp(r,n,o,s),Si(s,!1)}let dN=(t,e,n,r,i)=>(io(!0),function Yp(t,e){return t.createText(e)}(e[de],r));function ms(t){return lr("",t,""),ms}function lr(t,e,n){const r=A(),i=function nl(t,e,n,r){return Rn(t,kc(),n)?e+ue(n)+r:fe}(r,t,e,n);return i!==fe&&gs(r,Kn(),i),lr}function kg(t,e,n,r,i){const s=A(),o=function rl(t,e,n,r,i,s){const a=aa(t,ls(),n,i);return us(2),a?e+ue(n)+r+ue(i)+s:fe}(s,t,e,n,r,i);return o!==fe&&gs(s,Kn(),o),kg}function dl(t,e,n,r,i,s,o){const a=A(),c=il(a,t,e,n,r,i,s,o);return c!==fe&&gs(a,Kn(),c),dl}const fl="en-US";let kN=fl;class ua{}class rL{}class Kw extends ua{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new dO(this);const i=wr(e);this._bootstrapComponents=ps(i.bootstrap),this._r3Injector=ER(e,n,[{provide:ua,useValue:this},{provide:fg,useValue:this.componentFactoryResolver},...r],Zt(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class Yw extends rL{constructor(e){super(),this.moduleType=e}create(e){return new Kw(this.moduleType,e,[])}}class iL extends ua{constructor(e){super(),this.componentFactoryResolver=new dO(this),this.instance=null;const n=new qc([...e.providers,{provide:ua,useValue:this},{provide:fg,useValue:this.componentFactoryResolver}],e.parent||og(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function Zw(t,e,n=null){return new iL({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}let oZ=(()=>{class t{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){const r=oR(0,n.type),i=r.length>0?Zw([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=X({token:t,providedIn:"environment",factory:()=>new t(W(Er))})}return t})();function sL(t){t.getStandaloneInjector=e=>e.get(oZ).getOrCreateStandaloneInjector(t)}function Xw(t,e,n){const r=qn()+t,i=A();return i[r]===fe?Mi(i,r,n?e.call(n):e()):function Ad(t,e){return t[e]}(i,r)}function Te(t,e,n,r){return function hL(t,e,n,r,i,s){const o=e+n;return Rn(t,o,i)?Mi(t,o+1,s?r.call(s,i):r(i)):Ud(t,o+1)}(A(),qn(),t,e,n,r)}function Ud(t,e){const n=t[e];return n===fe?void 0:n}function Ri(t,e){const n=Pe();let r;const i=t+Ce;n.firstCreatePass?(r=function CZ(t,e){if(e)for(let n=e.length-1;n>=0;n--){const r=e[n];if(t===r.name)return r}}(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];const s=r.factory||(r.factory=ta(r.type)),a=rr($);try{const c=Np(!1),l=s();return Np(c),function rK(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}(n,A(),i,l),l}finally{rr(a)}}function Oi(t,e,n,r){const i=t+Ce,s=A(),o=Ac(s,i);return function jd(t,e){return t[G].data[e].pure}(s,i)?function fL(t,e,n,r,i,s,o){const a=e+n;return aa(t,a,i,s)?Mi(t,a+2,o?r.call(o,i,s):r(i,s)):Ud(t,a+2)}(s,qn(),e,o.transform,n,r,o):o.transform(n,r)}function xZ(){return this._results[Symbol.iterator]()}class Jw{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new Xt)}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const n=Jw.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=xZ)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){const r=this;r.dirty=!1;const i=function jr(t){return t.flat(Number.POSITIVE_INFINITY)}(e);(this._changesDetected=!function _W(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],s=e[r];if(n&&(i=n(i),s=n(s)),s!==i)return!1}return!0}(r._results,i,n))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function MZ(t,e,n,r=!0){const i=e[G];if(function aq(t,e,n,r){const i=_n+r,s=n.length;r>0&&(n[i-1][si]=e),r<s-_n?(e[si]=n[i],cP(n,_n+r,e)):(n.push(e),e[si]=null),e[ft]=n;const o=e[Ju];null!==o&&n!==o&&function cq(t,e){const n=t[Sc];e[Ot]!==e[ft][ft][Ot]&&(t[a1]=!0),null===n?t[Sc]=[e]:n.push(e)}(o,e);const a=e[Ei];null!==a&&a.insertView(t),e[me]|=128}(i,e,t,n),r){const s=Nb(n,t),o=e[de],a=Xp(o,t[Ti]);null!==a&&function iq(t,e,n,r,i,s){r[It]=i,r[kn]=e,md(t,r,n,1,i,s)}(i,t[kn],o,e,a,s)}}let ys=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=RZ}return t})();const kZ=ys,PZ=class extends kZ{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){const i=function AZ(t,e,n,r){const i=e.tView,a=yg(t,i,n,4096&t[me]?4096:16,null,e,null,null,null,r?.injector??null,r?.hydrationInfo??null);a[Ju]=t[e.index];const l=t[Ei];return null!==l&&(a[Ei]=l.createEmbeddedView(i)),Dw(i,a,n),a}(this._declarationLView,this._declarationTContainer,e,{injector:n,hydrationInfo:r});return new Sd(i)}};function RZ(){return Lg(bn(),A())}function Lg(t,e){return 4&t.type?new PZ(e,t,Qc(t,e)):null}let li=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=VZ}return t})();function VZ(){return CL(bn(),A())}const UZ=li,wL=class extends UZ{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Qc(this._hostTNode,this._hostLView)}get injector(){return new Yn(this._hostTNode,this._hostLView)}get parentInjector(){const e=Fp(this._hostTNode,this._hostLView);if(pb(e)){const n=cd(e,this._hostLView),r=ad(e);return new Yn(n[G].data[r+8],n)}return new Yn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const n=IL(this._lContainer);return null!==n&&n[e]||null}get length(){return this._lContainer.length-_n}createEmbeddedView(e,n,r){let i,s;"number"==typeof r?i=r:null!=r&&(i=r.index,s=r.injector);const a=e.createEmbeddedViewImpl(n||{},s,null);return this.insertImpl(a,i,false),a}createComponent(e,n,r,i,s){const o=e&&!function ud(t){return"function"==typeof t}(e);let a;if(o)a=n;else{const g=n||{};a=g.index,r=g.injector,i=g.projectableNodes,s=g.environmentInjector||g.ngModuleRef}const c=o?e:new xd(ke(e)),l=r||this.parentInjector;if(!s&&null==c.ngModule){const m=(o?l:this.parentInjector).get(Er,null);m&&(s=m)}ke(c.componentType??{});const f=c.create(l,i,null,s);return this.insertImpl(f.hostView,a,false),f}insert(e,n){return this.insertImpl(e,n,!1)}insertImpl(e,n,r){const i=e._lView;if(function P9(t){return Wn(t[ft])}(i)){const c=this.indexOf(e);if(-1!==c)this.detach(c);else{const l=i[ft],u=new wL(l,l[kn],l[ft]);u.detach(u.indexOf(e))}}const o=this._adjustIndex(n),a=this._lContainer;return MZ(a,i,o,!r),e.attachToViewContainerRef(),cP(e0(a),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){const n=IL(this._lContainer);return null!==n?n.indexOf(e):-1}remove(e){const n=this._adjustIndex(e,-1),r=Qp(this._lContainer,n);r&&(Up(e0(this._lContainer),n),kb(r[G],r))}detach(e){const n=this._adjustIndex(e,-1),r=Qp(this._lContainer,n);return r&&null!=Up(e0(this._lContainer),n)?new Sd(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function IL(t){return t[8]}function e0(t){return t[8]||(t[8]=[])}function CL(t,e){let n;const r=e[t.index];return Wn(r)?n=r:(n=JR(r,e,null,t),e[t.index]=n,_g(e,n)),EL(n,e,t,r),new wL(n,t,e)}let EL=function TL(t,e,n,r){if(t[Ti])return;let i;i=8&n.type?tt(r):function jZ(t,e){const n=t[de],r=n.createComment(""),i=sr(e,t);return sa(n,Xp(n,i),r,function hq(t,e){return t.nextSibling(e)}(n,i),!1),r}(e,n),t[Ti]=i};class t0{constructor(e){this.queryList=e,this.matches=null}clone(){return new t0(this.queryList)}setDirty(){this.queryList.setDirty()}}class n0{constructor(e=[]){this.queries=e}createEmbeddedView(e){const n=e.queries;if(null!==n){const r=null!==e.contentQueries?e.contentQueries[0]:n.length,i=[];for(let s=0;s<r;s++){const o=n.getByIndex(s);i.push(this.queries[o.indexInDeclarationView].clone())}return new n0(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)null!==kL(e,n).matches&&this.queries[n].setDirty()}}class DL{constructor(e,n,r=null){this.predicate=e,this.flags=n,this.read=r}}class r0{constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){const i=null!==n?n.length:0,s=this.getByIndex(r).embeddedTView(e,i);s&&(s.indexInDeclarationView=r,null!==n?n.push(s):n=[s])}return null!==n?new r0(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class s0{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new s0(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const n=this._declarationNodeIndex;let r=e.parent;for(;null!==r&&8&r.type&&r.index!==n;)r=r.parent;return n===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const s=r[i];this.matchTNodeWithReadOption(e,n,zZ(n,s)),this.matchTNodeWithReadOption(e,n,Bp(n,e,s,!1,!1))}else r===ys?4&n.type&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,Bp(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===ao||i===li||i===ys&&4&n.type)this.addMatch(n.index,-2);else{const s=Bp(n,e,i,!1,!1);null!==s&&this.addMatch(n.index,s)}else this.addMatch(n.index,r)}}addMatch(e,n){null===this.matches?this.matches=[e,n]:this.matches.push(e,n)}}function zZ(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function WZ(t,e,n,r){return-1===n?function GZ(t,e){return 11&t.type?Qc(t,e):4&t.type?Lg(t,e):null}(e,t):-2===n?function qZ(t,e,n){return n===ao?Qc(e,t):n===ys?Lg(e,t):n===li?CL(e,t):void 0}(t,e,r):ia(t,t[G],n,e)}function SL(t,e,n,r){const i=e[Ei].queries[r];if(null===i.matches){const s=t.data,o=n.matches,a=[];for(let c=0;c<o.length;c+=2){const l=o[c];a.push(l<0?null:WZ(e,s[l],o[c+1],n.metadata.read))}i.matches=a}return i.matches}function o0(t,e,n,r){const i=t.queries.getByIndex(n),s=i.matches;if(null!==s){const o=SL(t,e,i,n);for(let a=0;a<s.length;a+=2){const c=s[a];if(c>0)r.push(o[a/2]);else{const l=s[a+1],u=e[-c];for(let d=_n;d<u.length;d++){const h=u[d];h[Ju]===h[ft]&&o0(h[G],h,l,r)}if(null!==u[Sc]){const d=u[Sc];for(let h=0;h<d.length;h++){const f=d[h];o0(f[G],f,l,r)}}}}}return r}function Bg(t){const e=A(),n=Pe(),r=U1();lb(r+1);const i=kL(n,r);if(t.dirty&&function M9(t){return 4==(4&t[me])}(e)===(2==(2&i.metadata.flags))){if(null===i.matches)t.reset([]);else{const s=i.crossesNgTemplate?o0(n,e,r,[]):SL(n,e,i,r);t.reset(s,h8),t.notifyOnChanges()}return!0}return!1}function a0(t,e,n){const r=Pe();r.firstCreatePass&&(function ML(t,e,n){null===t.queries&&(t.queries=new r0),t.queries.track(new s0(e,n))}(r,new DL(t,e,n),-1),2==(2&e)&&(r.staticViewQueries=!0)),function AL(t,e,n){const r=new Jw(4==(4&n));(function z8(t,e,n,r){const i=tO(e);i.push(n),t.firstCreatePass&&nO(t).push(r,i.length-1)})(t,e,r,r.destroy),null===e[Ei]&&(e[Ei]=new n0),e[Ei].queries.push(new t0(r))}(r,A(),e)}function Vg(){return function KZ(t,e){return t[Ei].queries[e].queryList}(A(),U1())}function kL(t,e){return t.queries.getByIndex(e)}function PL(t,e){return Lg(t,e)}const f0=new Y("Application Initializer");let p0=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=K(f0,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const n=[];for(const i of this.appInits){const s=i();if(Sg(s))n.push(s);else if(FO(s)){const o=new Promise((a,c)=>{s.subscribe({complete:a,error:c})});n.push(o)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),0===n.length&&r(),this.initialized=!0}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=X({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),YL=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=X({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();const _s=new Y("LocaleId",{providedIn:"root",factory:()=>K(_s,Ie.Optional|Ie.SkipSelf)||function mQ(){return typeof $localize<"u"&&$localize.locale||fl}()});let jg=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Br(!1)}add(){this.hasPendingTasks.next(!0);const n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=X({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class vQ{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}}let ZL=(()=>{class t{compileModuleSync(n){return new Yw(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),s=ps(wr(n).declarations).reduce((o,a)=>{const c=ke(a);return c&&o.push(new xd(c)),o},[]);return new vQ(r,s)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=X({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const eF=new Y(""),Hg=new Y("");let v0,y0=(()=>{class t{constructor(n,r,i){this._ngZone=n,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,v0||(function jQ(t){v0=t}(i),i.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{$e.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:s,updateCb:i})}whenStable(n,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,i){return[]}static#e=this.\u0275fac=function(r){return new(r||t)(W($e),W(_0),W(Hg))};static#t=this.\u0275prov=X({token:t,factory:t.\u0275fac})}return t})(),_0=(()=>{class t{constructor(){this._applications=new Map}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return v0?.findTestabilityInTree(this,n,r)??null}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=X({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})(),lo=null;const tF=new Y("AllowMultipleToken"),b0=new Y("PlatformDestroyListeners"),w0=new Y("appBootstrapListener");class rF{constructor(e,n){this.name=e,this.token=n}}function sF(t,e,n=[]){const r=`Platform: ${e}`,i=new Y(r);return(s=[])=>{let o=I0();if(!o||o.injector.get(tF,!1)){const a=[...n,...s,{provide:i,useValue:!0}];t?t(a):function zQ(t){if(lo&&!lo.get(tF,!1))throw new L(400,!1);(function nF(){!function y9(t){v1=t}(()=>{throw new L(600,!1)})})(),lo=t;const e=t.get(aF);(function iF(t){t.get(dR,null)?.forEach(n=>n())})(t)}(function oF(t=[],e){return cr.create({name:e,providers:[{provide:Kb,useValue:"platform"},{provide:b0,useValue:new Set([()=>lo=null])},...t]})}(a,r))}return function WQ(t){const e=I0();if(!e)throw new L(401,!1);return e}()}}function I0(){return lo?.get(aF)??null}let aF=(()=>{class t{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const i=function qQ(t="zone.js",e){return"noop"===t?new D8:"zone.js"===t?new $e(e):t}(r?.ngZone,function cF(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return i.run(()=>{const s=function sZ(t,e,n){return new Kw(t,e,n)}(n.moduleType,this.injector,function fF(t){return[{provide:$e,useFactory:t},{provide:bd,multi:!0,useFactory:()=>{const e=K(YQ,{optional:!0});return()=>e.initialize()}},{provide:hF,useFactory:KQ},{provide:AR,useFactory:MR}]}(()=>i)),o=s.injector.get(fs,null);return i.runOutsideAngular(()=>{const a=i.onError.subscribe({next:c=>{o.handleError(c)}});s.onDestroy(()=>{zg(this._modules,s),a.unsubscribe()})}),function lF(t,e,n){try{const r=n();return Sg(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(o,i,()=>{const a=s.injector.get(p0);return a.runInitializers(),a.donePromise.then(()=>(function PN(t){Vr(t,"Expected localeId to be defined"),"string"==typeof t&&(kN=t.toLowerCase().replace(/_/g,"-"))}(s.injector.get(_s,fl)||fl),this._moduleDoBootstrap(s),s))})})}bootstrapModule(n,r=[]){const i=uF({},r);return function $Q(t,e,n){const r=new Yw(n);return Promise.resolve(r)}(0,0,n).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(n){const r=n.injector.get(ml);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!n.instance.ngDoBootstrap)throw new L(-403,!1);n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new L(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const n=this._injector.get(b0,null);n&&(n.forEach(r=>r()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(r){return new(r||t)(W(cr))};static#t=this.\u0275prov=X({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();function uF(t,e){return Array.isArray(e)?e.reduce(uF,t):{...t,...e}}let ml=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=K(hF),this.zoneIsStable=K(AR),this.componentTypes=[],this.components=[],this.isStable=K(jg).hasPendingTasks.pipe(ti(n=>n?ie(!1):this.zoneIsStable),function xG(t,e=x){return t=t??AG,mt((n,r)=>{let i,s=!0;n.subscribe(kt(r,o=>{const a=e(o);(s||!t(i,a))&&(s=!1,i=a,r.next(o))}))})}(),Fk()),this._injector=K(Er)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,r){const i=n instanceof mR;if(!this._injector.get(p0).done)throw!i&&function Ic(t){const e=ke(t)||yn(t)||Gn(t);return null!==e&&e.standalone}(n),new L(405,!1);let o;o=i?n:this._injector.get(fg).resolveComponentFactory(n),this.componentTypes.push(o.componentType);const a=function HQ(t){return t.isBoundToModule}(o)?void 0:this._injector.get(ua),l=o.create(cr.NULL,[],r||o.selector,a),u=l.location.nativeElement,d=l.injector.get(eF,null);return d?.registerApplication(u),l.onDestroy(()=>{this.detachView(l.hostView),zg(this.components,l),d?.unregisterApplication(u)}),this._loadComponent(l),l}tick(){if(this._runningTick)throw new L(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this.internalErrorHandler(n)}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;zg(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const r=this._injector.get(w0,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>zg(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new L(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=X({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function zg(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const hF=new Y("",{providedIn:"root",factory:()=>K(fs).handleError.bind(void 0)});function KQ(){const t=K($e),e=K(fs);return n=>t.runOutsideAngular(()=>e.handleError(n))}let YQ=(()=>{class t{constructor(){this.zone=K($e),this.applicationRef=K(ml)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=X({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();let C0=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=QQ}return t})();function QQ(t){return function XQ(t,e,n){if(ea(t)&&!n){const r=Ir(t.index,e);return new Sd(r,r)}return 47&t.type?new Sd(e[Ot],e):null}(bn(),A(),16==(16&t))}class yF{constructor(){}supports(e){return Ig(e)}create(e){return new iX(e)}}const rX=(t,e)=>e;class iX{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||rX}forEachItem(e){let n;for(n=this._itHead;null!==n;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,s=null;for(;n||r;){const o=!r||n&&n.currentIndex<vF(r,i,s)?n:r,a=vF(o,i,s),c=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(n=n._next,null==o.previousIndex)i++;else{s||(s=[]);const l=a-i,u=c-i;if(l!=u){for(let h=0;h<l;h++){const f=h<s.length?s[h]:s[h]=0,p=f+h;u<=p&&p<l&&(s[h]=f+1)}s[o.previousIndex]=u-l}}a!==c&&e(o,a,c)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)e(n)}diff(e){if(null==e&&(e=[]),!Ig(e))throw new L(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,s,o,n=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,s,o,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)):(n=this._mismatch(n,s,o,a),r=!0),n=n._next}else i=0,function L7(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Symbol.iterator]();let r;for(;!(r=n.next()).done;)e(r.value)}}(e,a=>{o=this._trackByFn(i,a),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,a,o,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,o,i),r=!0),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,i)):e=this._addAfter(new sX(n,r),s,i),e}_verifyReinsertion(e,n,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const n=e._next;this._addToRemovals(this._unlink(e)),e=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,s=e._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){const i=null===n?this._itHead:n._next;return e._next=i,e._prev=n,null===i?this._itTail=e:i._prev=e,null===n?this._itHead=e:n._next=e,null===this._linkedRecords&&(this._linkedRecords=new _F),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const n=e._prev,r=e._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new _F),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class sX{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class oX{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const n=e._prevDup,r=e._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class _F{constructor(){this.map=new Map}put(e){const n=e.trackById;let r=this.map.get(n);r||(r=new oX,this.map.set(n,r)),r.add(e)}get(e,n){const i=this.map.get(e);return i?i.get(e,n):null}remove(e){const n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function vF(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class bF{constructor(){}supports(e){return e instanceof Map||Sw(e)}create(){return new aX}}class aX{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let n;for(n=this._mapHead;null!==n;n=n._next)e(n)}forEachPreviousItem(e){let n;for(n=this._previousMapHead;null!==n;n=n._nextPrevious)e(n)}forEachChangedItem(e){let n;for(n=this._changesHead;null!==n;n=n._nextChanged)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}diff(e){if(e){if(!(e instanceof Map||Sw(e)))throw new L(900,!1)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(n&&n.key===i)this._maybeAddToChanges(n,r),this._appendAfter=n,n=n._next;else{const s=this._getOrCreateRecordForKey(i,r);n=this._insertBeforeOrAppend(n,s)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,n){if(e){const r=e._prev;return n._next=e,n._prev=r,e._prev=n,r&&(r._next=n),e===this._mapHead&&(this._mapHead=n),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(e,n){if(this._records.has(e)){const i=this._records.get(e);this._maybeAddToChanges(i,n);const s=i._prev,o=i._next;return s&&(s._next=o),o&&(o._prev=s),i._next=null,i._prev=null,i}const r=new cX(e);return this._records.set(e,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,n){Object.is(n,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=n,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,n){e instanceof Map?e.forEach(n):Object.keys(e).forEach(r=>n(e[r],r))}}class cX{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function wF(){return new qg([new yF])}let qg=(()=>{class t{static#e=this.\u0275prov=X({token:t,providedIn:"root",factory:wF});constructor(n){this.factories=n}static create(n,r){if(null!=r){const i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||wF()),deps:[[t,new $p,new or]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(null!=r)return r;throw new L(901,!1)}}return t})();function IF(){return new zd([new bF])}let zd=(()=>{class t{static#e=this.\u0275prov=X({token:t,providedIn:"root",factory:IF});constructor(n){this.factories=n}static create(n,r){if(r){const i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||IF()),deps:[[t,new $p,new or]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(r)return r;throw new L(901,!1)}}return t})();const dX=sF(null,"core",[]);let hX=(()=>{class t{constructor(n){}static#e=this.\u0275fac=function(r){return new(r||t)(W(ml))};static#t=this.\u0275mod=Ci({type:t});static#n=this.\u0275inj=ni({})}return t})(),M0=null;function yl(){return M0}class DX{}const Dr=new Y("DocumentToken");let k0=(()=>{class t{historyGo(n){throw new Error("Not implemented")}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=X({token:t,factory:function(){return K(xX)},providedIn:"platform"})}return t})();const SX=new Y("Location Initialized");let xX=(()=>{class t extends k0{constructor(){super(),this._doc=K(Dr),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return yl().getBaseHref(this._doc)}onPopState(n){const r=yl().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){const r=yl().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=X({token:t,factory:function(){return new t},providedIn:"platform"})}return t})();function P0(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function kF(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function vs(t){return t&&"?"!==t[0]?"?"+t:t}let ha=(()=>{class t{historyGo(n){throw new Error("Not implemented")}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=X({token:t,factory:function(){return K(RF)},providedIn:"root"})}return t})();const PF=new Y("appBaseHref");let RF=(()=>{class t extends ha{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??K(Dr).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return P0(this._baseHref,n)}path(n=!1){const r=this._platformLocation.pathname+vs(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,s){const o=this.prepareExternalUrl(i+vs(s));this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){const o=this.prepareExternalUrl(i+vs(s));this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static#e=this.\u0275fac=function(r){return new(r||t)(W(k0),W(PF,8))};static#t=this.\u0275prov=X({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),AX=(()=>{class t extends ha{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(n){const r=P0(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,s){let o=this.prepareExternalUrl(i+vs(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){let o=this.prepareExternalUrl(i+vs(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static#e=this.\u0275fac=function(r){return new(r||t)(W(k0),W(PF,8))};static#t=this.\u0275prov=X({token:t,factory:t.\u0275fac})}return t})(),Yg=(()=>{class t{constructor(n){this._subject=new Xt,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;const r=this._locationStrategy.getBaseHref();this._basePath=function PX(t){if(new RegExp("^(https?:)?//").test(t)){const[,n]=t.split(/\/\/[^\/]+/);return n}return t}(kF(OF(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+vs(r))}normalize(n){return t.stripTrailingSlash(function kX(t,e){if(!t||!e.startsWith(t))return e;const n=e.substring(t.length);return""===n||["/",";","?","#"].includes(n[0])?n:e}(this._basePath,OF(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+vs(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+vs(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}static#e=this.normalizeQueryParams=vs;static#t=this.joinWithSlash=P0;static#n=this.stripTrailingSlash=kF;static#r=this.\u0275fac=function(r){return new(r||t)(W(ha))};static#i=this.\u0275prov=X({token:t,factory:function(){return function MX(){return new Yg(W(ha))}()},providedIn:"root"})}return t})();function OF(t){return t.replace(/\/index.html$/,"")}function HF(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[i,s]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}const $0=/\s+/,zF=[];let vl=(()=>{class t{constructor(n,r,i,s){this._iterableDiffers=n,this._keyValueDiffers=r,this._ngEl=i,this._renderer=s,this.initialClasses=zF,this.stateMap=new Map}set klass(n){this.initialClasses=null!=n?n.trim().split($0):zF}set ngClass(n){this.rawClass="string"==typeof n?n.trim().split($0):n}ngDoCheck(){for(const r of this.initialClasses)this._updateState(r,!0);const n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(const r of n)this._updateState(r,!0);else if(null!=n)for(const r of Object.keys(n))this._updateState(r,!!n[r]);this._applyStateDiff()}_updateState(n,r){const i=this.stateMap.get(n);void 0!==i?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(n,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(const n of this.stateMap){const r=n[0],i=n[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(n,r){(n=n.trim()).length>0&&n.split($0).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static#e=this.\u0275fac=function(r){return new(r||t)($(qg),$(zd),$(ao),$(pg))};static#t=this.\u0275dir=zn({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}return t})();class yJ{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let om=(()=>{class t{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){const n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){const r=this._viewContainer;n.forEachOperation((i,s,o)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new yJ(i.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)r.remove(null===s?void 0:s);else if(null!==s){const a=r.get(s);r.move(a,o),WF(a,i)}});for(let i=0,s=r.length;i<s;i++){const a=r.get(i).context;a.index=i,a.count=s,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{WF(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(n,r){return!0}static#e=this.\u0275fac=function(r){return new(r||t)($(li),$(ys),$(qg))};static#t=this.\u0275dir=zn({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return t})();function WF(t,e){t.context.$implicit=e.item}let uo=(()=>{class t{constructor(n,r){this._viewContainer=n,this._context=new _J,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){qF("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){qF("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}static#e=this.\u0275fac=function(r){return new(r||t)($(li),$(ys))};static#t=this.\u0275dir=zn({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return t})();class _J{constructor(){this.$implicit=null,this.ngIf=null}}function qF(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Zt(e)}'.`)}let am=(()=>{class t{constructor(n,r,i){this._ngEl=n,this._differs=r,this._renderer=i,this._ngStyle=null,this._differ=null}set ngStyle(n){this._ngStyle=n,!this._differ&&n&&(this._differ=this._differs.find(n).create())}ngDoCheck(){if(this._differ){const n=this._differ.diff(this._ngStyle);n&&this._applyChanges(n)}}_setStyle(n,r){const[i,s]=n.split("."),o=-1===i.indexOf("-")?void 0:so.DashCase;null!=r?this._renderer.setStyle(this._ngEl.nativeElement,i,s?`${r}${s}`:r,o):this._renderer.removeStyle(this._ngEl.nativeElement,i,o)}_applyChanges(n){n.forEachRemovedItem(r=>this._setStyle(r.key,null)),n.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),n.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}static#e=this.\u0275fac=function(r){return new(r||t)($(ao),$(zd),$(pg))};static#t=this.\u0275dir=zn({type:t,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0})}return t})(),zJ=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Ci({type:t});static#n=this.\u0275inj=ni({})}return t})();function QF(t){return"server"===t}let KJ=(()=>{class t{static#e=this.\u0275prov=X({token:t,providedIn:"root",factory:()=>new YJ(W(Dr),window)})}return t})();class YJ{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const n=function ZJ(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&"function"==typeof t.body.attachShadow){const r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.supportsScrolling()&&(this.window.history.scrollRestoration=e)}scrollToElement(e){const n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class XF{}class vee extends DX{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Y0 extends vee{static makeCurrent(){!function TX(t){M0||(M0=t)}(new Y0)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=function bee(){return Kd=Kd||document.querySelector("base"),Kd?Kd.getAttribute("href"):null}();return null==n?null:function wee(t){um=um||document.createElement("a"),um.setAttribute("href",t);const e=um.pathname;return"/"===e.charAt(0)?e:`/${e}`}(n)}resetBaseElement(){Kd=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return HF(document.cookie,e)}}let um,Kd=null,Cee=(()=>{class t{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=X({token:t,factory:t.\u0275fac})}return t})();const Z0=new Y("EventManagerPlugins");let r2=(()=>{class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(s=>s.supports(n)),!r)throw new L(5101,!1);return this._eventNameToPlugin.set(n,r),r}static#e=this.\u0275fac=function(r){return new(r||t)(W(Z0),W($e))};static#t=this.\u0275prov=X({token:t,factory:t.\u0275fac})}return t})();class i2{constructor(e){this._doc=e}}const Q0="ng-app-id";let s2=(()=>{class t{constructor(n,r,i,s={}){this.doc=n,this.appId=r,this.nonce=i,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=QF(s),this.resetHostNodes()}addStyles(n){for(const r of n)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(n){for(const r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(const r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(const r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){const r=this.styleRef;r.get(n)?.elements?.forEach(i=>i.remove()),r.delete(n)}collectServerRenderedStyles(){const n=this.doc.head?.querySelectorAll(`style[${Q0}="${this.appId}"]`);if(n?.length){const r=new Map;return n.forEach(i=>{null!=i.textContent&&r.set(i.textContent,i)}),r}return null}changeUsageCount(n,r){const i=this.styleRef;if(i.has(n)){const s=i.get(n);return s.usage+=r,s.usage}return i.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){const i=this.styleNodesInDOM,s=i?.get(r);if(s?.parentNode===n)return i.delete(r),s.removeAttribute(Q0),s;{const o=this.doc.createElement("style");return this.nonce&&o.setAttribute("nonce",this.nonce),o.textContent=r,this.platformIsServer&&o.setAttribute(Q0,this.appId),o}}addStyleToHost(n,r){const i=this.getStyleElement(n,r);n.appendChild(i);const s=this.styleRef,o=s.get(r)?.elements;o?o.push(i):s.set(r,{elements:[i],usage:1})}resetHostNodes(){const n=this.hostNodes;n.clear(),n.add(this.doc.head)}static#e=this.\u0275fac=function(r){return new(r||t)(W(Dr),W(ag),W(hR,8),W(hs))};static#t=this.\u0275prov=X({token:t,factory:t.\u0275fac})}return t})();const X0={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},J0=/%COMP%/g,See=new Y("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function a2(t,e){return e.map(n=>n.replace(J0,t))}let c2=(()=>{class t{constructor(n,r,i,s,o,a,c,l=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=s,this.doc=o,this.platformId=a,this.ngZone=c,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=QF(a),this.defaultRenderer=new eI(n,o,c,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===ri.ShadowDom&&(r={...r,encapsulation:ri.Emulated});const i=this.getOrCreateRenderer(n,r);return i instanceof u2?i.applyToHost(n):i instanceof tI&&i.applyStyles(),i}getOrCreateRenderer(n,r){const i=this.rendererByCompId;let s=i.get(r.id);if(!s){const o=this.doc,a=this.ngZone,c=this.eventManager,l=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,d=this.platformIsServer;switch(r.encapsulation){case ri.Emulated:s=new u2(c,l,r,this.appId,u,o,a,d);break;case ri.ShadowDom:return new kee(c,l,n,r,o,a,this.nonce,d);default:s=new tI(c,l,r,u,o,a,d)}i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(r){return new(r||t)(W(r2),W(s2),W(ag),W(See),W(Dr),W(hs),W($e),W(hR))};static#t=this.\u0275prov=X({token:t,factory:t.\u0275fac})}return t})();class eI{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(X0[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(l2(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(l2(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new L(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;const s=X0[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const i=X0[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(so.DashCase|so.Important)?e.style.setProperty(n,r,i&so.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&so.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e[n]=r}setValue(e,n){e.nodeValue=n}listen(e,n,r){if("string"==typeof e&&!(e=yl().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if("__ngUnwrap__"===n)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))&&n.preventDefault()}}}function l2(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class kee extends eI{constructor(e,n,r,i,s,o,a,c){super(e,s,o,c),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const l=a2(i.id,i.styles);for(const u of l){const d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=u,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class tI extends eI{constructor(e,n,r,i,s,o,a,c){super(e,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=c?a2(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class u2 extends tI{constructor(e,n,r,i,s,o,a,c){const l=i+"-"+r.id;super(e,n,r,s,o,a,c,l),this.contentAttr=function xee(t){return"_ngcontent-%COMP%".replace(J0,t)}(l),this.hostAttr=function Aee(t){return"_nghost-%COMP%".replace(J0,t)}(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}let Pee=(()=>{class t extends i2{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}static#e=this.\u0275fac=function(r){return new(r||t)(W(Dr))};static#t=this.\u0275prov=X({token:t,factory:t.\u0275fac})}return t})();const d2=["alt","control","meta","shift"],Ree={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Oee={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let Nee=(()=>{class t extends i2{constructor(n){super(n)}supports(n){return null!=t.parseEventName(n)}addEventListener(n,r,i){const s=t.parseEventName(r),o=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>yl().onAndCancel(n,s.domEventName,o))}static parseEventName(n){const r=n.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=t._normalizeKey(r.pop());let o="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),o="code."),d2.forEach(l=>{const u=r.indexOf(l);u>-1&&(r.splice(u,1),o+=l+".")}),o+=s,0!=r.length||0===s.length)return null;const c={};return c.domEventName=i,c.fullKey=o,c}static matchEventFullKeyCode(n,r){let i=Ree[n.key]||n.key,s="";return r.indexOf("code.")>-1&&(i=n.code,s="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),d2.forEach(o=>{o!==i&&(0,Oee[o])(n)&&(s+=o+".")}),s+=i,s===r)}static eventCallback(n,r,i){return s=>{t.matchEventFullKeyCode(s,n)&&i.runGuarded(()=>r(s))}}static _normalizeKey(n){return"esc"===n?"escape":n}static#e=this.\u0275fac=function(r){return new(r||t)(W(Dr))};static#t=this.\u0275prov=X({token:t,factory:t.\u0275fac})}return t})();const f2=[{provide:hs,useValue:"browser"},{provide:dR,useValue:function Lee(){Y0.makeCurrent()},multi:!0},{provide:Dr,useFactory:function Bee(){return function bq(t){Bb=t}(document),document},deps:[]}],Vee=sF(dX,"browser",f2),Uee=new Y(""),p2=[{provide:Hg,useClass:class Iee{addToWindow(e){et.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new L(5103,!1);return s},et.getAllAngularTestabilities=()=>e.getAllTestabilities(),et.getAllAngularRootElements=()=>e.getAllRootElements(),et.frameworkStabilizers||(et.frameworkStabilizers=[]),et.frameworkStabilizers.push(r=>{const i=et.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(c){o=o||c,s--,0==s&&r(o)};i.forEach(c=>{c.whenStable(a)})})}findTestabilityInTree(e,n,r){return null==n?null:e.getTestability(n)??(r?yl().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},deps:[]},{provide:eF,useClass:y0,deps:[$e,_0,Hg]},{provide:y0,useClass:y0,deps:[$e,_0,Hg]}],g2=[{provide:Kb,useValue:"root"},{provide:fs,useFactory:function Fee(){return new fs},deps:[]},{provide:Z0,useClass:Pee,multi:!0,deps:[Dr,$e,hs]},{provide:Z0,useClass:Nee,multi:!0,deps:[Dr]},c2,s2,r2,{provide:_R,useExisting:c2},{provide:XF,useClass:Cee,deps:[]},[]];let jee=(()=>{class t{constructor(n){}static withServerTransition(n){return{ngModule:t,providers:[{provide:ag,useValue:n.appId}]}}static#e=this.\u0275fac=function(r){return new(r||t)(W(Uee,12))};static#t=this.\u0275mod=Ci({type:t});static#n=this.\u0275inj=ni({providers:[...g2,...p2],imports:[zJ,hX]})}return t})(),m2=(()=>{class t{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static#e=this.\u0275fac=function(r){return new(r||t)(W(Dr))};static#t=this.\u0275prov=X({token:t,factory:function(r){let i=null;return i=r?new r:function Hee(){return new m2(W(Dr))}(),i},providedIn:"root"})}return t})();typeof window<"u"&&window;const{isArray:Yee}=Array,{getPrototypeOf:Zee,prototype:Qee,keys:Xee}=Object;const{isArray:tte}=Array;function rI(...t){const e=Wu(t),n=function vG(t){return ne(kv(t))?t.pop():void 0}(t),{args:r,keys:i}=function Jee(t){if(1===t.length){const e=t[0];if(Yee(e))return{args:e,keys:null};if(function ete(t){return t&&"object"==typeof t&&Zee(t)===Qee}(e)){const n=Xee(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}(t);if(0===r.length)return on([],e);const s=new J(function ste(t,e,n=x){return r=>{b2(e,()=>{const{length:i}=t,s=new Array(i);let o=i,a=i;for(let c=0;c<i;c++)b2(e,()=>{const l=on(t[c],e);let u=!1;l.subscribe(kt(r,d=>{s[c]=d,u||(u=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,e,i?o=>function ite(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}(i,o):x));return n?s.pipe(function rte(t){return Me(e=>function nte(t,e){return tte(e)?t(...e):t(e)}(t,e))}(n)):s}function b2(t,e,n){t?ss(n,t,e):e()}const dm=qo(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function iI(...t){return function ote(){return bc(1)}()(on(t,Wu(t)))}function w2(t){return new J(e=>{Fr(t()).subscribe(e)})}function Yd(t,e){const n=ne(t)?t:()=>t,r=i=>i.error(n());return new J(e?i=>e.schedule(r,0,i):r)}function sI(){return mt((t,e)=>{let n=null;t._refCount++;const r=kt(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(n=null);const i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}class I2 extends J{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,ts(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Yt;const n=this.getSubject();e.add(this.source.subscribe(kt(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Yt.EMPTY)}return e}refCount(){return sI()(this)}}function bl(t){return t<=0?()=>wi:mt((e,n)=>{let r=0;e.subscribe(kt(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function Is(t,e){return mt((n,r)=>{let i=0;n.subscribe(kt(r,s=>t.call(e,s,i++)&&r.next(s)))})}function hm(t){return mt((e,n)=>{let r=!1;e.subscribe(kt(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function C2(t=cte){return mt((e,n)=>{let r=!1;e.subscribe(kt(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function cte(){return new dm}function fa(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Is((i,s)=>t(i,s,r)):x,bl(1),n?hm(e):C2(()=>new dm))}function wl(t,e){return ne(e)?mn(t,e,1):mn(t,1)}function wn(t,e,n){const r=ne(t)||e||n?{next:t,error:e,complete:n}:t;return r?mt((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(kt(s,c=>{var l;null===(l=r.next)||void 0===l||l.call(r,c),s.next(c)},()=>{var c;a=!1,null===(c=r.complete)||void 0===c||c.call(r),s.complete()},c=>{var l;a=!1,null===(l=r.error)||void 0===l||l.call(r,c),s.error(c)},()=>{var c,l;a&&(null===(c=r.unsubscribe)||void 0===c||c.call(r)),null===(l=r.finalize)||void 0===l||l.call(r)}))}):x}function pa(t){return mt((e,n)=>{let s,r=null,i=!1;r=e.subscribe(kt(n,void 0,void 0,o=>{s=Fr(t(o,pa(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function oI(t){return t<=0?()=>wi:mt((e,n)=>{let r=[];e.subscribe(kt(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function Zd(t){return mt((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}const ve="primary",Qd=Symbol("RouteTitle");class pte{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function Il(t){return new pte(t)}function gte(t,e,n){const r=n.path.split("/");if(r.length>t.length||"full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=t[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function Ni(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!E2(t[i],e[i]))return!1;return!0}function E2(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}return t===e}function T2(t){return t.length>0?t[t.length-1]:null}function fo(t){return function Kee(t){return!!t&&(t instanceof J||ne(t.lift)&&ne(t.subscribe))}(t)?t:Sg(t)?on(Promise.resolve(t)):ie(t)}const yte={exact:function x2(t,e,n){if(!ga(t.segments,e.segments)||!fm(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!t.children[r]||!x2(t.children[r],e.children[r],n))return!1;return!0},subset:A2},D2={exact:function _te(t,e){return Ni(t,e)},subset:function vte(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>E2(t[n],e[n]))},ignored:()=>!0};function S2(t,e,n){return yte[n.paths](t.root,e.root,n.matrixParams)&&D2[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function A2(t,e,n){return M2(t,e,e.segments,n)}function M2(t,e,n,r){if(t.segments.length>n.length){const i=t.segments.slice(0,n.length);return!(!ga(i,n)||e.hasChildren()||!fm(i,n,r))}if(t.segments.length===n.length){if(!ga(t.segments,n)||!fm(t.segments,n,r))return!1;for(const i in e.children)if(!t.children[i]||!A2(t.children[i],e.children[i],r))return!1;return!0}{const i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!!(ga(t.segments,i)&&fm(t.segments,i,r)&&t.children[ve])&&M2(t.children[ve],e,s,r)}}function fm(t,e,n){return e.every((r,i)=>D2[n](t[i].parameters,r.parameters))}class Cl{constructor(e=new He([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Il(this.queryParams)),this._queryParamMap}toString(){return Ite.serialize(this)}}class He{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return pm(this)}}class Xd{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=Il(this.parameters)),this._parameterMap}toString(){return R2(this)}}function ga(t,e){return t.length===e.length&&t.every((n,r)=>n.path===e[r].path)}let Jd=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=X({token:t,factory:function(){return new aI},providedIn:"root"})}return t})();class aI{parse(e){const n=new Rte(e);return new Cl(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){const n=`/${eh(e.root,!0)}`,r=function Tte(t){const e=Object.keys(t).map(n=>{const r=t[n];return Array.isArray(r)?r.map(i=>`${gm(n)}=${gm(i)}`).join("&"):`${gm(n)}=${gm(r)}`}).filter(n=>!!n);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${n}${r}${"string"==typeof e.fragment?`#${function Cte(t){return encodeURI(t)}(e.fragment)}`:""}`}}const Ite=new aI;function pm(t){return t.segments.map(e=>R2(e)).join("/")}function eh(t,e){if(!t.hasChildren())return pm(t);if(e){const n=t.children[ve]?eh(t.children[ve],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==ve&&r.push(`${i}:${eh(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function wte(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===ve&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==ve&&(n=n.concat(e(i,r)))}),n}(t,(r,i)=>i===ve?[eh(t.children[ve],!1)]:[`${i}:${eh(r,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[ve]?`${pm(t)}/${n[0]}`:`${pm(t)}/(${n.join("//")})`}}function k2(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function gm(t){return k2(t).replace(/%3B/gi,";")}function cI(t){return k2(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function mm(t){return decodeURIComponent(t)}function P2(t){return mm(t.replace(/\+/g,"%20"))}function R2(t){return`${cI(t.path)}${function Ete(t){return Object.keys(t).map(e=>`;${cI(e)}=${cI(t[e])}`).join("")}(t.parameters)}`}const Dte=/^[^\/()?;#]+/;function lI(t){const e=t.match(Dte);return e?e[0]:""}const Ste=/^[^\/()?;=#]+/,Ate=/^[^=?&#]+/,kte=/^[^&#]+/;class Rte{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new He([],{}):new He([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[ve]=new He(e,n)),r}parseSegment(){const e=lI(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new L(4009,!1);return this.capture(e),new Xd(mm(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const n=function xte(t){const e=t.match(Ste);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=lI(this.remaining);i&&(r=i,this.capture(r))}e[mm(n)]=mm(r)}parseQueryParam(e){const n=function Mte(t){const e=t.match(Ate);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const o=function Pte(t){const e=t.match(kte);return e?e[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=P2(n),s=P2(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=lI(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new L(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=ve);const o=this.parseChildren();n[s]=1===Object.keys(o).length?o[ve]:new He([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new L(4011,!1)}}function O2(t){return t.segments.length>0?new He([],{[ve]:t}):t}function N2(t){const e={};for(const r of Object.keys(t.children)){const s=N2(t.children[r]);if(r===ve&&0===s.segments.length&&s.hasChildren())for(const[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function Ote(t){if(1===t.numberOfChildren&&t.children[ve]){const e=t.children[ve];return new He(t.segments.concat(e.segments),e.children)}return t}(new He(t.segments,e))}function ma(t){return t instanceof Cl}function L2(t){let e;const i=O2(function n(s){const o={};for(const c of s.children){const l=n(c);o[c.outlet]=l}const a=new He(s.url,o);return s===t&&(e=a),a}(t.root));return e??i}function F2(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(0===e.length)return uI(i,i,i,n,r);const s=function Lte(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new V2(!0,0,t);let e=0,n=!1;const r=t.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return Object.entries(s.outlets).forEach(([c,l])=>{a[c]="string"==typeof l?l.split("/"):l}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,c)=>{0==c&&"."===a||(0==c&&""===a?n=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new V2(n,e,r)}(e);if(s.toRoot())return uI(i,i,new He([],{}),n,r);const o=function Fte(t,e,n){if(t.isAbsolute)return new _m(e,!0,0);if(!n)return new _m(e,!1,NaN);if(null===n.parent)return new _m(n,!0,0);const r=ym(t.commands[0])?0:1;return function Bte(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new L(4005,!1);i=r.segments.length}return new _m(r,!1,i-s)}(n,n.segments.length-1+r,t.numberOfDoubleDots)}(s,i,t),a=o.processChildren?nh(o.segmentGroup,o.index,s.commands):U2(o.segmentGroup,o.index,s.commands);return uI(i,o.segmentGroup,a,n,r)}function ym(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function th(t){return"object"==typeof t&&null!=t&&t.outlets}function uI(t,e,n,r,i){let o,s={};r&&Object.entries(r).forEach(([c,l])=>{s[c]=Array.isArray(l)?l.map(u=>`${u}`):`${l}`}),o=t===e?n:B2(t,e,n);const a=O2(N2(o));return new Cl(a,s,i)}function B2(t,e,n){const r={};return Object.entries(t.children).forEach(([i,s])=>{r[i]=s===e?n:B2(s,e,n)}),new He(t.segments,r)}class V2{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&ym(r[0]))throw new L(4003,!1);const i=r.find(th);if(i&&i!==T2(r))throw new L(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class _m{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}}function U2(t,e,n){if(t||(t=new He([],{})),0===t.segments.length&&t.hasChildren())return nh(t,e,n);const r=function Ute(t,e,n){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;const o=t.segments[i],a=n[r];if(th(a))break;const c=`${a}`,l=r<n.length-1?n[r+1]:null;if(i>0&&void 0===c)break;if(c&&l&&"object"==typeof l&&void 0===l.outlets){if(!$2(c,l,o))return s;r+=2}else{if(!$2(c,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const s=new He(t.segments.slice(0,r.pathIndex),{});return s.children[ve]=new He(t.segments.slice(r.pathIndex),t.children),nh(s,0,i)}return r.match&&0===i.length?new He(t.segments,{}):r.match&&!t.hasChildren()?dI(t,e,n):r.match?nh(t,0,i):dI(t,e,n)}function nh(t,e,n){if(0===n.length)return new He(t.segments,{});{const r=function Vte(t){return th(t[0])?t[0].outlets:{[ve]:t}}(n),i={};if(Object.keys(r).some(s=>s!==ve)&&t.children[ve]&&1===t.numberOfChildren&&0===t.children[ve].segments.length){const s=nh(t.children[ve],e,n);return new He(t.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{"string"==typeof o&&(o=[o]),null!==o&&(i[s]=U2(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{void 0===r[s]&&(i[s]=o)}),new He(t.segments,i)}}function dI(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const s=n[i];if(th(s)){const c=jte(s.outlets);return new He(r,c)}if(0===i&&ym(n[0])){r.push(new Xd(t.segments[e].path,j2(n[0]))),i++;continue}const o=th(s)?s.outlets[ve]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&ym(a)?(r.push(new Xd(o,j2(a))),i+=2):(r.push(new Xd(o,{})),i++)}return new He(r,{})}function jte(t){const e={};return Object.entries(t).forEach(([n,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(e[n]=dI(new He([],{}),0,r))}),e}function j2(t){const e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function $2(t,e,n){return t==n.path&&Ni(e,n.parameters)}const rh="imperative";class Li{constructor(e,n){this.id=e,this.url=n}}class vm extends Li{constructor(e,n,r="imperative",i=null){super(e,n),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Cs extends Li{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class ih extends Li{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class El extends Li{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=16}}class bm extends Li{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class H2 extends Li{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class $te extends Li{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Hte extends Li{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class zte extends Li{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Gte extends Li{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Wte{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class qte{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Kte{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Yte{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Zte{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Qte{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class z2{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class hI{}class fI{constructor(e){this.url=e}}class Xte{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new sh,this.attachRef=null}}let sh=(()=>{class t{constructor(){this.contexts=new Map}onChildOutletCreated(n,r){const i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){const r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new Xte,this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=X({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class G2{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){const n=pI(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){const n=pI(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){const n=gI(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return gI(e,this._root).map(n=>n.value)}}function pI(t,e){if(t===e.value)return e;for(const n of e.children){const r=pI(t,n);if(r)return r}return null}function gI(t,e){if(t===e.value)return[e];for(const n of e.children){const r=gI(t,n);if(r.length)return r.unshift(e),r}return[]}class Es{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}}function Tl(t){const e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}class W2 extends G2{constructor(e,n){super(e),this.snapshot=n,mI(this,e)}toString(){return this.snapshot.toString()}}function q2(t,e){const n=function Jte(t,e){const o=new wm([],{},{},"",{},ve,e,null,{});return new Y2("",new Es(o,[]))}(0,e),r=new Br([new Xd("",{})]),i=new Br({}),s=new Br({}),o=new Br({}),a=new Br(""),c=new po(r,i,o,a,s,ve,e,n.root);return c.snapshot=n.root,new W2(new Es(c,[]),n)}class po{constructor(e,n,r,i,s,o,a,c){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(Me(l=>l[Qd]))??ie(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Me(e=>Il(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Me(e=>Il(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function K2(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const i=n[r],s=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function ene(t){return t.reduce((e,n)=>({params:{...e.params,...n.params},data:{...e.data,...n.data},resolve:{...n.data,...e.resolve,...n.routeConfig?.data,...n._resolvedData}}),{params:{},data:{},resolve:{}})}(n.slice(r))}class wm{get title(){return this.data?.[Qd]}constructor(e,n,r,i,s,o,a,c,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Il(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Il(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Y2 extends G2{constructor(e,n){super(n),this.url=e,mI(this,n)}toString(){return Z2(this._root)}}function mI(t,e){e.value._routerState=t,e.children.forEach(n=>mI(t,n))}function Z2(t){const e=t.children.length>0?` { ${t.children.map(Z2).join(", ")} } `:"";return`${t.value}${e}`}function yI(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Ni(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),Ni(e.params,n.params)||t.paramsSubject.next(n.params),function mte(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Ni(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.urlSubject.next(n.url),Ni(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function _I(t,e){const n=Ni(t.params,e.params)&&function bte(t,e){return ga(t,e)&&t.every((n,r)=>Ni(n.parameters,e[r].parameters))}(t.url,e.url);return n&&!(!t.parent!=!e.parent)&&(!t.parent||_I(t.parent,e.parent))}let vI=(()=>{class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=ve,this.activateEvents=new Xt,this.deactivateEvents=new Xt,this.attachEvents=new Xt,this.detachEvents=new Xt,this.parentContexts=K(sh),this.location=K(li),this.changeDetector=K(C0),this.environmentInjector=K(Er),this.inputBinder=K(Im,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){const{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new L(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new L(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new L(4012,!1);this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new L(4013,!1);this._activatedRoute=n;const i=this.location,o=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new tne(n,a,i.injector);this.activated=i.createComponent(o,{index:i.length,injector:c,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275dir=zn({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[na]})}return t})();class tne{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===po?this.route:e===sh?this.childContexts:this.parent.get(e,n)}}const Im=new Y("");let Q2=(()=>{class t{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){const{activatedRoute:r}=n,i=rI([r.queryParams,r.params,r.data]).pipe(ti(([s,o,a],c)=>(a={...s,...o,...a},0===c?ie(a):Promise.resolve(a)))).subscribe(s=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(n);const o=function EX(t){const e=ke(t);if(!e)return null;const n=new xd(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}(r.component);if(o)for(const{templateName:a}of o.inputs)n.activatedComponentRef.setInput(a,s[a]);else this.unsubscribeFromRouteData(n)});this.outletDataSubscriptions.set(n,i)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=X({token:t,factory:t.\u0275fac})}return t})();function oh(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function rne(t,e,n){return e.children.map(r=>{for(const i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return oh(t,r,i);return oh(t,r)})}(t,e,n);return new Es(r,i)}{if(t.shouldAttach(e.value)){const s=t.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>oh(t,a)),o}}const r=function ine(t){return new po(new Br(t.url),new Br(t.params),new Br(t.queryParams),new Br(t.fragment),new Br(t.data),t.outlet,t.component,t)}(e.value),i=e.children.map(s=>oh(t,s));return new Es(r,i)}}const bI="ngNavigationCancelingError";function X2(t,e){const{redirectTo:n,navigationBehaviorOptions:r}=ma(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=J2(!1,0,e);return i.url=n,i.navigationBehaviorOptions=r,i}function J2(t,e,n){const r=new Error("NavigationCancelingError: "+(t||""));return r[bI]=!0,r.cancellationCode=e,n&&(r.url=n),r}function eB(t){return t&&t[bI]}let tB=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=wt({type:t,selectors:[["ng-component"]],standalone:!0,features:[sL],decls:1,vars:0,template:function(r,i){1&r&&_t(0,"router-outlet")},dependencies:[vI],encapsulation:2})}return t})();function wI(t){const e=t.children&&t.children.map(wI),n=e?{...t,children:e}:{...t};return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==ve&&(n.component=tB),n}function hi(t){return t.outlet||ve}function ah(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class hne{constructor(e,n,r,i,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),yI(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){const i=Tl(n);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Tl(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){const o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Tl(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){const i=Tl(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new Qte(s.value.snapshot))}),e.children.length&&this.forwardEvent(new Yte(e.value.snapshot))}activateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(yI(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),yI(a.route.value),this.activateChildRoutes(e,null,o.children)}else{const a=ah(i.snapshot);o.attachRef=null,o.route=i,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}}class nB{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Cm{constructor(e,n){this.component=e,this.route=n}}function fne(t,e,n){const r=t._root;return ch(r,e?e._root:null,n,[r.value])}function Dl(t,e){const n=Symbol(),r=e.get(t,n);return r===n?"function"!=typeof t||function LG(t){return null!==_p(t)}(t)?e.get(t):t:r}function ch(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=Tl(e);return t.children.forEach(o=>{(function gne(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const c=function mne(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!ga(t.url,e.url);case"pathParamsOrQueryParamsChange":return!ga(t.url,e.url)||!Ni(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!_I(t,e)||!Ni(t.queryParams,e.queryParams);default:return!_I(t,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new nB(r)):(s.data=o.data,s._resolvedData=o._resolvedData),ch(t,e,s.component?a?a.children:null:n,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Cm(a.outlet.component,o))}else o&&lh(e,a,i),i.canActivateChecks.push(new nB(r)),ch(t,null,s.component?a?a.children:null:n,r,i)})(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>lh(a,n.getContext(o),i)),i}function lh(t,e,n){const r=Tl(t),i=t.value;Object.entries(r).forEach(([s,o])=>{lh(o,i.component?e?e.children.getContext(s):null:e,n)}),n.canDeactivateChecks.push(new Cm(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function uh(t){return"function"==typeof t}function rB(t){return t instanceof dm||"EmptyError"===t?.name}const Em=Symbol("INITIAL_VALUE");function Sl(){return ti(t=>rI(t.map(e=>e.pipe(bl(1),function ate(...t){const e=Wu(t);return mt((n,r)=>{(e?iI(t,n,e):iI(t,n)).subscribe(r)})}(Em)))).pipe(Me(e=>{for(const n of e)if(!0!==n){if(n===Em)return Em;if(!1===n||n instanceof Cl)return n}return!0}),Is(e=>e!==Em),bl(1)))}function iB(t){return function z(...t){return ae(t)}(wn(e=>{if(ma(e))throw X2(0,e)}),Me(e=>!0===e))}class Tm{constructor(e){this.segmentGroup=e||null}}class sB{constructor(e){this.urlTree=e}}function xl(t){return Yd(new Tm(t))}function oB(t){return Yd(new sB(t))}class Lne{constructor(e,n){this.urlSerializer=e,this.urlTree=n}noMatchError(e){return new L(4002,!1)}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return ie(r);if(i.numberOfChildren>1||!i.children[ve])return Yd(new L(4e3,!1));i=i.children[ve]}}applyRedirectCommands(e,n,r){return this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r)}applyRedirectCreateUrlTree(e,n,r,i){const s=this.createSegmentGroup(e,n.root,r,i);return new Cl(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){const r={};return Object.entries(e).forEach(([i,s])=>{if("string"==typeof s&&s.startsWith(":")){const a=s.substring(1);r[i]=n[a]}else r[i]=s}),r}createSegmentGroup(e,n,r,i){const s=this.createSegments(e,n.segments,r,i);let o={};return Object.entries(n.children).forEach(([a,c])=>{o[a]=this.createSegmentGroup(e,c,r,i)}),new He(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){const i=r[n.path.substring(1)];if(!i)throw new L(4001,!1);return i}findOrReturn(e,n){let r=0;for(const i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}}const II={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Fne(t,e,n,r,i){const s=CI(t,e,n);return s.matched?(r=function one(t,e){return t.providers&&!t._injector&&(t._injector=Zw(t.providers,e,`Route: ${t.path}`)),t._injector??e}(e,r),function Rne(t,e,n,r){const i=e.canMatch;return i&&0!==i.length?ie(i.map(o=>{const a=Dl(o,t);return fo(function Ine(t){return t&&uh(t.canMatch)}(a)?a.canMatch(e,n):t.runInContext(()=>a(e,n)))})).pipe(Sl(),iB()):ie(!0)}(r,e,n).pipe(Me(o=>!0===o?s:{...II}))):ie(s)}function CI(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{...II}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const i=(e.matcher||gte)(n,t,e);if(!i)return{...II};const s={};Object.entries(i.posParams??{}).forEach(([a,c])=>{s[a]=c.path});const o=i.consumed.length>0?{...s,...i.consumed[i.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function aB(t,e,n,r){return n.length>0&&function Une(t,e,n){return n.some(r=>Dm(t,e,r)&&hi(r)!==ve)}(t,n,r)?{segmentGroup:new He(e,Vne(r,new He(n,t.children))),slicedSegments:[]}:0===n.length&&function jne(t,e,n){return n.some(r=>Dm(t,e,r))}(t,n,r)?{segmentGroup:new He(t.segments,Bne(t,0,n,r,t.children)),slicedSegments:n}:{segmentGroup:new He(t.segments,t.children),slicedSegments:n}}function Bne(t,e,n,r,i){const s={};for(const o of r)if(Dm(t,n,o)&&!i[hi(o)]){const a=new He([],{});s[hi(o)]=a}return{...i,...s}}function Vne(t,e){const n={};n[ve]=e;for(const r of t)if(""===r.path&&hi(r)!==ve){const i=new He([],{});n[hi(r)]=i}return n}function Dm(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}class Gne{constructor(e,n,r,i,s,o,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.allowRedirects=!0,this.applyRedirects=new Lne(this.urlSerializer,this.urlTree)}noMatchError(e){return new L(4002,!1)}recognize(){const e=aB(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,ve).pipe(pa(n=>{if(n instanceof sB)return this.allowRedirects=!1,this.urlTree=n.urlTree,this.match(n.urlTree);throw n instanceof Tm?this.noMatchError(n):n}),Me(n=>{const r=new wm([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},ve,this.rootComponentType,null,{}),i=new Es(r,n),s=new Y2("",i),o=function Nte(t,e,n=null,r=null){return F2(L2(t),e,n,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root),{state:s,tree:o}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e.root,ve).pipe(pa(r=>{throw r instanceof Tm?this.noMatchError(r):r}))}inheritParamsAndData(e){const n=e.value,r=K2(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0)}processChildren(e,n,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return on(i).pipe(wl(s=>{const o=r.children[s],a=function une(t,e){const n=t.filter(r=>hi(r)===e);return n.push(...t.filter(r=>hi(r)!==e)),n}(n,s);return this.processSegmentGroup(e,a,o,s)}),function ute(t,e){return mt(function lte(t,e,n,r,i){return(s,o)=>{let a=n,c=e,l=0;s.subscribe(kt(o,u=>{const d=l++;c=a?t(c,u,d):(a=!0,u),r&&o.next(c)},i&&(()=>{a&&o.next(c),o.complete()})))}}(t,e,arguments.length>=2,!0))}((s,o)=>(s.push(...o),s)),hm(null),function dte(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Is((i,s)=>t(i,s,r)):x,oI(1),n?hm(e):C2(()=>new dm))}(),mn(s=>{if(null===s)return xl(r);const o=cB(s);return function Wne(t){t.sort((e,n)=>e.value.outlet===ve?-1:n.value.outlet===ve?1:e.value.outlet.localeCompare(n.value.outlet))}(o),ie(o)}))}processSegment(e,n,r,i,s,o){return on(n).pipe(wl(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,i,s,o).pipe(pa(c=>{if(c instanceof Tm)return ie(null);throw c}))),fa(a=>!!a),pa(a=>{if(rB(a))return function Hne(t,e,n){return 0===e.length&&!t.children[n]}(r,i,s)?ie([]):xl(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,s,o,a){return function $ne(t,e,n,r){return!!(hi(t)===r||r!==ve&&Dm(e,n,t))&&("**"===t.path||CI(e,t,n).matched)}(r,i,s,o)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,i,r,s,o,a):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o):xl(i):xl(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,i){const s=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?oB(s):this.applyRedirects.lineralizeSegments(r,s).pipe(mn(o=>{const a=new He(o,{});return this.processSegment(e,n,a,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){const{matched:a,consumedSegments:c,remainingSegments:l,positionalParamSegments:u}=CI(n,i,s);if(!a)return xl(n);const d=this.applyRedirects.applyRedirectCommands(c,i.redirectTo,u);return i.redirectTo.startsWith("/")?oB(d):this.applyRedirects.lineralizeSegments(i,d).pipe(mn(h=>this.processSegment(e,r,n,h.concat(l),o,!1)))}matchSegmentAgainstRoute(e,n,r,i,s,o){let a;if("**"===r.path){const c=i.length>0?T2(i).parameters:{};a=ie({snapshot:new wm(i,c,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,lB(r),hi(r),r.component??r._loadedComponent??null,r,uB(r)),consumedSegments:[],remainingSegments:[]}),n.children={}}else a=Fne(n,r,i,e).pipe(Me(({matched:c,consumedSegments:l,remainingSegments:u,parameters:d})=>c?{snapshot:new wm(l,d,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,lB(r),hi(r),r.component??r._loadedComponent??null,r,uB(r)),consumedSegments:l,remainingSegments:u}:null));return a.pipe(ti(c=>null===c?xl(n):this.getChildConfig(e=r._injector??e,r,i).pipe(ti(({routes:l})=>{const u=r._loadedInjector??e,{snapshot:d,consumedSegments:h,remainingSegments:f}=c,{segmentGroup:p,slicedSegments:g}=aB(n,h,f,l);if(0===g.length&&p.hasChildren())return this.processChildren(u,l,p).pipe(Me(_=>null===_?null:[new Es(d,_)]));if(0===l.length&&0===g.length)return ie([new Es(d,[])]);const m=hi(r)===s;return this.processSegment(u,l,p,g,m?ve:s,!0).pipe(Me(_=>[new Es(d,_)]))}))))}getChildConfig(e,n,r){return n.children?ie({routes:n.children,injector:e}):n.loadChildren?void 0!==n._loadedRoutes?ie({routes:n._loadedRoutes,injector:n._loadedInjector}):function Pne(t,e,n,r){const i=e.canLoad;return void 0===i||0===i.length?ie(!0):ie(i.map(o=>{const a=Dl(o,t);return fo(function _ne(t){return t&&uh(t.canLoad)}(a)?a.canLoad(e,n):t.runInContext(()=>a(e,n)))})).pipe(Sl(),iB())}(e,n,r).pipe(mn(i=>i?this.configLoader.loadChildren(e,n).pipe(wn(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):function Nne(t){return Yd(J2(!1,3))}())):ie({routes:[],injector:e})}}function qne(t){const e=t.value.routeConfig;return e&&""===e.path}function cB(t){const e=[],n=new Set;for(const r of t){if(!qne(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):e.push(r)}for(const r of n){const i=cB(r.children);e.push(new Es(r.value,i))}return e.filter(r=>!n.has(r))}function lB(t){return t.data||{}}function uB(t){return t.resolve||{}}function dB(t){return"string"==typeof t.title||null===t.title}function EI(t){return ti(e=>{const n=t(e);return n?on(n).pipe(Me(()=>e)):ie(e)})}const Al=new Y("ROUTES");let TI=(()=>{class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=K(ZL)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return ie(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);const r=fo(n.loadComponent()).pipe(Me(hB),wn(s=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=s}),Zd(()=>{this.componentLoaders.delete(n)})),i=new I2(r,()=>new Ee).pipe(sI());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return ie({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const s=function ere(t,e,n,r){return fo(t.loadChildren()).pipe(Me(hB),mn(i=>i instanceof rL||Array.isArray(i)?ie(i):on(e.compileModuleAsync(i))),Me(i=>{r&&r(t);let s,o,a=!1;return Array.isArray(i)?(o=i,!0):(s=i.create(n).injector,o=s.get(Al,[],{optional:!0,self:!0}).flat()),{routes:o.map(wI),injector:s}}))}(r,this.compiler,n,this.onLoadEndListener).pipe(Zd(()=>{this.childrenLoaders.delete(r)})),o=new I2(s,()=>new Ee).pipe(sI());return this.childrenLoaders.set(r,o),o}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=X({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function hB(t){return function tre(t){return t&&"object"==typeof t&&"default"in t}(t)?t.default:t}let Sm=(()=>{class t{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Ee,this.transitionAbortSubject=new Ee,this.configLoader=K(TI),this.environmentInjector=K(Er),this.urlSerializer=K(Jd),this.rootContexts=K(sh),this.inputBindingEnabled=null!==K(Im,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>ie(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new qte(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new Wte(i))}complete(){this.transitions?.complete()}handleNavigationRequest(n){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...n,id:r})}setupNavigations(n,r,i){return this.transitions=new Br({id:0,currentUrlTree:r,currentRawUrl:r,currentBrowserUrl:r,extractedUrl:n.urlHandlingStrategy.extract(r),urlAfterRedirects:n.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:rh,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Is(s=>0!==s.id),Me(s=>({...s,extractedUrl:n.urlHandlingStrategy.extract(s.rawUrl)})),ti(s=>{this.currentTransition=s;let o=!1,a=!1;return ie(s).pipe(wn(c=>{this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),ti(c=>{const l=c.currentBrowserUrl.toString(),u=!n.navigated||c.extractedUrl.toString()!==l||l!==c.currentUrlTree.toString();if(!u&&"reload"!==(c.extras.onSameUrlNavigation??n.onSameUrlNavigation)){const h="";return this.events.next(new El(c.id,this.urlSerializer.serialize(c.rawUrl),h,0)),c.resolve(null),wi}if(n.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return ie(c).pipe(ti(h=>{const f=this.transitions?.getValue();return this.events.next(new vm(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),f!==this.transitions?.getValue()?wi:Promise.resolve(h)}),function Kne(t,e,n,r,i,s){return mn(o=>function zne(t,e,n,r,i,s,o="emptyOnly"){return new Gne(t,e,n,r,i,o,s).recognize()}(t,e,n,r,o.extractedUrl,i,s).pipe(Me(({state:a,tree:c})=>({...o,targetSnapshot:a,urlAfterRedirects:c}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,n.paramsInheritanceStrategy),wn(h=>{s.targetSnapshot=h.targetSnapshot,s.urlAfterRedirects=h.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:h.urlAfterRedirects};const f=new H2(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(f)}));if(u&&n.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){const{id:h,extractedUrl:f,source:p,restoredState:g,extras:m}=c,_=new vm(h,this.urlSerializer.serialize(f),p,g);this.events.next(_);const y=q2(0,this.rootComponentType).snapshot;return this.currentTransition=s={...c,targetSnapshot:y,urlAfterRedirects:f,extras:{...m,skipLocationChange:!1,replaceUrl:!1}},ie(s)}{const h="";return this.events.next(new El(c.id,this.urlSerializer.serialize(c.extractedUrl),h,1)),c.resolve(null),wi}}),wn(c=>{const l=new $te(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(l)}),Me(c=>(this.currentTransition=s={...c,guards:fne(c.targetSnapshot,c.currentSnapshot,this.rootContexts)},s)),function Ene(t,e){return mn(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?ie({...n,guardsResult:!0}):function Tne(t,e,n,r){return on(t).pipe(mn(i=>function kne(t,e,n,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?ie(s.map(a=>{const c=ah(e)??i,l=Dl(a,c);return fo(function wne(t){return t&&uh(t.canDeactivate)}(l)?l.canDeactivate(t,e,n,r):c.runInContext(()=>l(t,e,n,r))).pipe(fa())})).pipe(Sl()):ie(!0)}(i.component,i.route,n,e,r)),fa(i=>!0!==i,!0))}(o,r,i,t).pipe(mn(a=>a&&function yne(t){return"boolean"==typeof t}(a)?function Dne(t,e,n,r){return on(e).pipe(wl(i=>iI(function xne(t,e){return null!==t&&e&&e(new Kte(t)),ie(!0)}(i.route.parent,r),function Sne(t,e){return null!==t&&e&&e(new Zte(t)),ie(!0)}(i.route,r),function Mne(t,e,n){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function pne(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(o)).filter(o=>null!==o).map(o=>w2(()=>ie(o.guards.map(c=>{const l=ah(o.node)??n,u=Dl(c,l);return fo(function bne(t){return t&&uh(t.canActivateChild)}(u)?u.canActivateChild(r,t):l.runInContext(()=>u(r,t))).pipe(fa())})).pipe(Sl())));return ie(s).pipe(Sl())}(t,i.path,n),function Ane(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return ie(!0);const i=r.map(s=>w2(()=>{const o=ah(e)??n,a=Dl(s,o);return fo(function vne(t){return t&&uh(t.canActivate)}(a)?a.canActivate(e,t):o.runInContext(()=>a(e,t))).pipe(fa())}));return ie(i).pipe(Sl())}(t,i.route,n))),fa(i=>!0!==i,!0))}(r,s,t,e):ie(a)),Me(a=>({...n,guardsResult:a})))})}(this.environmentInjector,c=>this.events.next(c)),wn(c=>{if(s.guardsResult=c.guardsResult,ma(c.guardsResult))throw X2(0,c.guardsResult);const l=new Hte(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(l)}),Is(c=>!!c.guardsResult||(this.cancelNavigationTransition(c,"",3),!1)),EI(c=>{if(c.guards.canActivateChecks.length)return ie(c).pipe(wn(l=>{const u=new zte(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}),ti(l=>{let u=!1;return ie(l).pipe(function Yne(t,e){return mn(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return ie(n);let s=0;return on(i).pipe(wl(o=>function Zne(t,e,n,r){const i=t.routeConfig,s=t._resolve;return void 0!==i?.title&&!dB(i)&&(s[Qd]=i.title),function Qne(t,e,n,r){const i=function Xne(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}(t);if(0===i.length)return ie({});const s={};return on(i).pipe(mn(o=>function Jne(t,e,n,r){const i=ah(e)??r,s=Dl(t,i);return fo(s.resolve?s.resolve(e,n):i.runInContext(()=>s(e,n)))}(t[o],e,n,r).pipe(fa(),wn(a=>{s[o]=a}))),oI(1),function hte(t){return Me(()=>t)}(s),pa(o=>rB(o)?wi:Yd(o)))}(s,t,e,r).pipe(Me(o=>(t._resolvedData=o,t.data=K2(t,n).resolve,i&&dB(i)&&(t.data[Qd]=i.title),null)))}(o.route,r,t,e)),wn(()=>s++),oI(1),mn(o=>s===i.length?ie(n):wi))})}(n.paramsInheritanceStrategy,this.environmentInjector),wn({next:()=>u=!0,complete:()=>{u||this.cancelNavigationTransition(l,"",2)}}))}),wn(l=>{const u=new Gte(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}))}),EI(c=>{const l=u=>{const d=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&d.push(this.configLoader.loadComponent(u.routeConfig).pipe(wn(h=>{u.component=h}),Me(()=>{})));for(const h of u.children)d.push(...l(h));return d};return rI(l(c.targetSnapshot.root)).pipe(hm(),bl(1))}),EI(()=>this.afterPreactivation()),Me(c=>{const l=function nne(t,e,n){const r=oh(t,e._root,n?n._root:void 0);return new W2(r,e)}(n.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=s={...c,targetRouterState:l},s}),wn(()=>{this.events.next(new hI)}),((t,e,n,r)=>Me(i=>(new hne(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)))(this.rootContexts,n.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),bl(1),wn({next:c=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Cs(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),n.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{o=!0}}),function fte(t){return mt((e,n)=>{Fr(t).subscribe(kt(n,()=>n.complete(),mc)),!n.closed&&e.subscribe(n)})}(this.transitionAbortSubject.pipe(wn(c=>{throw c}))),Zd(()=>{o||a||this.cancelNavigationTransition(s,"",1),this.currentNavigation?.id===s.id&&(this.currentNavigation=null)}),pa(c=>{if(a=!0,eB(c))this.events.next(new ih(s.id,this.urlSerializer.serialize(s.extractedUrl),c.message,c.cancellationCode)),function sne(t){return eB(t)&&ma(t.url)}(c)?this.events.next(new fI(c.url)):s.resolve(!1);else{this.events.next(new bm(s.id,this.urlSerializer.serialize(s.extractedUrl),c,s.targetSnapshot??void 0));try{s.resolve(n.errorHandler(c))}catch(l){s.reject(l)}}return wi}))}))}cancelNavigationTransition(n,r,i){const s=new ih(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(s),n.resolve(!1)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=X({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function fB(t){return t!==rh}let pB=(()=>{class t{buildTitle(n){let r,i=n.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===ve);return r}getResolvedTitleForRoute(n){return n.data[Qd]}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=X({token:t,factory:function(){return K(nre)},providedIn:"root"})}return t})(),nre=(()=>{class t extends pB{constructor(n){super(),this.title=n}updateTitle(n){const r=this.buildTitle(n);void 0!==r&&this.title.setTitle(r)}static#e=this.\u0275fac=function(r){return new(r||t)(W(m2))};static#t=this.\u0275prov=X({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),rre=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=X({token:t,factory:function(){return K(sre)},providedIn:"root"})}return t})();class ire{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}}let sre=(()=>{class t extends ire{static#e=this.\u0275fac=function(){let n;return function(i){return(n||(n=function sP(t){return os(()=>{const e=t.prototype.constructor,n=e[as]||_b(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const s=i[as]||_b(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}(t)))(i||t)}}();static#t=this.\u0275prov=X({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const xm=new Y("",{providedIn:"root",factory:()=>({})});let ore=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=X({token:t,factory:function(){return K(are)},providedIn:"root"})}return t})(),are=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=X({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var dh=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(dh||{});function gB(t,e){t.events.pipe(Is(n=>n instanceof Cs||n instanceof ih||n instanceof bm||n instanceof El),Me(n=>n instanceof Cs||n instanceof El?dh.COMPLETE:n instanceof ih&&(0===n.code||1===n.code)?dh.REDIRECTING:dh.FAILED),Is(n=>n!==dh.REDIRECTING),bl(1)).subscribe(()=>{e()})}function cre(t){throw t}function lre(t,e,n){return e.parse("/")}const ure={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},dre={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let en=(()=>{class t{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=K(YL),this.isNgZoneEnabled=!1,this._events=new Ee,this.options=K(xm,{optional:!0})||{},this.pendingTasks=K(jg),this.errorHandler=this.options.errorHandler||cre,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||lre,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=K(ore),this.routeReuseStrategy=K(rre),this.titleStrategy=K(pB),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=K(Al,{optional:!0})?.flat()??[],this.navigationTransitions=K(Sm),this.urlSerializer=K(Jd),this.location=K(Yg),this.componentInputBindingEnabled=!!K(Im,{optional:!0}),this.eventsSubscription=new Yt,this.isNgZoneEnabled=K($e)instanceof $e&&$e.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Cl,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=q2(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(n=>{this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId},n=>{this.console.warn(`Unhandled Navigation Error: ${n}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const n=this.navigationTransitions.events.subscribe(r=>{try{const{currentTransition:i}=this.navigationTransitions;if(null===i)return void(mB(r)&&this._events.next(r));if(r instanceof vm)fB(i.source)&&(this.browserUrlTree=i.extractedUrl);else if(r instanceof El)this.rawUrlTree=i.rawUrl;else if(r instanceof H2){if("eager"===this.urlUpdateStrategy){if(!i.extras.skipLocationChange){const s=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl);this.setBrowserUrl(s,i)}this.browserUrlTree=i.urlAfterRedirects}}else if(r instanceof hI)this.currentUrlTree=i.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl),this.routerState=i.targetRouterState,"deferred"===this.urlUpdateStrategy&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i),this.browserUrlTree=i.urlAfterRedirects);else if(r instanceof ih)0!==r.code&&1!==r.code&&(this.navigated=!0),(3===r.code||2===r.code)&&this.restoreHistory(i);else if(r instanceof fI){const s=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),o={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||fB(i.source)};this.scheduleNavigation(s,rh,null,o,{resolve:i.resolve,reject:i.reject,promise:i.promise})}r instanceof bm&&this.restoreHistory(i,!0),r instanceof Cs&&(this.navigated=!0),mB(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const n=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),rh,n)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(n=>{const r="popstate"===n.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(n.url,r,n.state)},0)}))}navigateToSyncWithBrowser(n,r,i){const s={replaceUrl:!0},o=i?.navigationId?i:null;if(i){const c={...i};delete c.navigationId,delete c.\u0275routerPageId,0!==Object.keys(c).length&&(s.state=c)}const a=this.parseUrl(n);this.scheduleNavigation(a,r,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(wI),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){const{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:c}=r,l=c?this.currentUrlTree.fragment:o;let d,u=null;switch(a){case"merge":u={...this.currentUrlTree.queryParams,...s};break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=s||null}null!==u&&(u=this.removeEmptyProps(u));try{d=L2(i?i.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof n[0]||!n[0].startsWith("/"))&&(n=[]),d=this.currentUrlTree.root}return F2(d,n,u,l??null)}navigateByUrl(n,r={skipLocationChange:!1}){const i=ma(n)?n:this.parseUrl(n),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,rh,null,r)}navigate(n,r={skipLocationChange:!1}){return function hre(t){for(let e=0;e<t.length;e++)if(null==t[e])throw new L(4008,!1)}(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){let r;try{r=this.urlSerializer.parse(n)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,n)}return r}isActive(n,r){let i;if(i=!0===r?{...ure}:!1===r?{...dre}:r,ma(n))return S2(this.currentUrlTree,n,i);const s=this.parseUrl(n);return S2(this.currentUrlTree,s,i)}removeEmptyProps(n){return Object.keys(n).reduce((r,i)=>{const s=n[i];return null!=s&&(r[i]=s),r},{})}scheduleNavigation(n,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let a,c,l;o?(a=o.resolve,c=o.reject,l=o.promise):l=new Promise((d,h)=>{a=d,c=h});const u=this.pendingTasks.add();return gB(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:n,extras:s,resolve:a,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(d=>Promise.reject(d))}setBrowserUrl(n,r){const i=this.urlSerializer.serialize(n);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const o={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",o)}else{const s={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId+1)};this.location.go(i,"",s)}}restoreHistory(n,r=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-this.browserPageId;0!==s?this.location.historyGo(s):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===s&&(this.resetState(n),this.browserUrlTree=n.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=n.currentRouterState,this.currentUrlTree=n.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=X({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function mB(t){return!(t instanceof hI||t instanceof fI)}class yB{}let gre=(()=>{class t{constructor(n,r,i,s,o){this.router=n,this.injector=i,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(Is(n=>n instanceof Cs),wl(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){const i=[];for(const s of r){s.providers&&!s._injector&&(s._injector=Zw(s.providers,n,`Route: ${s.path}`));const o=s._injector??n,a=s._loadedInjector??o;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&i.push(this.preloadConfig(o,s)),(s.children||s._loadedRoutes)&&i.push(this.processRoutes(a,s.children??s._loadedRoutes))}return on(i).pipe(bc())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(n,r):ie(null);const s=i.pipe(mn(o=>null===o?ie(void 0):(r._loadedRoutes=o.routes,r._loadedInjector=o.injector,this.processRoutes(o.injector??n,o.routes))));return r.loadComponent&&!r._loadedComponent?on([s,this.loader.loadComponent(r)]).pipe(bc()):s})}static#e=this.\u0275fac=function(r){return new(r||t)(W(en),W(ZL),W(Er),W(yB),W(TI))};static#t=this.\u0275prov=X({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const SI=new Y("");let _B=(()=>{class t{constructor(n,r,i,s,o={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=i,this.zone=s,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof vm?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof Cs?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof El&&0===n.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof z2&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new z2(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){!function zR(){throw new Error("invalid")}()};static#t=this.\u0275prov=X({token:t,factory:t.\u0275fac})}return t})();function Ts(t,e){return{\u0275kind:t,\u0275providers:e}}function bB(){const t=K(cr);return e=>{const n=t.get(ml);if(e!==n.components[0])return;const r=t.get(en),i=t.get(wB);1===t.get(xI)&&r.initialNavigation(),t.get(IB,null,Ie.Optional)?.setUpPreloading(),t.get(SI,null,Ie.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const wB=new Y("",{factory:()=>new Ee}),xI=new Y("",{providedIn:"root",factory:()=>1}),IB=new Y("");function vre(t){return Ts(0,[{provide:IB,useExisting:gre},{provide:yB,useExisting:t}])}const CB=new Y("ROUTER_FORROOT_GUARD"),wre=[Yg,{provide:Jd,useClass:aI},en,sh,{provide:po,useFactory:function vB(t){return t.routerState.root},deps:[en]},TI,[]];function Ire(){return new rF("Router",en)}let EB=(()=>{class t{constructor(n){}static forRoot(n,r){return{ngModule:t,providers:[wre,[],{provide:Al,multi:!0,useValue:n},{provide:CB,useFactory:Dre,deps:[[en,new or,new $p]]},{provide:xm,useValue:r||{}},r?.useHash?{provide:ha,useClass:AX}:{provide:ha,useClass:RF},{provide:SI,useFactory:()=>{const t=K(KJ),e=K($e),n=K(xm),r=K(Sm),i=K(Jd);return n.scrollOffset&&t.setOffset(n.scrollOffset),new _B(i,r,t,e,n)}},r?.preloadingStrategy?vre(r.preloadingStrategy).\u0275providers:[],{provide:rF,multi:!0,useFactory:Ire},r?.initialNavigation?Sre(r):[],r?.bindToComponentInputs?Ts(8,[Q2,{provide:Im,useExisting:Q2}]).\u0275providers:[],[{provide:TB,useFactory:bB},{provide:w0,multi:!0,useExisting:TB}]]}}static forChild(n){return{ngModule:t,providers:[{provide:Al,multi:!0,useValue:n}]}}static#e=this.\u0275fac=function(r){return new(r||t)(W(CB,8))};static#t=this.\u0275mod=Ci({type:t});static#n=this.\u0275inj=ni({})}return t})();function Dre(t){return"guarded"}function Sre(t){return["disabled"===t.initialNavigation?Ts(3,[{provide:f0,multi:!0,useFactory:()=>{const e=K(en);return()=>{e.setUpLocationChangeListener()}}},{provide:xI,useValue:2}]).\u0275providers:[],"enabledBlocking"===t.initialNavigation?Ts(2,[{provide:xI,useValue:0},{provide:f0,multi:!0,deps:[cr],useFactory:e=>{const n=e.get(SX,Promise.resolve());return()=>n.then(()=>new Promise(r=>{const i=e.get(en),s=e.get(wB);gB(i,()=>{r(!0)}),e.get(Sm).afterPreactivation=()=>(r(!0),s.closed?ie(void 0):s),i.initialNavigation()}))}}]).\u0275providers:[]]}const TB=new Y("");let ya=(()=>{class t{constructor(n,r){this.location=n,this.router=r,this.routeUrlChangeSubject=new Ee,this.routerUrlChangeEmit=this.routeUrlChangeSubject.asObservable(),this.routeUrlRecord=[],this.previousUrl="",this.currentUrl="",this.router.events.subscribe(i=>{i instanceof Cs&&(this.previousUrl=this.currentUrl,this.currentUrl=i.url,this.routeUrlRecord.push(i.url))})}getPreviousUrl(){return this.routeUrlRecord[this.routeUrlRecord.length-2]}getCurrentUrl(){return this.routeUrlRecord[this.routeUrlRecord.length-1]}cleanUrlRecord(){this.routeUrlRecord=[]}nextPage(n,r){this.routeUrlChangeSubject.next(n),this.checkRouteUrl(this.getCurrentUrl()),r?this.router.navigate([n],{queryParams:{...r}}):this.router.navigate([n])}backPage(){if(console.log(this.getCurrentUrl()),"/"===this.getCurrentUrl()||!this.getCurrentUrl())return alert("\u78ba\u5b9a\u96e2\u958bapp?"),void window.close();const n=this.getPreviousUrl();n.includes("?")&&this.location.back(),this.routeUrlRecord.pop(),this.routeUrlRecord.pop(),this.router.navigate([n])}checkRouteUrl(n){n&&(n.includes("booking-check-form")||n.includes("review-booking-form"))&&(this.cleanUrlRecord(),this.routeUrlRecord.push("/"),this.routeUrlRecord.push("/home"))}static#e=this.\u0275fac=function(r){return new(r||t)(W(Yg),W(en))};static#t=this.\u0275prov=X({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),AI=(()=>{class t{constructor(){this.imgUrl="",this.btnText="\u958b\u767c\u4e2d\u529f\u80fd",this.btnRouterLink=""}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=wt({type:t,selectors:[["app-img-btn"]],inputs:{imgUrl:"imgUrl",btnText:"btnText",btnRouterLink:"btnRouterLink"},decls:4,vars:2,consts:[[1,"img-btn"],[1,"background-img",3,"src"],[1,"img-btn-text"]],template:function(r,i){1&r&&(D(0,"div",0),_t(1,"img",1),D(2,"label",2),N(3),S()()),2&r&&(k(1),F("src",i.imgUrl,Wc),k(2),ms(i.btnText))},styles:[".img-btn[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.img-btn-text[_ngcontent-%COMP%]{position:absolute;color:#fff;font-size:25px}"]})}return t})(),Are=(()=>{class t{constructor(n){this.routeUrlRecordService=n}nextPage(n){this.routeUrlRecordService.nextPage(n,{})}static#e=this.\u0275fac=function(r){return new(r||t)($(ya))};static#t=this.\u0275cmp=wt({type:t,selectors:[["app-home-page"]],decls:5,vars:8,consts:[[1,"home-list-container"],[3,"imgUrl","btnText","click"]],template:function(r,i){1&r&&(D(0,"div",0)(1,"app-img-btn",1),V("click",function(){return i.nextPage("/booking-date")}),S(),D(2,"app-img-btn",1),V("click",function(){return i.nextPage("/review-booking-calendar")}),S(),D(3,"app-img-btn",1),V("click",function(){return i.nextPage("/review-room-overview")}),S(),D(4,"app-img-btn",1),V("click",function(){return i.nextPage("/pay-plan-list")}),S()()),2&r&&(k(1),F("imgUrl","assets/images/button/button_main.png")("btnText","\u9810\u7d04\u7a7a\u9593"),k(1),F("imgUrl","assets/images/button/button_main.png")("btnText","\u5df2\u9810\u7d04"),k(1),F("imgUrl","assets/images/button/button_main.png")("btnText","\u7a7a\u9593\u7e3d\u89bd"),k(1),F("imgUrl","assets/images/button/button_main.png")("btnText","\u8cfc\u8cb7\u65b9\u6848"))},dependencies:[AI],styles:[".home-list-container[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;justify-content:space-between;align-items:center;margin-bottom:40px;gap:40px}"]})}return t})();var b=Yr(861);const DB=(0,Yr(726).fo)("GoogleAuth",{web:()=>Yr.e(109).then(Yr.bind(Yr,109)).then(t=>new t.GoogleAuthWeb)});let Am=(()=>{class t{constructor(n){this.router=n,this.isLoginIn=!1,DB.initialize({clientId:"328066296243-5opekodfa93rria1e8utcql4rkrbvktq.apps.googleusercontent.com",scopes:["profile","email"],grantOfflineAccess:!0})}isAuthenticated(){return this.isLoginIn}getCurrentUser(){return this.currentUser}login(){var n=this;return(0,b.Z)(function*(){try{const r=yield DB.signIn();n.currentUser=r,console.log(r),r?(alert(r.email+" \u6210\u529f\u767b\u5165!"),n.isLoginIn=!0,n.router.navigate(["home"])):alert("\u7121\u6cd5\u53d6\u5f97\u4f7f\u7528\u8005\u8cc7\u8a0a")}catch(r){console.log(r),alert("\u767c\u751f\u932f\u8aa4\uff01\u932f\u8aa4\u8a0a\u606f\u70ba: "+r)}n.currentUser||(n.currentUser={id:"testid",name:"testname",email:"tesetmail@testmail.com",imageUrl:"testurl",authentication:{}},alert("\u56e0\u7121\u6cd5\u53d6\u5f97\u4f7f\u7528\u8005\u8cc7\u8a0a, \u8f49\u70ba\u6e2c\u8a66\u5e33\u865f: "+n.currentUser.email),n.isLoginIn=!0,n.router.navigate(["home"]))})()}static#e=this.\u0275fac=function(r){return new(r||t)(W(en))};static#t=this.\u0275prov=X({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),kre=(()=>{class t{constructor(n){this.googleAuthService=n}ngOnInit(){alert("\u8acb\u5148\u767b\u5165")}clickSignIn(){var n=this;return(0,b.Z)(function*(){n.googleAuthService.login()})()}static#e=this.\u0275fac=function(r){return new(r||t)($(Am))};static#t=this.\u0275cmp=wt({type:t,selectors:[["app-login-page"]],decls:3,vars:2,consts:[[1,"container"],["src","/assets/images/logo/logo.png",1,"logo-img"],[3,"imgUrl","btnText","click"]],template:function(r,i){1&r&&(D(0,"div",0),_t(1,"img",1),D(2,"app-img-btn",2),V("click",function(){return i.clickSignIn()}),S()()),2&r&&(k(2),F("imgUrl","assets/images/button/btn_google-auth.png")("btnText",""))},dependencies:[AI],styles:[".container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:flex-start;align-items:center;gap:20px}.container[_ngcontent-%COMP%]   .logo-img[_ngcontent-%COMP%]{width:100px}"]})}return t})(),Pre=(()=>{class t{constructor(n,r){this.googleAuthService=n,this.router=r}canActivate(n,r){return this.googleAuthService.isAuthenticated()}canActivateChild(n,r){return this.canActivate(n,r)}static#e=this.\u0275fac=function(r){return new(r||t)(W(Am),W(en))};static#t=this.\u0275prov=X({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class SB{constructor(e,n,r,i,s,o,a,c,l,u,d,h){this.fireStoreId="",this.userId="",this.mail="",this.startDate="",this.endDatae="",this.startTime="",this.endTime="",this.bookingType="",this.roomId="",this.roomName="",this.siteId="",this.siteName="",this.fireStoreId=e,this.userId=n,this.mail=r,this.startDate=i,this.endDatae=s,this.startTime=o,this.endTime=a,this.bookingType=c,this.roomId=l,this.roomName=u,this.siteId=d,this.siteName=h}}const xB=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},kI={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,c=i+2<t.length,l=c?t[i+2]:0;let h=(15&a)<<2|l>>6,f=63&l;c||(f=64,o||(h=64)),r.push(n[s>>2],n[(3&s)<<4|a>>4],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(xB(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const c=((7&i)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(1023&c))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const l=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,null==s||null==a||null==l||null==d)throw new Lre;r.push(s<<2|a>>4),64!==l&&(r.push(a<<4&240|l>>2),64!==d&&r.push(l<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Lre extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Mm=function(t){return function(t){const e=xB(t);return kI.encodeByteArray(e,!0)}(t).replace(/\./g,"")},km=function(t){try{return kI.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null},Pm=()=>{try{return function Vre(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const t=process.env.__FIREBASE_DEFAULTS__;return t?JSON.parse(t):void 0})()||(()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&km(t[1]);return e&&JSON.parse(e)})()}catch(t){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`)}},MB=()=>{var t;return null===(t=Pm())||void 0===t?void 0:t.config};class Rm{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(n):e(n,r))}}}function xr(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function PI(){const t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function _a(){try{return"object"==typeof indexedDB}catch{return!1}}function hh(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e((null===(s=i.error)||void 0===s?void 0:s.message)||"")}}catch(n){e(n)}})}function RI(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class fi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,fi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Fi.prototype.create)}}class Fi{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?function Qre(t,e){return t.replace(Xre,(n,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(s,r):"Error";return new fi(i,`${this.serviceName}: ${o} (${i}).`,r)}}const Xre=/\{\$([^}]+)}/g;function OI(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(PB(s)&&PB(o)){if(!OI(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function PB(t){return null!==t&&"object"==typeof t}function RB(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}class eie{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(void 0===e&&void 0===n&&void 0===r)throw new Error("Missing Observer.");i=function tie(t,e){if("object"!=typeof t||null===t)return!1;for(const n of e)if(n in t&&"function"==typeof t[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:n,complete:r},void 0===i.next&&(i.next=NI),void 0===i.error&&(i.error=NI),void 0===i.complete&&(i.complete=NI);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function NI(){}const nie=1e3,rie=2,iie=144e5,sie=.5;function FI(t,e=nie,n=rie){const r=e*Math.pow(n,t),i=Math.round(sie*r*(Math.random()-.5)*2);return Math.min(iie,r+i)}function Gr(t){return t&&t._delegate?t._delegate:t}class On{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const va="[DEFAULT]";class aie{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Rm;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e?.identifier),i=null!==(n=e?.optional)&&void 0!==n&&n;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function lie(t){return"EAGER"===t.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:va})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=va){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return(0,b.Z)(function*(){const n=Array.from(e.instances.values());yield Promise.all([...n.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...n.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=va){return this.instances.has(e)}getOptions(e=va){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(s)&&o.resolve(i);return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(t=e,t===va?void 0:t),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}var t;return r||null}normalizeInstanceIdentifier(e=va){return this.component?this.component.multipleInstances?e:va:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class uie{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new aie(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}const BI=[];var Ne=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(Ne||{});const OB={debug:Ne.DEBUG,verbose:Ne.VERBOSE,info:Ne.INFO,warn:Ne.WARN,error:Ne.ERROR,silent:Ne.SILENT},die=Ne.INFO,hie={[Ne.DEBUG]:"log",[Ne.VERBOSE]:"log",[Ne.INFO]:"info",[Ne.WARN]:"warn",[Ne.ERROR]:"error"},fie=(t,e,...n)=>{if(e<t.logLevel)return;const r=(new Date).toISOString(),i=hie[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${t.name}:`,...n)};class Ml{constructor(e){this.name=e,this._logLevel=die,this._logHandler=fie,this._userLogHandler=null,BI.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ne))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?OB[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ne.DEBUG,...e),this._logHandler(this,Ne.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ne.VERBOSE,...e),this._logHandler(this,Ne.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ne.INFO,...e),this._logHandler(this,Ne.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ne.WARN,...e),this._logHandler(this,Ne.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ne.ERROR,...e),this._logHandler(this,Ne.ERROR,...e)}}const pie=(t,e)=>e.some(n=>t instanceof n);let NB,LB;const FB=new WeakMap,VI=new WeakMap,BB=new WeakMap,UI=new WeakMap,jI=new WeakMap;let $I={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return VI.get(t);if("objectStoreNames"===e)return t.objectStoreNames||BB.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return go(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function wie(t){return"function"==typeof t?function bie(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function mie(){return LB||(LB=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(HI(this),e),go(FB.get(this))}:function(...e){return go(t.apply(HI(this),e))}:function(e,...n){const r=t.call(HI(this),e,...n);return BB.set(r,e.sort?e.sort():[e]),go(r)}}(t):(t instanceof IDBTransaction&&function _ie(t){if(VI.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});VI.set(t,e)}(t),pie(t,function gie(){return NB||(NB=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,$I):t)}function go(t){if(t instanceof IDBRequest)return function yie(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(go(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&FB.set(n,t)}).catch(()=>{}),jI.set(e,t),e}(t);if(UI.has(t))return UI.get(t);const e=wie(t);return e!==t&&(UI.set(t,e),jI.set(e,t)),e}const HI=t=>jI.get(t),Cie=["get","getKey","getAll","getAllKeys","count"],Eie=["put","add","delete","clear"],zI=new Map;function VB(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(zI.get(e))return zI.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=Eie.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Cie.includes(n))return;const s=function(){var o=(0,b.Z)(function*(a,...c){const l=this.transaction(a,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(c.shift())),(yield Promise.all([u[n](...c),i&&l.done]))[0]});return function(c){return o.apply(this,arguments)}}();return zI.set(e,s),s}!function vie(t){$I=t($I)}(t=>({...t,get:(e,n,r)=>VB(e,n)||t.get(e,n,r),has:(e,n)=>!!VB(e,n)||t.has(e,n)}));class Tie{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(function Die(t){const e=t.getComponent();return"VERSION"===e?.type}(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}return null}).filter(n=>n).join(" ")}}const GI="@firebase/app",ba=new Ml("@firebase/app"),Nm="[DEFAULT]",Xie={[GI]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},wa=new Map,Lm=new Map;function Jie(t,e){try{t.container.addComponent(e)}catch(n){ba.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Jn(t){const e=t.name;if(Lm.has(e))return ba.debug(`There were multiple attempts to register component ${e}.`),!1;Lm.set(e,t);for(const n of wa.values())Jie(n,t);return!0}function Fm(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}const Ds=new Fi("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class tse{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new On("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ds.create("app-deleted",{appName:this._name})}}const fh="9.23.0";function jB(t,e={}){let n=t;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:Nm,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!=typeof i||!i)throw Ds.create("bad-app-name",{appName:String(i)});if(n||(n=MB()),!n)throw Ds.create("no-options");const s=wa.get(i);if(s){if(OI(n,s.options)&&OI(r,s.config))return s;throw Ds.create("duplicate-app",{appName:i})}const o=new uie(i);for(const c of Lm.values())o.addComponent(c);const a=new tse(n,r,o);return wa.set(i,a),a}function $B(t=Nm){const e=wa.get(t);if(!e&&t===Nm&&MB())return jB();if(!e)throw Ds.create("no-app",{appName:t});return e}function HB(){return Array.from(wa.values())}function Lt(t,e,n){var r;let i=null!==(r=Xie[t])&&void 0!==r?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];return s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void ba.warn(a.join(" "))}Jn(new On(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const nse="firebase-heartbeat-database",rse=1,ph="firebase-heartbeat-store";let qI=null;function zB(){return qI||(qI=function Iie(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=go(o);return r&&o.addEventListener("upgradeneeded",c=>{r(go(o.result),c.oldVersion,c.newVersion,go(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}(nse,rse,{upgrade:(t,e)=>{0===e&&t.createObjectStore(ph)}}).catch(t=>{throw Ds.create("idb-open",{originalErrorMessage:t.message})})),qI}function KI(){return(KI=(0,b.Z)(function*(t){try{return yield(yield zB()).transaction(ph).objectStore(ph).get(WB(t))}catch(e){if(e instanceof fi)ba.warn(e.message);else{const n=Ds.create("idb-get",{originalErrorMessage:e?.message});ba.warn(n.message)}}})).apply(this,arguments)}function GB(t,e){return YI.apply(this,arguments)}function YI(){return(YI=(0,b.Z)(function*(t,e){try{const r=(yield zB()).transaction(ph,"readwrite");yield r.objectStore(ph).put(e,WB(t)),yield r.done}catch(n){if(n instanceof fi)ba.warn(n.message);else{const r=Ds.create("idb-set",{originalErrorMessage:n?.message});ba.warn(r.message)}}})).apply(this,arguments)}function WB(t){return`${t.name}!${t.options.appId}`}class ase{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new lse(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return(0,b.Z)(function*(){const r=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=qB();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==i&&!e._heartbeatsCache.heartbeats.some(s=>s.date===i))return e._heartbeatsCache.heartbeats.push({date:i,agent:r}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(s=>{const o=new Date(s.date).valueOf();return Date.now()-o<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return(0,b.Z)(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const n=qB(),{heartbeatsToSend:r,unsentEntries:i}=function cse(t,e=1024){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),KB(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),KB(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(e._heartbeatsCache.heartbeats),s=Mm(JSON.stringify({version:2,heartbeats:r}));return e._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(e._heartbeatsCache.heartbeats=i,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),s})()}}function qB(){return(new Date).toISOString().substring(0,10)}class lse{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,b.Z)(function*(){return!!_a()&&hh().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return(0,b.Z)(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function ise(t){return KI.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var n=this;return(0,b.Z)(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return GB(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var n=this;return(0,b.Z)(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return GB(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}})()}}function KB(t){return Mm(JSON.stringify({version:2,heartbeats:t})).length}!function use(t){Jn(new On("platform-logger",e=>new Tie(e),"PRIVATE")),Jn(new On("heartbeat",e=>new ase(e),"PRIVATE")),Lt(GI,"0.9.13",t),Lt(GI,"0.9.13","esm2017"),Lt("fire-js","")}(""),Lt("firebase","9.23.0","app");const fse=(t,e)=>e.some(n=>t instanceof n);let YB,ZB;const QB=new WeakMap,ZI=new WeakMap,XB=new WeakMap,QI=new WeakMap,XI=new WeakMap;let JI={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return ZI.get(t);if("objectStoreNames"===e)return t.objectStoreNames||XB.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return mo(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function bse(t){return"function"==typeof t?function vse(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function gse(){return ZB||(ZB=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(eC(this),e),mo(QB.get(this))}:function(...e){return mo(t.apply(eC(this),e))}:function(e,...n){const r=t.call(eC(this),e,...n);return XB.set(r,e.sort?e.sort():[e]),mo(r)}}(t):(t instanceof IDBTransaction&&function yse(t){if(ZI.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});ZI.set(t,e)}(t),fse(t,function pse(){return YB||(YB=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,JI):t)}function mo(t){if(t instanceof IDBRequest)return function mse(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(mo(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&QB.set(n,t)}).catch(()=>{}),XI.set(e,t),e}(t);if(QI.has(t))return QI.get(t);const e=bse(t);return e!==t&&(QI.set(t,e),XI.set(e,t)),e}const eC=t=>XI.get(t),Ise=["get","getKey","getAll","getAllKeys","count"],Cse=["put","add","delete","clear"],tC=new Map;function JB(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(tC.get(e))return tC.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=Cse.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Ise.includes(n))return;const s=function(){var o=(0,b.Z)(function*(a,...c){const l=this.transaction(a,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(c.shift())),(yield Promise.all([u[n](...c),i&&l.done]))[0]});return function(c){return o.apply(this,arguments)}}();return tC.set(e,s),s}!function _se(t){JI=t(JI)}(t=>({...t,get:(e,n,r)=>JB(e,n)||t.get(e,n,r),has:(e,n)=>!!JB(e,n)||t.has(e,n)}));const eV="@firebase/installations",nC="0.6.4",tV=1e4,nV=`w:${nC}`,rV="FIS_v2",Ese="https://firebaseinstallations.googleapis.com/v1",Tse=36e5,Ss=new Fi("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function iV(t){return t instanceof fi&&t.code.includes("request-failed")}function rC({projectId:t}){return`${Ese}/projects/${t}/installations`}function sV(t){return{token:t.token,requestStatus:2,expiresIn:Ase(t.expiresIn),creationTime:Date.now()}}function iC(t,e){return sC.apply(this,arguments)}function sC(){return(sC=(0,b.Z)(function*(t,e){const r=(yield e.json()).error;return Ss.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})).apply(this,arguments)}function oV({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function oC(t){return aC.apply(this,arguments)}function aC(){return(aC=(0,b.Z)(function*(t){const e=yield t();return e.status>=500&&e.status<600?t():e})).apply(this,arguments)}function Ase(t){return Number(t.replace("s","000"))}function cC(){return(cC=(0,b.Z)(function*({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=rC(t),i=oV(t),s=e.getImmediate({optional:!0});if(s){const l=yield s.getHeartbeatsHeader();l&&i.append("x-firebase-client",l)}const a={method:"POST",headers:i,body:JSON.stringify({fid:n,authVersion:rV,appId:t.appId,sdkVersion:nV})},c=yield oC(()=>fetch(r,a));if(c.ok){const l=yield c.json();return{fid:l.fid||n,registrationStatus:2,refreshToken:l.refreshToken,authToken:sV(l.authToken)}}throw yield iC("Create Installation",c)})).apply(this,arguments)}function cV(t){return new Promise(e=>{setTimeout(e,t)})}const Rse=/^[cdef][\w-]{21}$/,lC="";function Ose(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=function Nse(t){return function Pse(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}(t).substr(0,22)}(t);return Rse.test(n)?n:lC}catch{return lC}}function kl(t){return`${t.appName}!${t.appId}`}const Pl=new Map;function lV(t,e){const n=kl(t);uV(n,e),function Bse(t,e){const n=function dV(){return!Ia&&"BroadcastChannel"in self&&(Ia=new BroadcastChannel("[Firebase] FID Change"),Ia.onmessage=t=>{uV(t.data.key,t.data.fid)}),Ia}();n&&n.postMessage({key:t,fid:e}),function hV(){0===Pl.size&&Ia&&(Ia.close(),Ia=null)}()}(n,e)}function uV(t,e){const n=Pl.get(t);if(n)for(const r of n)r(e)}let Ia=null;const Vse="firebase-installations-database",Use=1,Ca="firebase-installations-store";let uC=null;function dC(){return uC||(uC=function wse(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=mo(o);return r&&o.addEventListener("upgradeneeded",c=>{r(mo(o.result),c.oldVersion,c.newVersion,mo(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}(Vse,Use,{upgrade:(t,e)=>{0===e&&t.createObjectStore(Ca)}})),uC}function Bm(t,e){return hC.apply(this,arguments)}function hC(){return(hC=(0,b.Z)(function*(t,e){const n=kl(t),i=(yield dC()).transaction(Ca,"readwrite"),s=i.objectStore(Ca),o=yield s.get(n);return yield s.put(e,n),yield i.done,(!o||o.fid!==e.fid)&&lV(t,e.fid),e})).apply(this,arguments)}function fC(t){return pC.apply(this,arguments)}function pC(){return(pC=(0,b.Z)(function*(t){const e=kl(t),r=(yield dC()).transaction(Ca,"readwrite");yield r.objectStore(Ca).delete(e),yield r.done})).apply(this,arguments)}function gh(t,e){return gC.apply(this,arguments)}function gC(){return(gC=(0,b.Z)(function*(t,e){const n=kl(t),i=(yield dC()).transaction(Ca,"readwrite"),s=i.objectStore(Ca),o=yield s.get(n),a=e(o);return void 0===a?yield s.delete(n):yield s.put(a,n),yield i.done,a&&(!o||o.fid!==a.fid)&&lV(t,a.fid),a})).apply(this,arguments)}function mC(t){return yC.apply(this,arguments)}function yC(){return yC=(0,b.Z)(function*(t){let e;const n=yield gh(t.appConfig,r=>{const i=function jse(t){return pV(t||{fid:Ose(),registrationStatus:0})}(r),s=function $se(t,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(Ss.create("app-offline"))};const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function Hse(t,e){return _C.apply(this,arguments)}(t,n);return{installationEntry:n,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:zse(t)}:{installationEntry:e}}(t,i);return e=s.registrationPromise,s.installationEntry});return n.fid===lC?{installationEntry:yield e}:{installationEntry:n,registrationPromise:e}}),yC.apply(this,arguments)}function _C(){return _C=(0,b.Z)(function*(t,e){try{const n=yield function kse(t,e){return cC.apply(this,arguments)}(t,e);return Bm(t.appConfig,n)}catch(n){throw iV(n)&&409===n.customData.serverCode?yield fC(t.appConfig):yield Bm(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}),_C.apply(this,arguments)}function zse(t){return vC.apply(this,arguments)}function vC(){return(vC=(0,b.Z)(function*(t){let e=yield fV(t.appConfig);for(;1===e.registrationStatus;)yield cV(100),e=yield fV(t.appConfig);if(0===e.registrationStatus){const{installationEntry:n,registrationPromise:r}=yield mC(t);return r||n}return e})).apply(this,arguments)}function fV(t){return gh(t,e=>{if(!e)throw Ss.create("installation-not-found");return pV(e)})}function pV(t){return function Gse(t){return 1===t.registrationStatus&&t.registrationTime+tV<Date.now()}(t)?{fid:t.fid,registrationStatus:0}:t}function bC(){return(bC=(0,b.Z)(function*({appConfig:t,heartbeatServiceProvider:e},n){const r=function qse(t,{fid:e}){return`${rC(t)}/${e}/authTokens:generate`}(t,n),i=function aV(t,{refreshToken:e}){const n=oV(t);return n.append("Authorization",function Mse(t){return`${rV} ${t}`}(e)),n}(t,n),s=e.getImmediate({optional:!0});if(s){const l=yield s.getHeartbeatsHeader();l&&i.append("x-firebase-client",l)}const a={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:nV,appId:t.appId}})},c=yield oC(()=>fetch(r,a));if(c.ok)return sV(yield c.json());throw yield iC("Generate Auth Token",c)})).apply(this,arguments)}function wC(t){return IC.apply(this,arguments)}function IC(){return IC=(0,b.Z)(function*(t,e=!1){let n;const r=yield gh(t.appConfig,s=>{if(!mV(s))throw Ss.create("not-registered");const o=s.authToken;if(!e&&function Zse(t){return 2===t.requestStatus&&!function Qse(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+Tse}(t)}(o))return s;if(1===o.requestStatus)return n=function Kse(t,e){return CC.apply(this,arguments)}(t,e),s;{if(!navigator.onLine)throw Ss.create("app-offline");const a=function Xse(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}(s);return n=function Yse(t,e){return EC.apply(this,arguments)}(t,a),a}});return n?yield n:r.authToken}),IC.apply(this,arguments)}function CC(){return(CC=(0,b.Z)(function*(t,e){let n=yield gV(t.appConfig);for(;1===n.authToken.requestStatus;)yield cV(100),n=yield gV(t.appConfig);const r=n.authToken;return 0===r.requestStatus?wC(t,e):r})).apply(this,arguments)}function gV(t){return gh(t,e=>{if(!mV(e))throw Ss.create("not-registered");return function Jse(t){return 1===t.requestStatus&&t.requestTime+tV<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function EC(){return EC=(0,b.Z)(function*(t,e){try{const n=yield function Wse(t,e){return bC.apply(this,arguments)}(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return yield Bm(t.appConfig,r),n}catch(n){if(!iV(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield Bm(t.appConfig,r)}else yield fC(t.appConfig);throw n}}),EC.apply(this,arguments)}function mV(t){return void 0!==t&&2===t.registrationStatus}function TC(){return(TC=(0,b.Z)(function*(t){const e=t,{installationEntry:n,registrationPromise:r}=yield mC(e);return r?r.catch(console.error):wC(e).catch(console.error),n.fid})).apply(this,arguments)}function DC(){return DC=(0,b.Z)(function*(t,e=!1){const n=t;return yield function noe(t){return SC.apply(this,arguments)}(n),(yield wC(n,e)).token}),DC.apply(this,arguments)}function SC(){return(SC=(0,b.Z)(function*(t){const{registrationPromise:e}=yield mC(t);e&&(yield e)})).apply(this,arguments)}function MC(t){return Ss.create("missing-app-config-values",{valueName:t})}const yV="installations",aoe=t=>{const e=t.getProvider("app").getImmediate(),n=function soe(t){if(!t||!t.options)throw MC("App Configuration");if(!t.name)throw MC("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw MC(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e);return{app:e,appConfig:n,heartbeatServiceProvider:Fm(e,"heartbeat"),_delete:()=>Promise.resolve()}},coe=t=>{const n=Fm(t.getProvider("app").getImmediate(),yV).getImmediate();return{getId:()=>function eoe(t){return TC.apply(this,arguments)}(n),getToken:i=>function toe(t){return DC.apply(this,arguments)}(n,i)}};(function loe(){Jn(new On(yV,aoe,"PUBLIC")),Jn(new On("installations-internal",coe,"PRIVATE"))})(),Lt(eV,nC),Lt(eV,nC,"esm2017");const kC="@firebase/remote-config",hr=new Fi("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class boe{constructor(e,n,r,i){this.client=e,this.storage=n,this.storageCache=r,this.logger=i}isCachedDataFresh(e,n){if(!n)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const r=Date.now()-n,i=r<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${r}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${i}.`),i}fetch(e){var n=this;return(0,b.Z)(function*(){const[r,i]=yield Promise.all([n.storage.getLastSuccessfulFetchTimestampMillis(),n.storage.getLastSuccessfulFetchResponse()]);if(i&&n.isCachedDataFresh(e.cacheMaxAgeMillis,r))return i;e.eTag=i&&i.eTag;const s=yield n.client.fetch(e),o=[n.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===s.status&&o.push(n.storage.setLastSuccessfulFetchResponse(s)),yield Promise.all(o),s})()}}function woe(t=navigator){return t.languages&&t.languages[0]||t.language}class Ioe{constructor(e,n,r,i,s,o){this.firebaseInstallations=e,this.sdkVersion=n,this.namespace=r,this.projectId=i,this.apiKey=s,this.appId=o}fetch(e){var n=this;return(0,b.Z)(function*(){const[r,i]=yield Promise.all([n.firebaseInstallations.getId(),n.firebaseInstallations.getToken()]),o=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${n.projectId}/namespaces/${n.namespace}:fetch?key=${n.apiKey}`,a={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},c={sdk_version:n.sdkVersion,app_instance_id:r,app_instance_id_token:i,app_id:n.appId,language_code:woe()},l={method:"POST",headers:a,body:JSON.stringify(c)},u=fetch(o,l),d=new Promise((_,y)=>{e.signal.addEventListener(()=>{const v=new Error("The operation was aborted.");v.name="AbortError",y(v)})});let h;try{yield Promise.race([u,d]),h=yield u}catch(_){let y="fetch-client-network";throw"AbortError"===_?.name&&(y="fetch-timeout"),hr.create(y,{originalErrorMessage:_?.message})}let f=h.status;const p=h.headers.get("ETag")||void 0;let g,m;if(200===h.status){let _;try{_=yield h.json()}catch(y){throw hr.create("fetch-client-parse",{originalErrorMessage:y?.message})}g=_.entries,m=_.state}if("INSTANCE_STATE_UNSPECIFIED"===m?f=500:"NO_CHANGE"===m?f=304:("NO_TEMPLATE"===m||"EMPTY_CONFIG"===m)&&(g={}),304!==f&&200!==f)throw hr.create("fetch-status",{httpStatus:f});return{status:f,eTag:p,config:g}})()}}class Toe{constructor(e,n){this.client=e,this.storage=n}fetch(e){var n=this;return(0,b.Z)(function*(){const r=(yield n.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return n.attemptFetch(e,r)})()}attemptFetch(e,{throttleEndTimeMillis:n,backoffCount:r}){var i=this;return(0,b.Z)(function*(){yield function Coe(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(hr.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,n);try{const s=yield i.client.fetch(e);return yield i.storage.deleteThrottleMetadata(),s}catch(s){if(!function Eoe(t){if(!(t instanceof fi&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(s))throw s;const o={throttleEndTimeMillis:Date.now()+FI(r),backoffCount:r+1};return yield i.storage.setThrottleMetadata(o),i.attemptFetch(e,o)}})()}}class xoe{constructor(e,n,r,i,s){this.app=e,this._client=n,this._storageCache=r,this._storage=i,this._logger=s,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Um(t,e){const n=t.target.error||void 0;return hr.create(e,{originalErrorMessage:n&&n?.message})}const Ea="app_namespace_store";class Poe{constructor(e,n,r,i=function koe(){return new Promise((t,e)=>{try{const n=indexedDB.open("firebase_remote_config",1);n.onerror=r=>{e(Um(r,"storage-open"))},n.onsuccess=r=>{t(r.target.result)},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Ea,{keyPath:"compositeKey"})}}catch(n){e(hr.create("storage-open",{originalErrorMessage:n?.message}))}})}()){this.appId=e,this.appName=n,this.namespace=r,this.openDbPromise=i}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var n=this;return(0,b.Z)(function*(){const r=yield n.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([Ea],"readonly").objectStore(Ea),c=n.createCompositeKey(e);try{const l=a.get(c);l.onerror=u=>{s(Um(u,"storage-get"))},l.onsuccess=u=>{const d=u.target.result;i(d?d.value:void 0)}}catch(l){s(hr.create("storage-get",{originalErrorMessage:l?.message}))}})})()}set(e,n){var r=this;return(0,b.Z)(function*(){const i=yield r.openDbPromise;return new Promise((s,o)=>{const c=i.transaction([Ea],"readwrite").objectStore(Ea),l=r.createCompositeKey(e);try{const u=c.put({compositeKey:l,value:n});u.onerror=d=>{o(Um(d,"storage-set"))},u.onsuccess=()=>{s()}}catch(u){o(hr.create("storage-set",{originalErrorMessage:u?.message}))}})})()}delete(e){var n=this;return(0,b.Z)(function*(){const r=yield n.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([Ea],"readwrite").objectStore(Ea),c=n.createCompositeKey(e);try{const l=a.delete(c);l.onerror=u=>{s(Um(u,"storage-delete"))},l.onsuccess=()=>{i()}}catch(l){s(hr.create("storage-delete",{originalErrorMessage:l?.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class Roe{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return(0,b.Z)(function*(){const n=e.storage.getLastFetchStatus(),r=e.storage.getLastSuccessfulFetchTimestampMillis(),i=e.storage.getActiveConfig(),s=yield n;s&&(e.lastFetchStatus=s);const o=yield r;o&&(e.lastSuccessfulFetchTimestampMillis=o);const a=yield i;a&&(e.activeConfig=a)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function Noe(){return LC.apply(this,arguments)}function LC(){return(LC=(0,b.Z)(function*(){if(!_a())return!1;try{return yield hh()}catch{return!1}})).apply(this,arguments)}!function Ooe(){Jn(new On("remote-config",function t(e,{instanceIdentifier:n}){const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw hr.create("registration-window");if(!_a())throw hr.create("indexed-db-unavailable");const{projectId:s,apiKey:o,appId:a}=r.options;if(!s)throw hr.create("registration-project-id");if(!o)throw hr.create("registration-api-key");if(!a)throw hr.create("registration-app-id");const c=new Poe(a,r.name,n=n||"firebase"),l=new Roe(c),u=new Ml(kC);u.logLevel=Ne.ERROR;const d=new Ioe(i,fh,n,s,o,a),h=new Toe(d,c),f=new boe(h,c,l,u),p=new xoe(r,f,l,c,u);return function yoe(t){const e=Gr(t);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(p),p},"PUBLIC").setMultipleInstances(!0)),Lt(kC,"0.4.4"),Lt(kC,"0.4.4","esm2017")}();const Loe=(t,e)=>e.some(n=>t instanceof n);let wV,IV;const CV=new WeakMap,FC=new WeakMap,EV=new WeakMap,BC=new WeakMap,VC=new WeakMap;let UC={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return FC.get(t);if("objectStoreNames"===e)return t.objectStoreNames||EV.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return xs(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function Hoe(t){return"function"==typeof t?function $oe(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Boe(){return IV||(IV=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(jC(this),e),xs(CV.get(this))}:function(...e){return xs(t.apply(jC(this),e))}:function(e,...n){const r=t.call(jC(this),e,...n);return EV.set(r,e.sort?e.sort():[e]),xs(r)}}(t):(t instanceof IDBTransaction&&function Uoe(t){if(FC.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});FC.set(t,e)}(t),Loe(t,function Foe(){return wV||(wV=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,UC):t)}function xs(t){if(t instanceof IDBRequest)return function Voe(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(xs(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&CV.set(n,t)}).catch(()=>{}),VC.set(e,t),e}(t);if(BC.has(t))return BC.get(t);const e=Hoe(t);return e!==t&&(BC.set(t,e),VC.set(e,t)),e}const jC=t=>VC.get(t);function TV(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=xs(o);return r&&o.addEventListener("upgradeneeded",c=>{r(xs(o.result),c.oldVersion,c.newVersion,xs(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}function $C(t,{blocked:e}={}){const n=indexedDB.deleteDatabase(t);return e&&n.addEventListener("blocked",()=>e()),xs(n).then(()=>{})}const zoe=["get","getKey","getAll","getAllKeys","count"],Goe=["put","add","delete","clear"],HC=new Map;function DV(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(HC.get(e))return HC.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=Goe.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!zoe.includes(n))return;const s=function(){var o=(0,b.Z)(function*(a,...c){const l=this.transaction(a,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(c.shift())),(yield Promise.all([u[n](...c),i&&l.done]))[0]});return function(c){return o.apply(this,arguments)}}();return HC.set(e,s),s}!function joe(t){UC=t(UC)}(t=>({...t,get:(e,n,r)=>DV(e,n)||t.get(e,n,r),has:(e,n)=>!!DV(e,n)||t.has(e,n)}));const Woe="/firebase-messaging-sw.js",qoe="/firebase-cloud-messaging-push-scope",SV="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Koe="https://fcmregistrations.googleapis.com/v1",xV="google.c.a.c_id",Yoe="google.c.a.c_l",Zoe="google.c.a.ts";var jm=function(t){return t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked",t}(jm||{});function As(t){const e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Joe(t){const n=(t+"=".repeat((4-t.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),i=new Uint8Array(r.length);for(let s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return i}const zC="fcm_token_details_db",eae=5,AV="fcm_token_object_Store";function GC(){return GC=(0,b.Z)(function*(t){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(s=>s.name).includes(zC))return null;let e=null;return(yield TV(zC,eae,{upgrade:(r=(0,b.Z)(function*(i,s,o,a){var c;if(s<2||!i.objectStoreNames.contains(AV))return;const l=a.objectStore(AV),u=yield l.index("fcmSenderId").get(t);if(yield l.clear(),u)if(2===s){const d=u;if(!d.auth||!d.p256dh||!d.endpoint)return;e={token:d.fcmToken,createTime:null!==(c=d.createTime)&&void 0!==c?c:Date.now(),subscriptionOptions:{auth:d.auth,p256dh:d.p256dh,endpoint:d.endpoint,swScope:d.swScope,vapidKey:"string"==typeof d.vapidKey?d.vapidKey:As(d.vapidKey)}}}else if(3===s){const d=u;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:As(d.auth),p256dh:As(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:As(d.vapidKey)}}}else if(4===s){const d=u;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:As(d.auth),p256dh:As(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:As(d.vapidKey)}}}}),function(s,o,a,c){return r.apply(this,arguments)})})).close(),yield $C(zC),yield $C("fcm_vapid_details_db"),yield $C("undefined"),function nae(t){if(!t||!t.subscriptionOptions)return!1;const{subscriptionOptions:e}=t;return"number"==typeof t.createTime&&t.createTime>0&&"string"==typeof t.token&&t.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}(e)?e:null;var r}),GC.apply(this,arguments)}const rae="firebase-messaging-database",iae=1,Ta="firebase-messaging-store";let WC=null;function qC(){return WC||(WC=TV(rae,iae,{upgrade:(t,e)=>{0===e&&t.createObjectStore(Ta)}})),WC}function MV(t){return KC.apply(this,arguments)}function KC(){return KC=(0,b.Z)(function*(t){const e=XC(t),r=yield(yield qC()).transaction(Ta).objectStore(Ta).get(e);if(r)return r;{const i=yield function tae(t){return GC.apply(this,arguments)}(t.appConfig.senderId);if(i)return yield YC(t,i),i}}),KC.apply(this,arguments)}function YC(t,e){return ZC.apply(this,arguments)}function ZC(){return(ZC=(0,b.Z)(function*(t,e){const n=XC(t),i=(yield qC()).transaction(Ta,"readwrite");return yield i.objectStore(Ta).put(e,n),yield i.done,e})).apply(this,arguments)}function QC(){return(QC=(0,b.Z)(function*(t){const e=XC(t),r=(yield qC()).transaction(Ta,"readwrite");yield r.objectStore(Ta).delete(e),yield r.done})).apply(this,arguments)}function XC({appConfig:t}){return t.appId}const In=new Fi("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function aae(t,e){return JC.apply(this,arguments)}function JC(){return(JC=(0,b.Z)(function*(t,e){const n=yield rE(t),r=PV(e),i={method:"POST",headers:n,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(nE(t.appConfig),i)).json()}catch(o){throw In.create("token-subscribe-failed",{errorInfo:o?.toString()})}if(s.error)throw In.create("token-subscribe-failed",{errorInfo:s.error.message});if(!s.token)throw In.create("token-subscribe-no-token");return s.token})).apply(this,arguments)}function eE(){return(eE=(0,b.Z)(function*(t,e){const n=yield rE(t),r=PV(e.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(`${nE(t.appConfig)}/${e.token}`,i)).json()}catch(o){throw In.create("token-update-failed",{errorInfo:o?.toString()})}if(s.error)throw In.create("token-update-failed",{errorInfo:s.error.message});if(!s.token)throw In.create("token-update-no-token");return s.token})).apply(this,arguments)}function kV(t,e){return tE.apply(this,arguments)}function tE(){return(tE=(0,b.Z)(function*(t,e){const r={method:"DELETE",headers:yield rE(t)};try{const s=yield(yield fetch(`${nE(t.appConfig)}/${e}`,r)).json();if(s.error)throw In.create("token-unsubscribe-failed",{errorInfo:s.error.message})}catch(i){throw In.create("token-unsubscribe-failed",{errorInfo:i?.toString()})}})).apply(this,arguments)}function nE({projectId:t}){return`${Koe}/projects/${t}/registrations`}function rE(t){return iE.apply(this,arguments)}function iE(){return(iE=(0,b.Z)(function*({appConfig:t,installations:e}){const n=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})})).apply(this,arguments)}function PV({p256dh:t,auth:e,endpoint:n,vapidKey:r}){const i={web:{endpoint:n,auth:e,p256dh:t}};return r!==SV&&(i.web.applicationPubKey=r),i}const lae=6048e5;function sE(){return sE=(0,b.Z)(function*(t){const e=yield function hae(t,e){return lE.apply(this,arguments)}(t.swRegistration,t.vapidKey),n={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:As(e.getKey("auth")),p256dh:As(e.getKey("p256dh"))},r=yield MV(t.firebaseDependencies);if(r){if(function fae(t,e){return e.vapidKey===t.vapidKey&&e.endpoint===t.endpoint&&e.auth===t.auth&&e.p256dh===t.p256dh}(r.subscriptionOptions,n))return Date.now()>=r.createTime+lae?function dae(t,e){return aE.apply(this,arguments)}(t,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{yield kV(t.firebaseDependencies,r.token)}catch(i){console.warn(i)}return OV(t.firebaseDependencies,n)}return OV(t.firebaseDependencies,n)}),sE.apply(this,arguments)}function oE(){return oE=(0,b.Z)(function*(t){const e=yield MV(t.firebaseDependencies);e&&(yield kV(t.firebaseDependencies,e.token),yield function sae(t){return QC.apply(this,arguments)}(t.firebaseDependencies));const n=yield t.swRegistration.pushManager.getSubscription();return!n||n.unsubscribe()}),oE.apply(this,arguments)}function aE(){return aE=(0,b.Z)(function*(t,e){try{const n=yield function cae(t,e){return eE.apply(this,arguments)}(t.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:n,createTime:Date.now()});return yield YC(t.firebaseDependencies,r),n}catch(n){throw yield function RV(t){return oE.apply(this,arguments)}(t),n}}),aE.apply(this,arguments)}function OV(t,e){return cE.apply(this,arguments)}function cE(){return(cE=(0,b.Z)(function*(t,e){const r={token:yield aae(t,e),createTime:Date.now(),subscriptionOptions:e};return yield YC(t,r),r.token})).apply(this,arguments)}function lE(){return(lE=(0,b.Z)(function*(t,e){return(yield t.pushManager.getSubscription())||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Joe(e)})})).apply(this,arguments)}function NV(t){const e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcmMessageId};return function pae(t,e){if(!e.notification)return;t.notification={};const n=e.notification.title;n&&(t.notification.title=n);const r=e.notification.body;r&&(t.notification.body=r);const i=e.notification.image;i&&(t.notification.image=i);const s=e.notification.icon;s&&(t.notification.icon=s)}(e,t),function gae(t,e){e.data&&(t.data=e.data)}(e,t),function mae(t,e){var n,r,i,s,o;if(!(e.fcmOptions||null!==(n=e.notification)&&void 0!==n&&n.click_action))return;t.fcmOptions={};const a=null!==(i=null===(r=e.fcmOptions)||void 0===r?void 0:r.link)&&void 0!==i?i:null===(s=e.notification)||void 0===s?void 0:s.click_action;a&&(t.fcmOptions.link=a);const c=null===(o=e.fcmOptions)||void 0===o?void 0:o.analytics_label;c&&(t.fcmOptions.analyticsLabel=c)}(e,t),e}function LV(t,e){const n=[];for(let r=0;r<t.length;r++)n.push(t.charAt(r)),r<e.length&&n.push(e.charAt(r));return n.join("")}function uE(t){return In.create("missing-app-config-values",{valueName:t})}LV("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),LV("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class vae{constructor(e,n,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=function _ae(t){if(!t||!t.options)throw uE("App Configuration Object");if(!t.name)throw uE("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:n}=t;for(const r of e)if(!n[r])throw uE(r);return{appName:t.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:i,installations:n,analyticsProvider:r}}_delete(){return Promise.resolve()}}function dE(){return(dE=(0,b.Z)(function*(t){try{t.swRegistration=yield navigator.serviceWorker.register(Woe,{scope:qoe}),t.swRegistration.update().catch(()=>{})}catch(e){throw In.create("failed-service-worker-registration",{browserErrorMessage:e?.message})}})).apply(this,arguments)}function hE(){return(hE=(0,b.Z)(function*(t,e){if(!e&&!t.swRegistration&&(yield function FV(t){return dE.apply(this,arguments)}(t)),e||!t.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw In.create("invalid-sw-registration");t.swRegistration=e}})).apply(this,arguments)}function fE(){return(fE=(0,b.Z)(function*(t,e){e?t.vapidKey=e:t.vapidKey||(t.vapidKey=SV)})).apply(this,arguments)}function pE(){return pE=(0,b.Z)(function*(t,e){if(!navigator)throw In.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw In.create("permission-blocked");return yield function wae(t,e){return fE.apply(this,arguments)}(t,e?.vapidKey),yield function bae(t,e){return hE.apply(this,arguments)}(t,e?.serviceWorkerRegistration),function uae(t){return sE.apply(this,arguments)}(t)}),pE.apply(this,arguments)}function gE(){return(gE=(0,b.Z)(function*(t,e,n){const r=function Cae(t){switch(t){case jm.NOTIFICATION_CLICKED:return"notification_open";case jm.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(e);(yield t.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n[xV],message_name:n[Yoe],message_time:n[Zoe],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function mE(){return mE=(0,b.Z)(function*(t,e){const n=e.data;if(!n.isFirebaseMessaging)return;t.onMessageHandler&&n.messageType===jm.PUSH_RECEIVED&&("function"==typeof t.onMessageHandler?t.onMessageHandler(NV(n)):t.onMessageHandler.next(NV(n)));const r=n.data;(function yae(t){return"object"==typeof t&&!!t&&xV in t})(r)&&"1"===r["google.c.a.e"]&&(yield function Iae(t,e,n){return gE.apply(this,arguments)}(t,n.messageType,r))}),mE.apply(this,arguments)}const VV="@firebase/messaging",Tae=t=>{const e=new vae(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>function Eae(t,e){return mE.apply(this,arguments)}(e,n)),e},Dae=t=>{const e=t.getProvider("messaging").getImmediate();return{getToken:r=>function BV(t,e){return pE.apply(this,arguments)}(e,r)}};function jV(){return yE.apply(this,arguments)}function yE(){return(yE=(0,b.Z)(function*(){try{yield hh()}catch{return!1}return typeof window<"u"&&_a()&&RI()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Sae(){Jn(new On("messaging",Tae,"PUBLIC")),Jn(new On("messaging-internal",Dae,"PRIVATE")),Lt(VV,"0.12.4"),Lt(VV,"0.12.4","esm2017")}();const $m="analytics",Mae="firebase_id",kae="origin",Pae=6e4,Rae="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",bE="https://www.googletagmanager.com/gtag/js",an=new Ml("@firebase/analytics"),er=new Fi("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function Nae(t){if(!t.startsWith(bE)){const e=er.create("invalid-gtag-resource",{gtagURL:t});return an.warn(e.message),""}return t}function $V(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function wE(){return(wE=(0,b.Z)(function*(t,e,n,r,i,s){const o=r[i];try{if(o)yield e[o];else{const c=(yield $V(n)).find(l=>l.measurementId===i);c&&(yield e[c.appId])}}catch(a){an.error(a)}t("config",i,s)})).apply(this,arguments)}function IE(){return(IE=(0,b.Z)(function*(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=yield $V(n);for(const c of o){const l=a.find(d=>d.measurementId===c),u=l&&e[l.appId];if(!u){s=[];break}s.push(u)}}0===s.length&&(s=Object.values(e)),yield Promise.all(s),t("event",r,i||{})}catch(s){an.error(s)}})).apply(this,arguments)}const zae=30,HV=new class Wae{constructor(e={},n=1e3){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function qae(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function CE(){return(CE=(0,b.Z)(function*(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:qae(r)},s=Rae.replace("{app-id}",n),o=yield fetch(s,i);if(200!==o.status&&304!==o.status){let a="";try{const c=yield o.json();null!==(e=c.error)&&void 0!==e&&e.message&&(a=c.error.message)}catch{}throw er.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()})).apply(this,arguments)}function EE(){return(EE=(0,b.Z)(function*(t,e=HV,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw er.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw er.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new Xae;return setTimeout((0,b.Z)(function*(){a.abort()}),void 0!==n?n:Pae),zV({appId:r,apiKey:i,measurementId:s},o,a,e)})).apply(this,arguments)}function zV(t,e,n){return TE.apply(this,arguments)}function TE(){return TE=(0,b.Z)(function*(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=HV){var s;const{appId:o,measurementId:a}=t;try{yield function Zae(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(er.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(r,e)}catch(c){if(a)return an.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c?.message}]`),{appId:o,measurementId:a};throw c}try{const c=yield function Kae(t){return CE.apply(this,arguments)}(t);return i.deleteThrottleMetadata(o),c}catch(c){const l=c;if(!function Qae(t){if(!(t instanceof fi&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(l)){if(i.deleteThrottleMetadata(o),a)return an.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${l?.message}]`),{appId:o,measurementId:a};throw c}const u=503===Number(null===(s=l?.customData)||void 0===s?void 0:s.httpStatus)?FI(n,i.intervalMillis,zae):FI(n,i.intervalMillis),d={throttleEndTimeMillis:Date.now()+u,backoffCount:n+1};return i.setThrottleMetadata(o,d),an.debug(`Calling attemptFetch again in ${u} millis`),zV(t,d,r,i)}}),TE.apply(this,arguments)}class Xae{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let DE,RE;function SE(){return(SE=(0,b.Z)(function*(t,e,n,r,i){if(i&&i.global)t("event",n,r);else{const s=yield e;t("event",n,Object.assign(Object.assign({},r),{send_to:s}))}})).apply(this,arguments)}function OE(){return(OE=(0,b.Z)(function*(){if(!_a())return an.warn(er.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield hh()}catch(t){return an.warn(er.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}return!0})).apply(this,arguments)}function NE(){return NE=(0,b.Z)(function*(t,e,n,r,i,s,o){var a;const c=function Yae(t){return EE.apply(this,arguments)}(t);c.then(f=>{n[f.measurementId]=f.appId,t.options.measurementId&&f.measurementId!==t.options.measurementId&&an.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${f.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(f=>an.error(f)),e.push(c);const l=function sce(){return OE.apply(this,arguments)}().then(f=>{if(f)return r.getId()}),[u,d]=yield Promise.all([c,l]);(function Hae(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(bE)&&n.src.includes(t))return n;return null})(s)||function Fae(t,e){const n=function Lae(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}("firebase-js-sdk-policy",{createScriptURL:Nae}),r=document.createElement("script"),i=`${bE}?l=${t}&id=${e}`;r.src=n?n?.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}(s,u.measurementId),RE&&(i("consent","default",RE),function GV(t){RE=t}(void 0)),i("js",new Date);const h=null!==(a=o?.config)&&void 0!==a?a:{};return h[kae]="firebase",h.update=!0,null!=d&&(h[Mae]=d),i("config",u.measurementId,h),DE&&(i("set",DE),function WV(t){DE=t}(void 0)),u.measurementId}),NE.apply(this,arguments)}class ace{constructor(e){this.app=e}_delete(){return delete Bi[this.app.options.appId],Promise.resolve()}}let Bi={},qV=[];const KV={};let ZV,Vi,Hm="dataLayer",LE=!1;function lce(t,e,n){!function cce(){const t=[];if(PI()&&t.push("This is a browser extension environment."),RI()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=er.create("invalid-analytics-context",{errorInfo:e});an.warn(n.message)}}();const r=t.options.appId;if(!r)throw er.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw er.create("no-api-key");an.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Bi[r])throw er.create("already-exists",{id:r});if(!LE){!function Bae(t){let e=[];Array.isArray(window[t])?e=window[t]:window[t]=e}(Hm);const{wrappedGtag:s,gtagCore:o}=function $ae(t,e,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(s=window[i]),window[i]=function jae(t,e,n,r){function s(){return s=(0,b.Z)(function*(o,...a){try{if("event"===o){const[c,l]=a;yield function Uae(t,e,n,r,i){return IE.apply(this,arguments)}(t,e,n,c,l)}else if("config"===o){const[c,l]=a;yield function Vae(t,e,n,r,i,s){return wE.apply(this,arguments)}(t,e,n,r,c,l)}else if("consent"===o){const[c]=a;t("consent","update",c)}else if("get"===o){const[c,l,u]=a;t("get",c,l,u)}else if("set"===o){const[c]=a;t("set",c)}else t(o,...a)}catch(c){an.error(c)}}),s.apply(this,arguments)}return function i(o){return s.apply(this,arguments)}}(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}(Bi,qV,KV,Hm,"gtag");Vi=s,ZV=o,LE=!0}return Bi[r]=function oce(t,e,n,r,i,s,o){return NE.apply(this,arguments)}(t,qV,KV,e,ZV,Hm,n),new ace(t)}function dce(){return FE.apply(this,arguments)}function FE(){return(FE=(0,b.Z)(function*(){if(PI()||!RI()||!_a())return!1;try{return yield hh()}catch{return!1}})).apply(this,arguments)}const QV="@firebase/analytics";!function fce(){Jn(new On($m,(e,{options:n})=>lce(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n),"PUBLIC")),Jn(new On("analytics-internal",function t(e){try{const n=e.getProvider($m).getImmediate();return{logEvent:(r,i,s)=>function hce(t,e,n,r){t=Gr(t),function Jae(t,e,n,r,i){return SE.apply(this,arguments)}(Vi,Bi[t.app.options.appId],e,n,r).catch(i=>an.error(i))}(n,r,i,s)}}catch(n){throw er.create("interop-component-reg-failed",{reason:n})}},"PRIVATE")),Lt(QV,"0.10.0"),Lt(QV,"0.10.0","esm2017")}();class pce extends Yt{constructor(e,n){super()}schedule(e,n=0){return this}}const zm={setInterval(t,e,...n){const{delegate:r}=zm;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){const{delegate:e}=zm;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};class JV extends pce{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;const i=this.id,s=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return zm.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;null!=n&&zm.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let i,r=!1;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Zr(r,this),null!=e&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}}const eU={now:()=>(eU.delegate||Date).now(),delegate:void 0};class mh{constructor(e,n=mh.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}}mh.now=eU.now;class tU extends mh{constructor(e,n=mh.now){super(e,n),this.actions=[],this._active=!1}flush(e){const{actions:n}=this;if(this._active)return void n.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}}const yce=new class mce extends tU{}(class gce extends JV{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}}),_ce=new tU(JV),VE=new Cd("7.6.1"),UE="__angularfire_symbol__analyticsIsSupportedValue",jE="__angularfire_symbol__analyticsIsSupported",$E="__angularfire_symbol__remoteConfigIsSupportedValue",HE="__angularfire_symbol__remoteConfigIsSupported",zE="__angularfire_symbol__messagingIsSupportedValue",GE="__angularfire_symbol__messagingIsSupported";globalThis[jE]||(globalThis[jE]=dce().then(t=>globalThis[UE]=t).catch(()=>globalThis[UE]=!1)),globalThis[GE]||(globalThis[GE]=jV().then(t=>globalThis[zE]=t).catch(()=>globalThis[zE]=!1)),globalThis[HE]||(globalThis[HE]=Noe().then(t=>globalThis[$E]=t).catch(()=>globalThis[$E]=!1));const KE=(t,e)=>{const n=e?[e]:HB(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r};function Rl(){}class nU{constructor(e,n=yce){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){const i=this.zone;return this.delegate.schedule(function(o){i.runGuarded(()=>{e.apply(this,[o])})},n,r)}}class vce{constructor(e){this.zone=e,this.task=null}call(e,n){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Rl,{},Rl,Rl)),n.pipe(wn({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let rU=(()=>{class t{constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new nU(Zone.current)),this.insideAngular=n.run(()=>new nU(Zone.current,_ce)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return t.\u0275fac=function(n){return new(n||t)(W($e))},t.\u0275prov=X({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Da(){const t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return t}function Sa(t){return Da().ngZone.run(()=>t())}function wce(t){return Da(),function Ice(t){return function(n){return(n=n.lift(new vce(t.ngZone))).pipe(gp(t.outsideAngular),pp(t.insideAngular))}}(Da())(t)}const Cce=(t,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),Sa(()=>t.apply(void 0,r))},xa=(t,e)=>function(){let n;const r=arguments;for(let s=0;s<arguments.length;s++)"function"==typeof r[s]&&(e&&(n||(n=Sa(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Rl,{},Rl,Rl)))),r[s]=Cce(r[s],n));const i=function bce(t){return Da().ngZone.runOutsideAngular(()=>t())}(()=>t.apply(this,r));if(!e){if(i instanceof J){const s=Da();return i.pipe(gp(s.outsideAngular),pp(s.insideAngular))}return Sa(()=>i)}return i instanceof J?i.pipe(wce):i instanceof Promise?Sa(()=>new Promise((s,o)=>i.then(a=>Sa(()=>s(a)),a=>Sa(()=>o(a))))):"function"==typeof i&&n?function(){return setTimeout(()=>{n&&"scheduled"===n.state&&n.invoke()},10),i.apply(this,arguments)}:Sa(()=>i)};class Ol{constructor(e){return e}}class iU{constructor(){return HB()}}const YE=new Y("angularfire2._apps"),Tce={provide:Ol,useFactory:function Ece(t){return t&&1===t.length?t[0]:new Ol($B())},deps:[[new or,YE]]},Dce={provide:iU,deps:[[new or,YE]]};function Sce(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new Ol(r)}}let xce=(()=>{class t{constructor(n){Lt("angularfire",VE.full,"core"),Lt("angularfire",VE.full,"app"),Lt("angular",vR.full,n.toString())}}return t.\u0275fac=function(n){return new(n||t)(W(hs))},t.\u0275mod=Ci({type:t}),t.\u0275inj=ni({providers:[Tce,Dce]}),t})();function Ace(t,...e){return{ngModule:xce,providers:[{provide:YE,useFactory:Sce(t),multi:!0,deps:[$e,cr,rU,...e]}]}}const Mce=xa(jB,!0);const kce=function sU(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},oU=new Fi("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Gm=new Ml("@firebase/auth");function Wm(t,...e){Gm.logLevel<=Ne.ERROR&&Gm.error(`Auth (${fh}): ${t}`,...e)}function fr(t,...e){throw ZE(t,...e)}function Ui(t,...e){return ZE(t,...e)}function ZE(t,...e){if("string"!=typeof t){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return oU.create(t,...e)}function B(t,e,...n){if(!t)throw ZE(e,...n)}function ji(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Wm(e),new Error(e)}function yo(t,e){t||ji(e)}function cU(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.protocol)||null}class _h{constructor(e,n){this.shortDelay=e,this.longDelay=n,yo(n>e,"Short delay should be less than long delay!"),this.isMobile=function qre(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(xr())}()||function Yre(){return"object"==typeof navigator&&"ReactNative"===navigator.product}()}get(){return function Rce(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function QE(){return"http:"===cU()||"https:"===cU()}()||PI()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}class lU{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void ji("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void ji("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void ji("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Nce={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Lce=new _h(3e4,6e4);function Tt(t,e,n,r){return JE.apply(this,arguments)}function JE(){return(JE=(0,b.Z)(function*(t,e,n,r,i={}){return uU(t,i,(0,b.Z)(function*(){let s={},o={};r&&("GET"===e?o=r:s={body:JSON.stringify(r)});const a=RB(Object.assign({key:t.config.apiKey},o)).slice(1),c=yield t._getAdditionalHeaders();return c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode),lU.fetch()(dU(t,t.config.apiHost,n,a),Object.assign({method:e,headers:c,referrerPolicy:"no-referrer"},s))}))})).apply(this,arguments)}function uU(t,e,n){return eT.apply(this,arguments)}function eT(){return(eT=(0,b.Z)(function*(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},Nce),e);try{const i=new Fce(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=yield s.json();if("needConfirmation"in o)throw vh(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[c,l]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===c)throw vh(t,"credential-already-in-use",o);if("EMAIL_EXISTS"===c)throw vh(t,"email-already-in-use",o);if("USER_DISABLED"===c)throw vh(t,"user-disabled",o);const u=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw function aU(t,e,n){const r=Object.assign(Object.assign({},kce()),{[e]:n});return new Fi("auth","Firebase",r).create(e,{appName:t.name})}(t,u,l);fr(t,u)}}catch(i){if(i instanceof fi)throw i;fr(t,"network-request-failed",{message:String(i)})}})).apply(this,arguments)}function dU(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?function XE(t,e){yo(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}(t.config,i):`${t.config.apiScheme}://${i}`}class Fce{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Ui(this.auth,"network-request-failed")),Lce.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function vh(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Ui(t,e,r);return i.customData._tokenResponse=n,i}function nT(){return(nT=(0,b.Z)(function*(t,e){return Tt(t,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function iT(){return(iT=(0,b.Z)(function*(t,e){return Tt(t,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function bh(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function sT(){return(sT=(0,b.Z)(function*(t,e=!1){const n=Gr(t),r=yield n.getIdToken(e),i=qm(r);B(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"==typeof i.firebase?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:bh(oT(i.auth_time)),issuedAtTime:bh(oT(i.iat)),expirationTime:bh(oT(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})).apply(this,arguments)}function oT(t){return 1e3*Number(t)}function qm(t){const[e,n,r]=t.split(".");if(void 0===e||void 0===n||void 0===r)return Wm("JWT malformed, contained fewer than 3 sections"),null;try{const i=km(n);return i?JSON.parse(i):(Wm("Failed to decode base64 JWT payload"),null)}catch(i){return Wm("Caught error parsing JWT payload as JSON",i?.toString()),null}}function ks(t,e){return aT.apply(this,arguments)}function aT(){return(aT=(0,b.Z)(function*(t,e,n=!1){if(n)return e;try{return yield e}catch(r){throw r instanceof fi&&function Hce({code:t}){return"auth/user-disabled"===t||"auth/user-token-expired"===t}(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})).apply(this,arguments)}class zce{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(n=this.user.stsTokenManager.expirationTime)&&void 0!==n?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var n=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout((0,b.Z)(function*(){yield n.iteration()}),r)}iteration(){var e=this;return(0,b.Z)(function*(){try{yield e.user.getIdToken(!0)}catch(n){return void("auth/network-request-failed"===n?.code&&e.schedule(!0))}e.schedule()})()}}class hU{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=bh(this.lastLoginAt),this.creationTime=bh(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function wh(t){return cT.apply(this,arguments)}function cT(){return cT=(0,b.Z)(function*(t){var e;const n=t.auth,r=yield t.getIdToken(),i=yield ks(t,function Uce(t,e){return iT.apply(this,arguments)}(n,{idToken:r}));B(i?.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=null!==(e=s.providerUserInfo)&&void 0!==e&&e.length?function qce(t){return t.map(e=>{var{providerId:n}=e,r=ju(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}(s.providerUserInfo):[],a=function Wce(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}(t.providerData,o),u=!!t.isAnonymous&&!(t.email&&s.passwordHash||a?.length),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new hU(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(t,d)}),cT.apply(this,arguments)}function lT(){return(lT=(0,b.Z)(function*(t){const e=Gr(t);yield wh(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function uT(){return(uT=(0,b.Z)(function*(t,e){const n=yield uU(t,{},(0,b.Z)(function*(){const r=RB({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=dU(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",lU.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})).apply(this,arguments)}class Ih{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){B(e.idToken,"internal-error"),B(typeof e.idToken<"u","internal-error"),B(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function $ce(t){const e=qm(t);return B(e,"internal-error"),B(typeof e.exp<"u","internal-error"),B(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}getToken(e,n=!1){var r=this;return(0,b.Z)(function*(){return B(!r.accessToken||r.refreshToken,e,"user-token-expired"),n||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,n){var r=this;return(0,b.Z)(function*(){const{accessToken:i,refreshToken:s,expiresIn:o}=yield function Kce(t,e){return uT.apply(this,arguments)}(e,n);r.updateTokensAndExpiration(i,s,Number(o))})()}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Ih;return r&&(B("string"==typeof r,"internal-error",{appName:e}),o.refreshToken=r),i&&(B("string"==typeof i,"internal-error",{appName:e}),o.accessToken=i),s&&(B("number"==typeof s,"internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ih,this.toJSON())}_performRefresh(){return ji("not implemented")}}function _o(t,e){B("string"==typeof t||typeof t>"u","internal-error",{appName:e})}class Aa{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=ju(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new zce(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new hU(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){var n=this;return(0,b.Z)(function*(){const r=yield ks(n,n.stsTokenManager.getToken(n.auth,e));return B(r,n.auth,"internal-error"),n.accessToken!==r&&(n.accessToken=r,yield n.auth._persistUserIfCurrent(n),n.auth._notifyListenersIfCurrent(n)),r})()}getIdTokenResult(e){return function jce(t){return sT.apply(this,arguments)}(this,e)}reload(){return function Gce(t){return lT.apply(this,arguments)}(this)}_assign(e){this!==e&&(B(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Aa(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){B(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){var r=this;return(0,b.Z)(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),n&&(yield wh(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return(0,b.Z)(function*(){const n=yield e.getIdToken();return yield ks(e,function Bce(t,e){return nT.apply(this,arguments)}(e.auth,{idToken:n})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,c,l,u;const d=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,f=null!==(s=n.phoneNumber)&&void 0!==s?s:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,g=null!==(a=n.tenantId)&&void 0!==a?a:void 0,m=null!==(c=n._redirectEventId)&&void 0!==c?c:void 0,_=null!==(l=n.createdAt)&&void 0!==l?l:void 0,y=null!==(u=n.lastLoginAt)&&void 0!==u?u:void 0,{uid:v,emailVerified:I,isAnonymous:w,providerData:T,stsTokenManager:O}=n;B(v&&O,e,"internal-error");const P=Ih.fromJSON(this.name,O);B("string"==typeof v,e,"internal-error"),_o(d,e.name),_o(h,e.name),B("boolean"==typeof I,e,"internal-error"),B("boolean"==typeof w,e,"internal-error"),_o(f,e.name),_o(p,e.name),_o(g,e.name),_o(m,e.name),_o(_,e.name),_o(y,e.name);const q=new Aa({uid:v,auth:e,email:h,emailVerified:I,displayName:d,isAnonymous:w,photoURL:p,phoneNumber:f,tenantId:g,stsTokenManager:P,createdAt:_,lastLoginAt:y});return T&&Array.isArray(T)&&(q.providerData=T.map(pe=>Object.assign({},pe))),m&&(q._redirectEventId=m),q}static _fromIdTokenResponse(e,n,r=!1){return(0,b.Z)(function*(){const i=new Ih;i.updateFromServerResponse(n);const s=new Aa({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield wh(s),s})()}}const fU=new Map;function Ps(t){yo(t instanceof Function,"Expected a class definition");let e=fU.get(t);return e?(yo(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,fU.set(t,e),e)}const pU=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,b.Z)(function*(){return!0})()}_set(n,r){var i=this;return(0,b.Z)(function*(){i.storage[n]=r})()}_get(n){var r=this;return(0,b.Z)(function*(){const i=r.storage[n];return void 0===i?null:i})()}_remove(n){var r=this;return(0,b.Z)(function*(){delete r.storage[n]})()}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})();function Km(t,e,n){return`firebase:${t}:${e}:${n}`}class Ll{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Km(this.userKey,i.apiKey,s),this.fullPersistenceKey=Km("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return(0,b.Z)(function*(){const n=yield e.persistence._get(e.fullUserKey);return n?Aa._fromJSON(e.auth,n):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var n=this;return(0,b.Z)(function*(){if(n.persistence===e)return;const r=yield n.getCurrentUser();return yield n.removeCurrentUser(),n.persistence=e,r?n.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return(0,b.Z)(function*(){if(!n.length)return new Ll(Ps(pU),e,r);const i=(yield Promise.all(n.map(function(){var l=(0,b.Z)(function*(u){if(yield u._isAvailable())return u});return function(u){return l.apply(this,arguments)}}()))).filter(l=>l);let s=i[0]||Ps(pU);const o=Km(r,e.config.apiKey,e.name);let a=null;for(const l of n)try{const u=yield l._get(o);if(u){const d=Aa._fromJSON(e,u);l!==s&&(a=d),s=l;break}}catch{}const c=i.filter(l=>l._shouldAllowMigration);return s._shouldAllowMigration&&c.length?(s=c[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(function(){var l=(0,b.Z)(function*(u){if(u!==s)try{yield u._remove(o)}catch{}});return function(u){return l.apply(this,arguments)}}())),new Ll(s,e,r)):new Ll(s,e,r)})()}}function gU(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(function _U(t=xr()){return/iemobile/i.test(t)}(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(function mU(t=xr()){return/firefox\//i.test(t)}(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(function bU(t=xr()){return/blackberry/i.test(t)}(e))return"Blackberry";if(function wU(t=xr()){return/webos/i.test(t)}(e))return"Webos";if(function dT(t=xr()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}(e))return"Safari";if((e.includes("chrome/")||function yU(t=xr()){return/crios\//i.test(t)}(e))&&!e.includes("edge/"))return"Chrome";if(function vU(t=xr()){return/android/i.test(t)}(e))return"Android";{const r=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function IU(t,e=[]){let n;switch(t){case"Browser":n=gU(xr());break;case"Worker":n=`${gU(xr())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${fh}/${r}`}function CU(t,e){return fT.apply(this,arguments)}function fT(){return(fT=(0,b.Z)(function*(t,e){return Tt(t,"GET","/v2/recaptchaConfig",function vt(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}(t,e))})).apply(this,arguments)}function TU(t){return void 0!==t&&void 0!==t.enterprise}class DU{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(n=>"EMAIL_PASSWORD_PROVIDER"===n.provider&&"OFF"!==n.enforcementState)}}class xU{constructor(e){this.type="recaptcha-enterprise",this.auth=cn(e)}verify(e="verify",n=!1){var r=this;return(0,b.Z)(function*(){function s(){return s=(0,b.Z)(function*(a){if(!n){if(null==a.tenantId&&null!=a._agentRecaptchaConfig)return a._agentRecaptchaConfig.siteKey;if(null!=a.tenantId&&void 0!==a._tenantRecaptchaConfigs[a.tenantId])return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(function(){var c=(0,b.Z)(function*(l,u){CU(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(void 0!==d.recaptchaKey){const h=new DU(d);return null==a.tenantId?a._agentRecaptchaConfig=h:a._tenantRecaptchaConfigs[a.tenantId]=h,l(h.siteKey)}u(new Error("recaptcha Enterprise site key undefined"))}).catch(d=>{u(d)})});return function(l,u){return c.apply(this,arguments)}}())}),s.apply(this,arguments)}function o(a,c,l){const u=window.grecaptcha;TU(u)?u.enterprise.ready(()=>{u.enterprise.execute(a,{action:e}).then(d=>{c(d)}).catch(()=>{c("NO_RECAPTCHA")})}):l(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((a,c)=>{(function i(a){return s.apply(this,arguments)})(r.auth).then(l=>{if(!n&&TU(window.grecaptcha))o(l,a,c);else{if(typeof window>"u")return void c(new Error("RecaptchaVerifier is only supported in browser"));(function pT(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Ui("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",function Xce(){var t,e;return null!==(e=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==e?e:document}().appendChild(r)})})("https://www.google.com/recaptcha/enterprise.js?render="+l).then(()=>{o(l,a,c)}).catch(u=>{c(u)})}}).catch(l=>{c(l)})})})()}}class nle{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{o(e(s))}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var n=this;return(0,b.Z)(function*(){if(n.auth.currentUser===e)return;const r=[];try{for(const i of n.queue)yield i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const s of r)try{s()}catch{}throw n.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})()}}class rle{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new AU(this),this.idTokenSubscription=new AU(this),this.beforeStateQueue=new nle(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=oU,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){var r=this;return n&&(this._popupRedirectResolver=Ps(n)),this._initializationPromise=this.queue((0,b.Z)(function*(){var i,s;if(!r._deleted&&(r.persistenceManager=yield Ll.create(r,e),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(n),r.lastNotifiedUid=(null===(s=r.currentUser)||void 0===s?void 0:s.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return(0,b.Z)(function*(){if(e._deleted)return;const n=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||n){if(e.currentUser&&n&&e.currentUser.uid===n.uid)return e._currentUser._assign(n),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(n,!0)}})()}initializeCurrentUser(e){var n=this;return(0,b.Z)(function*(){var r;const i=yield n.assertedPersistence.getCurrentUser();let s=i,o=!1;if(e&&n.config.authDomain){yield n.getOrInitRedirectPersistenceManager();const a=null===(r=n.redirectUser)||void 0===r?void 0:r._redirectEventId,c=s?._redirectEventId,l=yield n.tryRedirectSignIn(e);(!a||a===c)&&l?.user&&(s=l.user,o=!0)}if(!s)return n.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{yield n.beforeStateQueue.runMiddleware(s)}catch(a){s=i,n._popupRedirectResolver._overrideRedirectResult(n,()=>Promise.reject(a))}return s?n.reloadAndSetCurrentUserOrClear(s):n.directlySetCurrentUser(null)}return B(n._popupRedirectResolver,n,"argument-error"),yield n.getOrInitRedirectPersistenceManager(),n.redirectUser&&n.redirectUser._redirectEventId===s._redirectEventId?n.directlySetCurrentUser(s):n.reloadAndSetCurrentUserOrClear(s)})()}tryRedirectSignIn(e){var n=this;return(0,b.Z)(function*(){let r=null;try{r=yield n._popupRedirectResolver._completeRedirectFn(n,e,!0)}catch{yield n._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var n=this;return(0,b.Z)(function*(){try{yield wh(e)}catch(r){if("auth/network-request-failed"!==r?.code)return n.directlySetCurrentUser(null)}return n.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function Oce(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}()}_delete(){var e=this;return(0,b.Z)(function*(){e._deleted=!0})()}updateCurrentUser(e){var n=this;return(0,b.Z)(function*(){const r=e?Gr(e):null;return r&&B(r.auth.config.apiKey===n.config.apiKey,n,"invalid-user-token"),n._updateCurrentUser(r&&r._clone(n))})()}_updateCurrentUser(e,n=!1){var r=this;return(0,b.Z)(function*(){if(!r._deleted)return e&&B(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),n||(yield r.beforeStateQueue.runMiddleware(e)),r.queue((0,b.Z)(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return(0,b.Z)(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var n=this;return this.queue((0,b.Z)(function*(){yield n.assertedPersistence.setPersistence(Ps(e))}))}initializeRecaptchaConfig(){var e=this;return(0,b.Z)(function*(){const n=yield CU(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new DU(n);null==e.tenantId?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,r.emailPasswordEnabled&&new xU(e).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Fi("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,n){var r=this;return(0,b.Z)(function*(){const i=yield r.getOrInitRedirectPersistenceManager(n);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var n=this;return(0,b.Z)(function*(){if(!n.redirectPersistenceManager){const r=e&&Ps(e)||n._popupRedirectResolver;B(r,n,"argument-error"),n.redirectPersistenceManager=yield Ll.create(n,[Ps(r._redirectPersistence)],"redirectUser"),n.redirectUser=yield n.redirectPersistenceManager.getCurrentUser()}return n.redirectPersistenceManager})()}_redirectUserForId(e){var n=this;return(0,b.Z)(function*(){var r,i;return n._isInitialized&&(yield n.queue((0,b.Z)(function*(){}))),(null===(r=n._currentUser)||void 0===r?void 0:r._redirectEventId)===e?n._currentUser:(null===(i=n.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?n.redirectUser:null})()}_persistUserIfCurrent(e){var n=this;return(0,b.Z)(function*(){if(e===n.currentUser)return n.queue((0,b.Z)(function*(){return n.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(n=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==n?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s="function"==typeof n?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return B(o,this,"internal-error"),o.then(()=>s(this.currentUser)),"function"==typeof n?e.addObserver(n,r,i):e.addObserver(n)}directlySetCurrentUser(e){var n=this;return(0,b.Z)(function*(){n.currentUser&&n.currentUser!==e&&n._currentUser._stopProactiveRefresh(),e&&n.isProactiveRefreshEnabled&&e._startProactiveRefresh(),n.currentUser=e,e?yield n.assertedPersistence.setCurrentUser(e):yield n.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return B(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=IU(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return(0,b.Z)(function*(){var n;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(n=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getHeartbeatsHeader();i&&(r["X-Firebase-Client"]=i);const s=yield e._getAppCheckToken();return s&&(r["X-Firebase-AppCheck"]=s),r})()}_getAppCheckToken(){var e=this;return(0,b.Z)(function*(){var n;const r=yield null===(n=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getToken();return r?.error&&function Pce(t,...e){Gm.logLevel<=Ne.WARN&&Gm.warn(`Auth (${fh}): ${t}`,...e)}(`Error while retrieving App Check token: ${r.error}`),r?.token})()}}function cn(t){return Gr(t)}class AU{constructor(e){this.auth=e,this.observer=null,this.addObserver=function Jre(t,e){const n=new eie(t,e);return n.subscribe.bind(n)}(n=>this.observer=n)}get next(){return B(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}(function SU(t){return`__${t}${Math.floor(1e6*Math.random())}`})("rcb"),new _h(3e4,6e4),new _h(2e3,1e4),new _h(3e4,6e4),new _h(5e3,15e3),encodeURIComponent("fac");var ij="@firebase/auth";class Yue{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var n=this;return(0,b.Z)(function*(){return n.assertAuthConfigured(),yield n.auth._initializationPromise,n.auth.currentUser?{accessToken:yield n.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){B(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}Pm(),function Que(t){Jn(new On("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;B(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:IU(t)},l=new rle(r,i,s,c);return function sle(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Ps);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Jn(new On("auth-internal",e=>{const n=cn(e.getProvider("auth").getImmediate());return new Yue(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Lt(ij,"0.23.2",function Zue(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(t)),Lt(ij,"0.23.2","esm2017")}("Browser");class cj{constructor(){return KE("auth")}}const nS=new Map,lj={activated:!1,tokenObservers:[]},ide={initialized:!1,enabled:!1};function Dt(t){return nS.get(t)||Object.assign({},lj)}function ay(){return ide}const rS="https://content-firebaseappcheck.googleapis.com/v1",cde="exchangeDebugToken",uj={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class ude{constructor(e,n,r,i,s){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var n=this;return(0,b.Z)(function*(){n.stop();try{n.pending=new Rm,yield function dde(t){return new Promise(e=>{setTimeout(e,t)})}(n.getNextRun(e)),n.pending.resolve(),yield n.pending.promise,n.pending=new Rm,yield n.operation(),n.pending.resolve(),yield n.pending.promise,n.process(!0).catch(()=>{})}catch(r){n.retryPolicy(r)?n.process(!1).catch(()=>{}):n.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}const Cn=new Fi("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function iS(t){if(!Dt(t).activated)throw Cn.create("use-before-activation",{appName:t.name})}function uy(t,e){return oS.apply(this,arguments)}function oS(){return oS=(0,b.Z)(function*({url:t,body:e},n){const r={"Content-Type":"application/json"},i=n.getImmediate({optional:!0});if(i){const d=yield i.getHeartbeatsHeader();d&&(r["X-Firebase-Client"]=d)}const s={method:"POST",body:JSON.stringify(e),headers:r};let o,a;try{o=yield fetch(t,s)}catch(d){throw Cn.create("fetch-network-error",{originalErrorMessage:d?.message})}if(200!==o.status)throw Cn.create("fetch-status-error",{httpStatus:o.status});try{a=yield o.json()}catch(d){throw Cn.create("fetch-parse-error",{originalErrorMessage:d?.message})}const c=a.ttl.match(/^([\d.]+)(s)$/);if(!c||!c[2]||isNaN(Number(c[1])))throw Cn.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const l=1e3*Number(c[1]),u=Date.now();return{token:a.token,expireTimeMillis:u+l,issuedAtTimeMillis:u}}),oS.apply(this,arguments)}function dj(t,e){const{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${rS}/projects/${n}/apps/${r}:${cde}?key=${i}`,body:{debug_token:e}}}const gde="firebase-app-check-database",mde=1,Sh="firebase-app-check-store";let dy=null;function aS(){return aS=(0,b.Z)(function*(t,e){const r=(yield function fj(){return dy||(dy=new Promise((t,e)=>{try{const n=indexedDB.open(gde,mde);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(Cn.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Sh,{keyPath:"compositeKey"})}}catch(n){e(Cn.create("storage-open",{originalErrorMessage:n?.message}))}}),dy)}()).transaction(Sh,"readwrite"),s=r.objectStore(Sh).put({compositeKey:t,value:e});return new Promise((o,a)=>{s.onsuccess=c=>{o()},r.onerror=c=>{var l;a(Cn.create("storage-set",{originalErrorMessage:null===(l=c.target.error)||void 0===l?void 0:l.message}))}})}),aS.apply(this,arguments)}const xh=new Ml("@firebase/app-check");function uS(t,e){return _a()?function _de(t,e){return function pj(t,e){return aS.apply(this,arguments)}(function mj(t){return`${t.options.appId}-${t.name}`}(t),e)}(t,e).catch(n=>{xh.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function hS(){return ay().enabled}function fS(){return pS.apply(this,arguments)}function pS(){return pS=(0,b.Z)(function*(){const t=ay();if(t.enabled&&t.token)return t.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),pS.apply(this,arguments)}const Ede={error:"UNKNOWN_ERROR"};function Tde(t){return kI.encodeString(JSON.stringify(t),!1)}function hy(t){return gS.apply(this,arguments)}function gS(){return gS=(0,b.Z)(function*(t,e=!1){const n=t.app;iS(n);const r=Dt(n);let s,i=r.token;if(i&&!Bl(i)&&(r.token=void 0,i=void 0),!i){const c=yield r.cachedTokenPromise;c&&(Bl(c)?i=c:yield uS(n,void 0))}if(!e&&i&&Bl(i))return{token:i.token};let a,o=!1;if(hS()){r.exchangeTokenPromise||(r.exchangeTokenPromise=uy(dj(n,yield fS()),t.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),o=!0);const c=yield r.exchangeTokenPromise;return yield uS(n,c),r.token=c,{token:c.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),o=!0),i=yield Dt(n).exchangeTokenPromise}catch(c){"appCheck/throttled"===c.code?xh.warn(c.message):xh.error(c),s=c}return i?s?a=Bl(i)?{token:i.token,internalError:s}:bj(s):(a={token:i.token},r.token=i,yield uS(n,i)):a=bj(s),o&&function vj(t,e){const n=Dt(t).tokenObservers;for(const r of n)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}(n,a),a}),gS.apply(this,arguments)}function mS(){return mS=(0,b.Z)(function*(t){const e=t.app;iS(e);const{provider:n}=Dt(e);if(hS()){const r=yield fS(),{token:i}=yield uy(dj(e,r),t.heartbeatServiceProvider);return{token:i}}{const{token:r}=yield n.getToken();return{token:r}}}),mS.apply(this,arguments)}function _S(t,e){const n=Dt(t),r=n.tokenObservers.filter(i=>i.next!==e);0===r.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function _j(t){const{app:e}=t,n=Dt(e);let r=n.tokenRefresher;r||(r=function Dde(t){const{app:e}=t;return new ude((0,b.Z)(function*(){let r;if(r=Dt(e).token?yield hy(t,!0):yield hy(t),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const n=Dt(e);if(n.token){let r=n.token.issuedAtTimeMillis+.5*(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,n.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},uj.RETRIAL_MIN_WAIT,uj.RETRIAL_MAX_WAIT)}(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function Bl(t){return t.expireTimeMillis-Date.now()>0}function bj(t){return{token:Tde(Ede),error:t}}class Sde{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:e}=Dt(this.app);for(const n of e)_S(this.app,n.next);return Promise.resolve()}}const xj="app-check-internal";!function jde(){Jn(new On("app-check",t=>function xde(t,e){return new Sde(t,e)}(t.getProvider("app").getImmediate(),t.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(xj).initialize()})),Jn(new On(xj,t=>function Ade(t){return{getToken:e=>hy(t,e),getLimitedUseToken:()=>function yj(t){return mS.apply(this,arguments)}(t),addTokenListener:e=>function yS(t,e,n,r){const{app:i}=t,s=Dt(i);if(s.tokenObservers=[...s.tokenObservers,{next:n,error:r,type:e}],s.token&&Bl(s.token)){const a=s.token;Promise.resolve().then(()=>{n({token:a.token}),_j(t)}).catch(()=>{})}s.cachedTokenPromise.then(()=>_j(t))}(t,"INTERNAL",e),removeTokenListener:e=>_S(t.app,e)}}(t.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),Lt("@firebase/app-check","0.8.0")}();class Mj{constructor(){return KE("app-check")}}typeof window<"u"&&window;var H,Wde=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},pi={},CS=CS||{},he=Wde||self;function py(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function Ah(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var ES="closure_uid_"+(1e9*Math.random()>>>0),Kde=0;function Yde(t,e,n){return t.call.apply(t.bind,arguments)}function Zde(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function Nn(t,e,n){return(Nn=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Yde:Zde).apply(null,arguments)}function gy(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function ln(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function bo(){this.s=this.s,this.o=this.o}bo.prototype.s=!1,bo.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function qde(t){Object.prototype.hasOwnProperty.call(t,ES)&&t[ES]||(t[ES]=++Kde)}(this)},bo.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const kj=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function TS(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function Pj(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(py(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function Ln(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Ln.prototype.h=function(){this.defaultPrevented=!0};var Xde=function(){if(!he.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{he.addEventListener("test",()=>{},e),he.removeEventListener("test",()=>{},e)}catch{}return t}();function Mh(t){return/^[\s\xa0]*$/.test(t)}function my(){var t=he.navigator;return t&&(t=t.userAgent)?t:""}function $i(t){return-1!=my().indexOf(t)}function DS(t){return DS[" "](t),t}DS[" "]=function(){};var xS,ehe=$i("Opera"),Vl=$i("Trident")||$i("MSIE"),Rj=$i("Edge"),SS=Rj||Vl,Oj=$i("Gecko")&&!(-1!=my().toLowerCase().indexOf("webkit")&&!$i("Edge"))&&!($i("Trident")||$i("MSIE"))&&!$i("Edge"),the=-1!=my().toLowerCase().indexOf("webkit")&&!$i("Edge");function Nj(){var t=he.document;return t?t.documentMode:void 0}e:{var AS="",MS=function(){var t=my();return Oj?/rv:([^\);]+)(\)|;)/.exec(t):Rj?/Edge\/([\d\.]+)/.exec(t):Vl?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):the?/WebKit\/(\S+)/.exec(t):ehe?/(?:Version)[ \/]?(\S+)/.exec(t):void 0}();if(MS&&(AS=MS?MS[1]:""),Vl){var kS=Nj();if(null!=kS&&kS>parseFloat(AS)){xS=String(kS);break e}}xS=AS}var nhe=he.document&&Vl&&(Nj()||parseInt(xS,10))||void 0;function kh(t,e){if(Ln.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(Oj){e:{try{DS(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:rhe[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&kh.$.h.call(this)}}ln(kh,Ln);var rhe={2:"touch",3:"pen",4:"mouse"};kh.prototype.h=function(){kh.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Ph="closure_listenable_"+(1e6*Math.random()|0),ihe=0;function she(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++ihe,this.fa=this.ia=!1}function yy(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function RS(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function Fj(t){const e={};for(const n in t)e[n]=t[n];return e}const Bj="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Vj(t,e){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)t[n]=r[n];for(let s=0;s<Bj.length;s++)n=Bj[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function _y(t){this.src=t,this.g={},this.h=0}function OS(t,e){var n=e.type;if(n in t.g){var s,r=t.g[n],i=kj(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(yy(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function NS(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}_y.prototype.add=function(t,e,n,r,i){var s=t.toString();(t=this.g[s])||(t=this.g[s]=[],this.h++);var o=NS(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):((e=new she(e,this.src,s,!!r,i)).ia=n,t.push(e)),e};var LS="closure_lm_"+(1e6*Math.random()|0),FS={};function Uj(t,e,n,r,i){if(r&&r.once)return $j(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)Uj(t,e[s],n,r,i);return null}return n=jS(n),t&&t[Ph]?t.O(e,n,Ah(r)?!!r.capture:!!r,i):jj(t,e,n,!1,r,i)}function jj(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=Ah(i)?!!i.capture:!!i,a=VS(t);if(a||(t[LS]=a=new _y(t)),(n=a.add(e,n,r,o,s)).proxy)return n;if(r=function ahe(){const e=che;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Xde||(i=o),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(zj(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function $j(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)$j(t,e[s],n,r,i);return null}return n=jS(n),t&&t[Ph]?t.P(e,n,Ah(r)?!!r.capture:!!r,i):jj(t,e,n,!0,r,i)}function Hj(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)Hj(t,e[s],n,r,i);else r=Ah(r)?!!r.capture:!!r,n=jS(n),t&&t[Ph]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=NS(s=t.g[e],n,r,i))&&(yy(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete t.g[e],t.h--))):t&&(t=VS(t))&&(e=t.g[e.toString()],t=-1,e&&(t=NS(e,n,r,i)),(n=-1<t?e[t]:null)&&BS(n))}function BS(t){if("number"!=typeof t&&t&&!t.fa){var e=t.src;if(e&&e[Ph])OS(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(zj(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=VS(e))?(OS(n,t),0==n.h&&(n.src=null,e[LS]=null)):yy(t)}}}function zj(t){return t in FS?FS[t]:FS[t]="on"+t}function che(t,e){if(t.fa)t=!0;else{e=new kh(e,this);var n=t.listener,r=t.la||t.src;t.ia&&BS(t),t=n.call(r,e)}return t}function VS(t){return(t=t[LS])instanceof _y?t:null}var US="__closure_events_fn_"+(1e9*Math.random()>>>0);function jS(t){return"function"==typeof t?t:(t[US]||(t[US]=function(e){return t.handleEvent(e)}),t[US])}function un(){bo.call(this),this.i=new _y(this),this.S=this,this.J=null}function En(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,"string"==typeof e)e=new Ln(e,t);else if(e instanceof Ln)e.target=e.target||t;else{var i=e;Vj(e=new Ln(r,t),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=vy(o,r,!0,e)&&i}if(i=vy(o=e.g=t,r,!0,e)&&i,i=vy(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)i=vy(o=e.g=n[s],r,!1,e)&&i}function vy(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,c=o.la||o.src;o.ia&&OS(t.i,o),i=!1!==a.call(c,r)&&i}}return i&&!r.defaultPrevented}ln(un,bo),un.prototype[Ph]=!0,un.prototype.removeEventListener=function(t,e,n,r){Hj(this,t,e,n,r)},un.prototype.N=function(){if(un.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)yy(n[r]);delete t.g[e],t.h--}}this.J=null},un.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},un.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var $S=he.JSON.stringify;function uhe(){var t=HS;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var Gj=new class lhe{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new hhe,t=>t.reset());class hhe{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function fhe(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function phe(t){he.setTimeout(()=>{throw t},0)}let Rh,Oh=!1,HS=new class dhe{constructor(){this.h=this.g=null}add(e,n){const r=Gj.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}},Wj=()=>{const t=he.Promise.resolve(void 0);Rh=()=>{t.then(ghe)}};var ghe=()=>{for(var t;t=uhe();){try{t.h.call(t.g)}catch(n){phe(n)}var e=Gj;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Oh=!1};function by(t,e){un.call(this),this.h=t||1,this.g=e||he,this.j=Nn(this.qb,this),this.l=Date.now()}function zS(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}function GS(t,e,n){if("function"==typeof t)n&&(t=Nn(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=Nn(t.handleEvent,t)}return 2147483647<Number(e)?-1:he.setTimeout(t,e||0)}function qj(t){t.g=GS(()=>{t.g=null,t.i&&(t.i=!1,qj(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}ln(by,un),(H=by.prototype).ga=!1,H.T=null,H.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),En(this,"tick"),this.ga&&(zS(this),this.start()))}},H.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},H.N=function(){by.$.N.call(this),zS(this),delete this.g};class mhe extends bo{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:qj(this)}N(){super.N(),this.g&&(he.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Nh(t){bo.call(this),this.h=t,this.g={}}ln(Nh,bo);var Kj=[];function Yj(t,e,n,r){Array.isArray(n)||(n&&(Kj[0]=n.toString()),n=Kj);for(var i=0;i<n.length;i++){var s=Uj(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function Zj(t){RS(t.g,function(e,n){this.g.hasOwnProperty(n)&&BS(e)},t),t.g={}}function wy(){this.g=!0}function Ul(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function bhe(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return $S(n)}catch{return e}}(t,n)+(r?" "+r:"")})}Nh.prototype.N=function(){Nh.$.N.call(this),Zj(this)},Nh.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},wy.prototype.Ea=function(){this.g=!1},wy.prototype.info=function(){};var Ra={},Qj=null;function Iy(){return Qj=Qj||new un}function Xj(t){Ln.call(this,Ra.Ta,t)}function Lh(t){const e=Iy();En(e,new Xj(e))}function Jj(t,e){Ln.call(this,Ra.STAT_EVENT,t),this.stat=e}function tr(t){const e=Iy();En(e,new Jj(e,t))}function e$(t,e){Ln.call(this,Ra.Ua,t),this.size=e}function Fh(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return he.setTimeout(function(){t()},e)}Ra.Ta="serverreachability",ln(Xj,Ln),Ra.STAT_EVENT="statevent",ln(Jj,Ln),Ra.Ua="timingevent",ln(e$,Ln);var Cy={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},t$={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function WS(){}function r$(){}WS.prototype.h=null;var YS,Bh={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function qS(){Ln.call(this,"d")}function KS(){Ln.call(this,"c")}function Ey(){}function Vh(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Nh(this),this.P=whe,this.V=new by(t=SS?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new i$}function i$(){this.i=null,this.g="",this.h=!1}ln(qS,Ln),ln(KS,Ln),ln(Ey,WS),Ey.prototype.g=function(){return new XMLHttpRequest},Ey.prototype.i=function(){return{}},YS=new Ey;var whe=45e3,ZS={},Ty={};function QS(t,e,n){t.L=1,t.v=Ay(Os(e)),t.s=n,t.S=!0,s$(t,null)}function s$(t,e){t.G=Date.now(),Uh(t),t.A=Os(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),g$(n.i,"t",r),t.C=0,n=t.l.J,t.h=new i$,t.g=V$(t.l,n?e:null,!t.s),0<t.O&&(t.M=new mhe(Nn(t.Pa,t,t.g),t.O)),Yj(t.U,t.g,"readystatechange",t.nb),e=t.I?Fj(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),Lh(),function yhe(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),c=0;c<a.length;c++){var l=a[c].split("=");if(1<l.length){var u=l[0];l=l[1];var d=u.split("_");o=2<=d.length&&"type"==d[1]?o+(u+"=")+l+"&":o+(u+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+o})}(t.j,t.u,t.A,t.m,t.W,t.s)}function o$(t){return!!t.g&&"GET"==t.u&&2!=t.L&&t.l.Ha}function a$(t,e,n){let i,r=!0;for(;!t.J&&t.C<n.length;){if(i=Ihe(t,n),i==Ty){4==e&&(t.o=4,tr(14),r=!1),Ul(t.j,t.m,null,"[Incomplete Response]");break}if(i==ZS){t.o=4,tr(15),Ul(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}Ul(t.j,t.m,i,null),XS(t,i)}o$(t)&&i!=Ty&&i!=ZS&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,tr(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,(e=t.l).g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),sx(e),e.M=!0,tr(11))):(Ul(t.j,t.m,n,"[Invalid Chunked Response]"),Oa(t),jh(t))}function Ihe(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?Ty:(n=Number(e.substring(n,r)),isNaN(n)?ZS:(r+=1)+n>e.length?Ty:(e=e.slice(r,r+n),t.C=r+n,e))}function Uh(t){t.Y=Date.now()+t.P,c$(t,t.P)}function c$(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=Fh(Nn(t.lb,t),e)}function Dy(t){t.B&&(he.clearTimeout(t.B),t.B=null)}function jh(t){0==t.l.H||t.J||N$(t.l,t)}function Oa(t){Dy(t);var e=t.M;e&&"function"==typeof e.sa&&e.sa(),t.M=null,zS(t.V),Zj(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function XS(t,e){try{var n=t.l;if(0!=n.H&&(n.g==t||JS(n.i,t)))if(!t.K&&JS(n.i,t)&&3==n.H){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<t.G))break e;Ny(n),Ry(n)}ix(n),tr(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=Fh(Nn(n.ib,n),6e3));if(1>=_$(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else La(n,11)}else if((t.K||n.g==t)&&Ny(n),!Mh(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let l=i[e];if(n.V=l[0],l=l[1],2==n.H)if("c"==l[0]){n.K=l[1],n.pa=l[2];const u=l[3];null!=u&&(n.ra=u,n.l.info("VER="+n.ra));const d=l[4];null!=d&&(n.Ga=d,n.l.info("SVER="+n.Ga));const h=l[5];null!=h&&"number"==typeof h&&0<h&&(n.L=r=1.5*h,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const f=t.g;if(f){const p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=r.i;s.g||-1==p.indexOf("spdy")&&-1==p.indexOf("quic")&&-1==p.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(ex(s,s.h),s.h=null))}if(r.F){const g=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;g&&(r.Da=g,ot(r.I,r.F,g))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms"));var o=t;if((r=n).wa=B$(r,r.J?r.pa:null,r.Y),o.K){v$(r.i,o);var a=o,c=r.L;c&&a.setTimeout(c),a.B&&(Dy(a),Uh(a)),r.g=o}else R$(r);0<n.j.length&&Oy(n)}else"stop"!=l[0]&&"close"!=l[0]||La(n,7);else 3==n.H&&("stop"==l[0]||"close"==l[0]?"stop"==l[0]?La(n,7):rx(n):"noop"!=l[0]&&n.h&&n.h.Aa(l),n.A=0)}Lh()}catch{}}function l$(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(py(t)||"string"==typeof t)Array.prototype.forEach.call(t,e,void 0);else for(var n=function Ehe(t){if(t.ta&&"function"==typeof t.ta)return t.ta();if(!t.Z||"function"!=typeof t.Z){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(py(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}(t),r=function Che(t){if(t.Z&&"function"==typeof t.Z)return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if("string"==typeof t)return t.split("");if(py(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}(H=Vh.prototype).setTimeout=function(t){this.P=t},H.nb=function(t){t=t.target;const e=this.M;e&&3==Hi(t)?e.l():this.Pa(t)},H.Pa=function(t){try{if(t==this.g)e:{const u=Hi(this.g);var e=this.g.Ia();if(this.g.da(),!(3>u)&&(3!=u||SS||this.g&&(this.h.h||this.g.ja()||S$(this.g)))){this.J||4!=u||7==e||Lh(),Dy(this);var n=this.g.da();this.ca=n;t:if(o$(this)){var r=S$(this.g);t="";var i=r.length,s=4==Hi(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Oa(this),jh(this);var o="";break t}this.h.i=new he.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=200==n,function _he(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,c=this.g;if((a=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Mh(a)){var l=a;break t}}l=null}if(!(n=l)){this.i=!1,this.o=3,tr(12),Oa(this),jh(this);break e}Ul(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,XS(this,n)}this.S?(a$(this,u,o),SS&&this.i&&3==u&&(Yj(this.U,this.V,"tick",this.mb),this.V.start())):(Ul(this.j,this.m,o,null),XS(this,o)),4==u&&Oa(this),this.i&&!this.J&&(4==u?N$(this.l,this):(this.i=!1,Uh(this)))}else(function $he(t){const e={};t=(t.g&&2<=Hi(t)&&t.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<t.length;r++){if(Mh(t[r]))continue;var n=fhe(t[r]);const i=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}!function ohe(t,e){for(const n in t)e.call(void 0,t[n],n,t)}(e,function(r){return r.join(", ")})})(this.g),400==n&&0<o.indexOf("Unknown SID")?(this.o=3,tr(12)):(this.o=0,tr(13)),Oa(this),jh(this)}}}catch{}},H.mb=function(){if(this.g){var t=Hi(this.g),e=this.g.ja();this.C<e.length&&(Dy(this),a$(this,t,e),this.i&&4!=t&&Uh(this))}},H.cancel=function(){this.J=!0,Oa(this)},H.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(function vhe(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(Lh(),tr(17)),Oa(this),this.o=2,jh(this)):c$(this,this.Y-t)};var u$=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Na(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Na){this.h=t.h,Sy(this,t.j),this.s=t.s,this.g=t.g,xy(this,t.m),this.l=t.l;var e=t.i,n=new zh;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),d$(this,n),this.o=t.o}else t&&(e=String(t).match(u$))?(this.h=!1,Sy(this,e[1]||"",!0),this.s=$h(e[2]||""),this.g=$h(e[3]||"",!0),xy(this,e[4]),this.l=$h(e[5]||"",!0),d$(this,e[6]||"",!0),this.o=$h(e[7]||"")):(this.h=!1,this.i=new zh(null,this.h))}function Os(t){return new Na(t)}function Sy(t,e,n){t.j=n?$h(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function xy(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function d$(t,e,n){e instanceof zh?(t.i=e,function khe(t,e){e&&!t.j&&(wo(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(f$(this,r),g$(this,i,n))},t)),t.j=e}(t.i,t.h)):(n||(e=Hh(e,Ahe)),t.i=new zh(e,t.h))}function ot(t,e,n){t.i.set(e,n)}function Ay(t){return ot(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function $h(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Hh(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Dhe),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Dhe(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Na.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Hh(e,h$,!0),":");var n=this.g;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(Hh(e,h$,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&t.push("/"),t.push(Hh(n,"/"==n.charAt(0)?xhe:She,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Hh(n,Mhe)),t.join("")};var h$=/[#\/\?@]/g,She=/[#\?:]/g,xhe=/[#\?]/g,Ahe=/[#\?@]/g,Mhe=/#/g;function zh(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function wo(t){t.g||(t.g=new Map,t.h=0,t.i&&function The(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function f$(t,e){wo(t),e=jl(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function p$(t,e){return wo(t),e=jl(t,e),t.g.has(e)}function g$(t,e,n){f$(t,e),0<n.length&&(t.i=null,t.g.set(jl(t,e),TS(n)),t.h+=n.length)}function jl(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function m$(t){this.l=t||Rhe,t=he.PerformanceNavigationTiming?0<(t=he.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(he.g&&he.g.Ka&&he.g.Ka()&&he.g.Ka().ec),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(H=zh.prototype).add=function(t,e){wo(this),this.i=null,t=jl(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},H.forEach=function(t,e){wo(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)},H.ta=function(){wo(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n},H.Z=function(t){wo(this);let e=[];if("string"==typeof t)p$(this,t)&&(e=e.concat(this.g.get(jl(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e},H.set=function(t,e){return wo(this),this.i=null,p$(this,t=jl(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},H.get=function(t,e){return t&&0<(t=this.Z(t)).length?String(t[0]):e},H.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};var Rhe=10;function y$(t){return!!t.h||!!t.g&&t.g.size>=t.j}function _$(t){return t.h?1:t.g?t.g.size:0}function JS(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function ex(t,e){t.g?t.g.add(e):t.h=e}function v$(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function b$(t){if(null!=t.h)return t.i.concat(t.h.F);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return TS(t.i)}m$.prototype.cancel=function(){if(this.i=b$(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}};var Ohe=class{stringify(t){return he.JSON.stringify(t,void 0)}parse(t){return he.JSON.parse(t,void 0)}};function Nhe(){this.g=new Ohe}function Lhe(t,e,n){const r=n||"";try{l$(t,function(i,s){let o=i;Ah(i)&&(o=$S(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function My(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Gh(t){this.l=t.fc||null,this.j=t.ob||!1}function ky(t,e){un.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=tx,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ln(Gh,WS),Gh.prototype.g=function(){return new ky(this.l,this.j)},Gh.prototype.i=function(t){return function(){return t}}({}),ln(ky,un);var tx=0;function w$(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}function Wh(t){t.readyState=4,t.l=null,t.j=null,t.A=null,qh(t)}function qh(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(H=ky.prototype).open=function(t,e){if(this.readyState!=tx)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,qh(this)},H.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||he).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},H.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Wh(this)),this.readyState=tx},H.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,qh(this)),this.g&&(this.readyState=3,qh(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof he.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;w$(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))},H.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Wh(this):qh(this),3==this.readyState&&w$(this)}},H.Za=function(t){this.g&&(this.response=this.responseText=t,Wh(this))},H.Ya=function(t){this.g&&(this.response=t,Wh(this))},H.ka=function(){this.g&&Wh(this)},H.setRequestHeader=function(t,e){this.v.append(t,e)},H.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},H.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(ky.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var Bhe=he.JSON.parse;function St(t){un.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=I$,this.L=this.M=!1}ln(St,un);var I$="",Vhe=/^https?$/i,Uhe=["POST","PUT"];function C$(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,E$(t),Py(t)}function E$(t){t.F||(t.F=!0,En(t,"complete"),En(t,"error"))}function T$(t){if(t.h&&typeof CS<"u"&&(!t.C[1]||4!=Hi(t)||2!=t.da()))if(t.v&&4==Hi(t))GS(t.La,0,t);else if(En(t,"readystatechange"),4==Hi(t)){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=0===o){var i=String(t.I).match(u$)[1]||null;!i&&he.self&&he.self.location&&(i=he.self.location.protocol.slice(0,-1)),r=!Vhe.test(i?i.toLowerCase():"")}n=r}if(n)En(t,"complete"),En(t,"success");else{t.m=6;try{var s=2<Hi(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",E$(t)}}finally{Py(t)}}}function Py(t,e){if(t.g){D$(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||En(t,"ready");try{n.onreadystatechange=r}catch{}}}function D$(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(he.clearTimeout(t.A),t.A=null)}function Hi(t){return t.g?t.g.readyState:0}function S$(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case I$:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function x$(t){let e="";return RS(t,function(n,r){e+=r,e+=":",e+=n,e+="\r\n"}),e}function nx(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=x$(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):ot(t,e,n))}function Kh(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function A$(t){this.Ga=0,this.j=[],this.l=new wy,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Kh("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Kh("baseRetryDelayMs",5e3,t),this.hb=Kh("retryDelaySeedMs",1e4,t),this.eb=Kh("forwardChannelMaxRetries",2,t),this.xa=Kh("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.dc||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new m$(t&&t.concurrentRequestLimit),this.Ja=new Nhe,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function rx(t){if(M$(t),3==t.H){var e=t.W++,n=Os(t.I);if(ot(n,"SID",t.K),ot(n,"RID",e),ot(n,"TYPE","terminate"),Yh(t,n),(e=new Vh(t,t.l,e)).L=2,e.v=Ay(Os(n)),n=!1,he.navigator&&he.navigator.sendBeacon)try{n=he.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&he.Image&&((new Image).src=e.v,n=!0),n||(e.g=V$(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Uh(e)}F$(t)}function Ry(t){t.g&&(sx(t),t.g.cancel(),t.g=null)}function M$(t){Ry(t),t.u&&(he.clearTimeout(t.u),t.u=null),Ny(t),t.i.cancel(),t.m&&("number"==typeof t.m&&he.clearTimeout(t.m),t.m=null)}function Oy(t){if(!y$(t.i)&&!t.m){t.m=!0;var e=t.Na;Rh||Wj(),Oh||(Rh(),Oh=!0),HS.add(e,t),t.C=0}}function k$(t,e){var n;n=e?e.m:t.W++;const r=Os(t.I);ot(r,"SID",t.K),ot(r,"RID",n),ot(r,"AID",t.V),Yh(t,r),t.o&&t.s&&nx(r,t.o,t.s),n=new Vh(t,t.l,n,t.C+1),null===t.o&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=P$(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),ex(t.i,n),QS(n,r,e)}function Yh(t,e){t.na&&RS(t.na,function(n,r){ot(e,r,n)}),t.h&&l$({},function(n,r){ot(e,r,n)})}function P$(t,e,n){n=Math.min(t.j.length,n);var r=t.h?Nn(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){const o=["count="+n];-1==s?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let c=0;c<n;c++){let l=i[c].g;const u=i[c].map;if(l-=s,0>l)s=Math.max(0,i[c].g-100),a=!1;else try{Lhe(u,o,"req"+l+"_")}catch{r&&r(u)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function R$(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Rh||Wj(),Oh||(Rh(),Oh=!0),HS.add(e,t),t.A=0}}function ix(t){return!(t.g||t.u||3<=t.A||(t.ba++,t.u=Fh(Nn(t.Ma,t),L$(t,t.A)),t.A++,0))}function sx(t){null!=t.B&&(he.clearTimeout(t.B),t.B=null)}function O$(t){t.g=new Vh(t,t.l,"rpc",t.ba),null===t.o&&(t.g.I=t.s),t.g.O=0;var e=Os(t.wa);ot(e,"RID","rpc"),ot(e,"SID",t.K),ot(e,"AID",t.V),ot(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&ot(e,"TO",t.qa),ot(e,"TYPE","xmlhttp"),Yh(t,e),t.o&&t.s&&nx(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=Ay(Os(e)),n.s=null,n.S=!0,s$(n,t)}function Ny(t){null!=t.v&&(he.clearTimeout(t.v),t.v=null)}function N$(t,e){var n=null;if(t.g==e){Ny(t),sx(t),t.g=null;var r=2}else{if(!JS(t.i,e))return;n=e.F,v$(t.i,e),r=1}if(0!=t.H)if(e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.G;var i=t.C;En(r=Iy(),new e$(r,n)),Oy(t)}else R$(t);else if(3==(i=e.o)||0==i&&0<e.ca||!(1==r&&function Hhe(t,e){return!(_$(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.j=e.F.concat(t.j),0):1==t.H||2==t.H||t.C>=(t.cb?0:t.eb)||(t.m=Fh(Nn(t.Na,t,e),L$(t,t.C)),t.C++,0)))}(t,e)||2==r&&ix(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:La(t,5);break;case 4:La(t,10);break;case 3:La(t,6);break;default:La(t,2)}}function L$(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function La(t,e){if(t.l.info("Error code "+e),2==e){var n=null;t.h&&(n=null);var r=Nn(t.pb,t);n||(n=new Na("//www.google.com/images/cleardot.gif"),he.location&&"http"==he.location.protocol||Sy(n,"https"),Ay(n)),function Fhe(t,e){const n=new wy;if(he.Image){const r=new Image;r.onload=gy(My,n,r,"TestLoadImage: loaded",!0,e),r.onerror=gy(My,n,r,"TestLoadImage: error",!1,e),r.onabort=gy(My,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=gy(My,n,r,"TestLoadImage: timeout",!1,e),he.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else tr(2);t.H=0,t.h&&t.h.za(e),F$(t),M$(t)}function F$(t){if(t.H=0,t.ma=[],t.h){const e=b$(t.i);(0!=e.length||0!=t.j.length)&&(Pj(t.ma,e),Pj(t.ma,t.j),t.i.i.length=0,TS(t.j),t.j.length=0),t.h.ya()}}function B$(t,e,n){var r=n instanceof Na?Os(n):new Na(n);if(""!=r.g)e&&(r.g=e+"."+r.g),xy(r,r.m);else{var i=he.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new Na(null);r&&Sy(s,r),e&&(s.g=e),i&&xy(s,i),n&&(s.l=n),r=s}return e=t.Da,(n=t.F)&&e&&ot(r,n,e),ot(r,"VER",t.ra),Yh(t,r),r}function V$(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new St(n&&t.Ha&&!t.va?new Gh({ob:!0}):t.va)).Oa(t.J),e}function U$(){}function Ly(){if(Vl&&!(10<=Number(nhe)))throw Error("Environmental error: no available transport.")}function Ar(t,e){un.call(this),this.g=new A$(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Mh(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Mh(e)&&(this.g.F=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new $l(this)}function j$(t){qS.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function $$(){KS.call(this),this.status=1}function $l(t){this.g=t}function gi(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function ox(t,e,n){n||(n=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;var s=t.g[3],o=(e=t.g[0])+(s^(n=t.g[1])&((i=t.g[2])^s))+r[0]+3614090360&4294967295;o=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=n+(o<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=e+(i^s&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=e+(n^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=e+(i^(n|~s))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(n|~s))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(n|~s))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(e=n+((o=e+(i^(n|~s))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=s+((o=i+(e^(s|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}function ze(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=0|t[i];r&&s==e||(n[i]=s,r=!1)}this.g=n}(H=St.prototype).Oa=function(t){this.M=t},H.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():YS.g(),this.C=function n$(t){return t.h||(t.h=t.i())}(this.u?this.u:YS),this.g.onreadystatechange=Nn(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){return void C$(this,s)}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const s of r.keys())n.set(s,r.get(s))}r=Array.from(n.keys()).find(s=>"content-type"==s.toLowerCase()),i=he.FormData&&t instanceof he.FormData,!(0<=kj(Uhe,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{D$(this),0<this.B&&((this.L=function jhe(t){return Vl&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Nn(this.ua,this)):this.A=GS(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){C$(this,s)}},H.ua=function(){typeof CS<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,En(this,"timeout"),this.abort(8))},H.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,En(this,"complete"),En(this,"abort"),Py(this))},H.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Py(this,!0)),St.$.N.call(this)},H.La=function(){this.s||(this.G||this.v||this.l?T$(this):this.kb())},H.kb=function(){T$(this)},H.isActive=function(){return!!this.g},H.da=function(){try{return 2<Hi(this)?this.g.status:-1}catch{return-1}},H.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},H.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),Bhe(e)}},H.Ia=function(){return this.m},H.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(H=A$.prototype).ra=8,H.H=1,H.Na=function(t){if(this.m)if(this.m=null,1==this.H){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new Vh(this,this.l,t);let s=this.s;if(this.U&&(s?(s=Fj(s),Vj(s,this.U)):s=this.U),null!==this.o||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=n;break e}if(4096===e||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=P$(this,i,e),ot(n=Os(this.I),"RID",t),ot(n,"CVER",22),this.F&&ot(n,"X-HTTP-Session-Id",this.F),Yh(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(x$(s)))+"&"+e:this.o&&nx(n,this.o,s)),ex(this.i,i),this.bb&&ot(n,"TYPE","init"),this.P?(ot(n,"$req",e),ot(n,"SID","null"),i.aa=!0,QS(i,n,null)):QS(i,n,e),this.H=2}}else 3==this.H&&(t?k$(this,t):0==this.j.length||y$(this.i)||k$(this))},H.Ma=function(){if(this.u=null,O$(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Fh(Nn(this.jb,this),t)}},H.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,tr(10),Ry(this),O$(this))},H.ib=function(){null!=this.v&&(this.v=null,Ry(this),ix(this),tr(19))},H.pb=function(t){t?(this.l.info("Successfully pinged google.com"),tr(2)):(this.l.info("Failed to ping google.com"),tr(1))},H.isActive=function(){return!!this.h&&this.h.isActive(this)},(H=U$.prototype).Ba=function(){},H.Aa=function(){},H.za=function(){},H.ya=function(){},H.isActive=function(){return!0},H.Va=function(){},Ly.prototype.g=function(t,e){return new Ar(t,e)},ln(Ar,un),Ar.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;tr(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=B$(t,null,t.Y),Oy(t)},Ar.prototype.close=function(){rx(this.g)},Ar.prototype.u=function(t){var e=this.g;if("string"==typeof t){var n={};n.__data__=t,t=n}else this.v&&((n={}).__data__=$S(t),t=n);e.j.push(new class{constructor(t,e){this.g=t,this.map=e}}(e.fb++,t)),3==e.H&&Oy(e)},Ar.prototype.N=function(){this.g.h=null,delete this.j,rx(this.g),delete this.g,Ar.$.N.call(this)},ln(j$,qS),ln($$,KS),ln($l,U$),$l.prototype.Ba=function(){En(this.g,"a")},$l.prototype.Aa=function(t){En(this.g,new j$(t))},$l.prototype.za=function(t){En(this.g,new $$)},$l.prototype.ya=function(){En(this.g,"b")},ln(gi,function zhe(){this.blockSize=-1}),gi.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},gi.prototype.j=function(t,e){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(0==i)for(;s<=n;)ox(this,t,s),s+=this.blockSize;if("string"==typeof t){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){ox(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){ox(this,r),i=0;break}}this.h=i,this.i+=e},gi.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=255&n,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};var Ghe={};function ax(t){return-128<=t&&128>t?function Jde(t,e){var n=Ghe;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,function(e){return new ze([0|e],0>e?-1:0)}):new ze([0|t],0>t?-1:0)}function zi(t){if(isNaN(t)||!isFinite(t))return Hl;if(0>t)return Tn(zi(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=cx;return new ze(e,0)}var cx=4294967296,Hl=ax(0),lx=ax(1),z$=ax(16777216);function Ns(t){if(0!=t.h)return!1;for(var e=0;e<t.g.length;e++)if(0!=t.g[e])return!1;return!0}function qr(t){return-1==t.h}function Tn(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new ze(n,~t.h).add(lx)}function Fy(t,e){return t.add(Tn(e))}function By(t,e){for(;(65535&t[e])!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Zh(t,e){this.g=t,this.h=e}function Vy(t,e){if(Ns(e))throw Error("division by zero");if(Ns(t))return new Zh(Hl,Hl);if(qr(t))return e=Vy(Tn(t),e),new Zh(Tn(e.g),Tn(e.h));if(qr(e))return e=Vy(t,Tn(e)),new Zh(Tn(e.g),e.h);if(30<t.g.length){if(qr(t)||qr(e))throw Error("slowDivide_ only works with positive integers.");for(var n=lx,r=e;0>=r.X(t);)n=G$(n),r=G$(r);var i=zl(n,1),s=zl(r,1);for(r=zl(r,2),n=zl(n,2);!Ns(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=zl(r,1),n=zl(n,1)}return e=Fy(t,i.R(e)),new Zh(i,e)}for(i=Hl;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),o=(s=zi(n)).R(e);qr(o)||0<o.X(t);)o=(s=zi(n-=r)).R(e);Ns(s)&&(s=lx),i=i.add(s),t=Fy(t,o)}return new Zh(i,t)}function G$(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new ze(n,t.h)}function zl(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new ze(i,t.h)}(H=ze.prototype).ea=function(){if(qr(this))return-Tn(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:cx+r)*e,e*=cx}return t},H.toString=function(t){if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if(Ns(this))return"0";if(qr(this))return"-"+Tn(this).toString(t);for(var e=zi(Math.pow(t,6)),n=this,r="";;){var i=Vy(n,e).g,s=((0<(n=Fy(n,i.R(e))).g.length?n.g[0]:n.h)>>>0).toString(t);if(Ns(n=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},H.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h},H.X=function(t){return qr(t=Fy(this,t))?-1:Ns(t)?0:1},H.abs=function(){return qr(this)?Tn(this):this},H.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(65535&this.D(i))+(65535&t.D(i)),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,n[i]=(o&=65535)<<16|(s&=65535)}return new ze(n,-2147483648&n[n.length-1]?-1:0)},H.R=function(t){if(Ns(this)||Ns(t))return Hl;if(qr(this))return qr(t)?Tn(this).R(Tn(t)):Tn(Tn(this).R(t));if(qr(t))return Tn(this.R(Tn(t)));if(0>this.X(z$)&&0>t.X(z$))return zi(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=65535&this.D(r),a=t.D(i)>>>16,c=65535&t.D(i);n[2*r+2*i]+=o*c,By(n,2*r+2*i),n[2*r+2*i+1]+=s*c,By(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,By(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,By(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new ze(n,0)},H.gb=function(t){return Vy(this,t).h},H.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new ze(n,this.h&t.h)},H.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new ze(n,this.h|t.h)},H.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new ze(n,this.h^t.h)},Ly.prototype.createWebChannel=Ly.prototype.g,Ar.prototype.send=Ar.prototype.u,Ar.prototype.open=Ar.prototype.m,Ar.prototype.close=Ar.prototype.close,Cy.NO_ERROR=0,Cy.TIMEOUT=8,Cy.HTTP_ERROR=6,t$.COMPLETE="complete",r$.EventType=Bh,Bh.OPEN="a",Bh.CLOSE="b",Bh.ERROR="c",Bh.MESSAGE="d",un.prototype.listen=un.prototype.O,St.prototype.listenOnce=St.prototype.P,St.prototype.getLastError=St.prototype.Sa,St.prototype.getLastErrorCode=St.prototype.Ia,St.prototype.getStatus=St.prototype.da,St.prototype.getResponseJson=St.prototype.Wa,St.prototype.getResponseText=St.prototype.ja,St.prototype.send=St.prototype.ha,St.prototype.setWithCredentials=St.prototype.Oa,gi.prototype.digest=gi.prototype.l,gi.prototype.reset=gi.prototype.reset,gi.prototype.update=gi.prototype.j,ze.prototype.add=ze.prototype.add,ze.prototype.multiply=ze.prototype.R,ze.prototype.modulo=ze.prototype.gb,ze.prototype.compare=ze.prototype.X,ze.prototype.toNumber=ze.prototype.ea,ze.prototype.toString=ze.prototype.toString,ze.prototype.getBits=ze.prototype.D,ze.fromNumber=zi,ze.fromString=function H$(t,e){if(0==t.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==t.charAt(0))return Tn(H$(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=zi(Math.pow(e,8)),r=Hl,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=zi(Math.pow(e,s)),r=r.R(s).add(zi(o))):r=(r=r.R(n)).add(zi(o))}return r};var Whe=pi.createWebChannelTransport=function(){return new Ly},qhe=pi.getStatEventTarget=function(){return Iy()},ux=pi.ErrorCode=Cy,Khe=pi.EventType=t$,Yhe=pi.Event=Ra,W$=pi.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Zhe=pi.FetchXmlHttpFactory=Gh,Uy=pi.WebChannel=r$,Qhe=pi.XhrIo=St,Xhe=pi.Md5=gi,Gl=pi.Integer=ze;const q$="@firebase/firestore";class dn{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}dn.UNAUTHENTICATED=new dn(null),dn.GOOGLE_CREDENTIALS=new dn("google-credentials-uid"),dn.FIRST_PARTY=new dn("first-party-uid"),dn.MOCK_USER=new dn("mock-user");let Wl="9.23.0";const Io=new Ml("@firebase/firestore");function dx(){return Io.logLevel}function R(t,...e){if(Io.logLevel<=Ne.DEBUG){const n=e.map(hx);Io.debug(`Firestore (${Wl}): ${t}`,...n)}}function Ft(t,...e){if(Io.logLevel<=Ne.ERROR){const n=e.map(hx);Io.error(`Firestore (${Wl}): ${t}`,...n)}}function mi(t,...e){if(Io.logLevel<=Ne.WARN){const n=e.map(hx);Io.warn(`Firestore (${Wl}): ${t}`,...n)}}function hx(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch{return t}}function Z(t="Unexpected state"){const e=`FIRESTORE (${Wl}) INTERNAL ASSERTION FAILED: `+t;throw Ft(e),new Error(e)}function ee(t,e){t||Z()}function j(t,e){return t}const E={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class M extends fi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class tn{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class K${constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Jhe{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(dn.UNAUTHENTICATED))}shutdown(){}}class efe{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class tfe{constructor(e){this.t=e,this.currentUser=dn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var r=this;let i=this.i;const s=l=>this.i!==i?(i=this.i,n(l)):Promise.resolve();let o=new tn;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new tn,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const l=o;e.enqueueRetryable((0,b.Z)(function*(){yield l.promise,yield s(r.currentUser)}))},c=l=>{R("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(l=>c(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?c(l):(R("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new tn)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(R("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ee("string"==typeof r.accessToken),new K$(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return ee(null===e||"string"==typeof e),new dn(e)}}class nfe{constructor(e,n,r){this.h=e,this.l=n,this.m=r,this.type="FirstParty",this.user=dn.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class rfe{constructor(e,n,r){this.h=e,this.l=n,this.m=r}getToken(){return Promise.resolve(new nfe(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(dn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Y${constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ife{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,n){const r=s=>{null!=s.error&&R("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.T;return this.T=s.token,R("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{R("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.I.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.I.getImmediate({optional:!0});s?i(s):R("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ee("string"==typeof n.token),this.T=n.token,new Y$(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function sfe(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class Z${static A(){const n=62*Math.floor(256/62);let r="";for(;r.length<20;){const i=sfe(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(i[s]%62))}return r}}function le(t,e){return t<e?-1:t>e?1:0}function ql(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}class bt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new M(E.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new M(E.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new M(E.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new M(E.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return bt.fromMillis(Date.now())}static fromDate(e){return bt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new bt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?le(this.nanoseconds,e.nanoseconds):le(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class te{constructor(e){this.timestamp=e}static fromTimestamp(e){return new te(e)}static min(){return new te(new bt(0,0))}static max(){return new te(new bt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Qh{constructor(e,n,r){void 0===n?n=0:n>e.length&&Z(),void 0===r?r=e.length-n:r>e.length-n&&Z(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return 0===Qh.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Qh?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Re extends Qh{construct(e,n,r){return new Re(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new M(E.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Re(n)}static emptyPath(){return new Re([])}}const ofe=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Bt extends Qh{construct(e,n,r){return new Bt(e,n,r)}static isValidIdentifier(e){return ofe.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Bt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Bt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(0===r.length)throw new M(E.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new M(E.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if("\\"!==c&&"."!==c&&"`"!==c)throw new M(E.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new M(E.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Bt(n)}static emptyPath(){return new Bt([])}}class U{constructor(e){this.path=e}static fromPath(e){return new U(Re.fromString(e))}static fromName(e){return new U(Re.fromString(e).popFirst(5))}static empty(){return new U(Re.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Re.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return Re.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new U(new Re(e.slice()))}}function J$(t){return new Mr(t.readTime,t.key,-1)}class Mr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Mr(te.min(),U.empty(),-1)}static max(){return new Mr(te.max(),U.empty(),-1)}}function px(t,e){let n=t.readTime.compareTo(e.readTime);return 0!==n?n:(n=U.comparator(t.documentKey,e.documentKey),0!==n?n:le(t.largestBatchId,e.largestBatchId))}const eH="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class lfe{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Co(t){return gx.apply(this,arguments)}function gx(){return gx=(0,b.Z)(function*(t){if(t.code!==E.FAILED_PRECONDITION||t.message!==eH)throw t;R("LocalStore","Unexpectedly lost primary lease")}),gx.apply(this,arguments)}class C{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Z(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new C((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof C?n:C.resolve(n)}catch(n){return C.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):C.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):C.reject(n)}static resolve(e){return new C((n,r)=>{n(e)})}static reject(e){return new C((n,r)=>{r(e)})}static waitFor(e){return new C((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},c=>r(c))}),o=!0,s===i&&n()})}static or(e){let n=C.resolve(!1);for(const r of e)n=n.next(i=>i?C.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new C((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let c=0;c<s;c++){const l=c;n(e[l]).next(u=>{o[l]=u,++a,a===s&&r(o)},u=>i(u))}})}static doWhile(e,n){return new C((r,i)=>{const s=()=>{!0===e()?n().next(()=>{s()},i):r()};s()})}}function Eo(t){return"IndexedDbTransactionError"===t.name}let kr=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ot(i),this.ut=i=>r.writeSequenceNumber(i))}ot(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.ut&&this.ut(n),n}}return t.ct=-1,t})();function ef(t){return null==t}function tf(t){return 0===t&&1/t==-1/0}function lH(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function To(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function uH(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class it{constructor(e,n){this.comparator=e,this.root=n||Dn.EMPTY}insert(e,n){return new it(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Dn.BLACK,null,null))}remove(e){return new it(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Dn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Gy(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Gy(this.root,e,this.comparator,!1)}getReverseIterator(){return new Gy(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Gy(this.root,e,this.comparator,!0)}}class Gy{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Dn{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Dn.RED,this.left=i??Dn.EMPTY,this.right=s??Dn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Dn(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):0===s?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Dn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return Dn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Dn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Dn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Z();const e=this.left.check();if(e!==this.right.check())throw Z();return e+(this.isRed()?0:1)}}Dn.EMPTY=null,Dn.RED=!0,Dn.BLACK=!1,Dn.EMPTY=new class{constructor(){this.size=0}get key(){throw Z()}get value(){throw Z()}get color(){throw Z()}get left(){throw Z()}get right(){throw Z()}copy(t,e,n,r,i){return this}insert(t,e,n){return new Dn(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class at{constructor(e){this.comparator=e,this.data=new it(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new dH(this.data.getIterator())}getIteratorFrom(e){return new dH(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof at)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new at(this.comparator);return n.data=e,n}}class dH{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class pr{constructor(e){this.fields=e,e.sort(Bt.comparator)}static empty(){return new pr([])}unionWith(e){let n=new at(Bt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new pr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ql(this.fields,e.fields,(n,r)=>n.isEqual(r))}}class hH extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class nn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new hH("Invalid base64 string: "+i):i}}(e);return new nn(n)}static fromUint8Array(e){const n=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new nn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return le(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}nn.EMPTY_BYTE_STRING=new nn("");const Pfe=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Do(t){if(ee(!!t),"string"==typeof t){let e=0;const n=Pfe.exec(t);if(ee(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:xt(t.seconds),nanos:xt(t.nanos)}}function xt(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Ls(t){return"string"==typeof t?nn.fromBase64String(t):nn.fromUint8Array(t)}function Wy(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=t?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function qy(t){const e=t.mapValue.fields.__previous_value__;return Wy(e)?qy(e):e}function nf(t){const e=Do(t.mapValue.fields.__local_write_time__.timestampValue);return new bt(e.seconds,e.nanos)}class Rfe{constructor(e,n,r,i,s,o,a,c,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=l}}class Va{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Va("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Va&&e.projectId===this.projectId&&e.database===this.database}}const So={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function xo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Wy(t)?4:mH(t)?9007199254740991:10:Z()}function Wi(t,e){if(t===e)return!0;const n=xo(t);if(n!==xo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return nf(t).isEqual(nf(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=Do(r.timestampValue),o=Do(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return i=e,Ls(t.bytesValue).isEqual(Ls(i.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return xt(r.geoPointValue.latitude)===xt(i.geoPointValue.latitude)&&xt(r.geoPointValue.longitude)===xt(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return xt(r.integerValue)===xt(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=xt(r.doubleValue),o=xt(i.doubleValue);return s===o?tf(s)===tf(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return ql(t.arrayValue.values||[],e.arrayValue.values||[],Wi);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(lH(s)!==lH(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(void 0===o[a]||!Wi(s[a],o[a])))return!1;return!0}(t,e);default:return Z()}var i}function rf(t,e){return void 0!==(t.values||[]).find(n=>Wi(n,e))}function Ao(t,e){if(t===e)return 0;const n=xo(t),r=xo(e);if(n!==r)return le(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return le(t.booleanValue,e.booleanValue);case 2:return function(i,s){const o=xt(i.integerValue||i.doubleValue),a=xt(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(t,e);case 3:return fH(t.timestampValue,e.timestampValue);case 4:return fH(nf(t),nf(e));case 5:return le(t.stringValue,e.stringValue);case 6:return function(i,s){const o=Ls(i),a=Ls(s);return o.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let c=0;c<o.length&&c<a.length;c++){const l=le(o[c],a[c]);if(0!==l)return l}return le(o.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,s){const o=le(xt(i.latitude),xt(s.latitude));return 0!==o?o:le(xt(i.longitude),xt(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let c=0;c<o.length&&c<a.length;++c){const l=Ao(o[c],a[c]);if(l)return l}return le(o.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===So.mapValue&&s===So.mapValue)return 0;if(i===So.mapValue)return 1;if(s===So.mapValue)return-1;const o=i.fields||{},a=Object.keys(o),c=s.fields||{},l=Object.keys(c);a.sort(),l.sort();for(let u=0;u<a.length&&u<l.length;++u){const d=le(a[u],l[u]);if(0!==d)return d;const h=Ao(o[a[u]],c[l[u]]);if(0!==h)return h}return le(a.length,l.length)}(t.mapValue,e.mapValue);default:throw Z()}}function fH(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return le(t,e);const n=Do(t),r=Do(e),i=le(n.seconds,r.seconds);return 0!==i?i:le(n.nanos,r.nanos)}function Yl(t){return _x(t)}function _x(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=Do(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Ls(t.bytesValue).toBase64():"referenceValue"in t?U.fromName(t.referenceValue).toString():"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=_x(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${_x(r.fields[a])}`;return s+"}"}(t.mapValue):Z();var e}function vx(t){return!!t&&"integerValue"in t}function sf(t){return!!t&&"arrayValue"in t}function pH(t){return!!t&&"nullValue"in t}function gH(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Zy(t){return!!t&&"mapValue"in t}function af(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return To(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=af(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=af(t.arrayValue.values[n]);return e}return Object.assign({},t)}function mH(t){return"__max__"===(((t.mapValue||{}).fields||{}).__type__||{}).stringValue}class Sn{constructor(e){this.value=e}static empty(){return new Sn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Zy(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=af(n)}setAll(e){let n=Bt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=af(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Zy(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Wi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Zy(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){To(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Sn(af(this.value))}}function vH(t){const e=[];return To(t.fields,(n,r)=>{const i=new Bt([n]);if(Zy(r)){const s=vH(r.mapValue).fields;if(0===s.length)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new pr(e)}class ct{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new ct(e,0,te.min(),te.min(),te.min(),Sn.empty(),0)}static newFoundDocument(e,n,r,i){return new ct(e,1,n,te.min(),r,i,0)}static newNoDocument(e,n){return new ct(e,2,n,te.min(),te.min(),Sn.empty(),0)}static newUnknownDocument(e,n){return new ct(e,3,n,te.min(),te.min(),Sn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(te.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Sn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Sn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=te.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof ct&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ct(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Mo{constructor(e,n){this.position=e,this.inclusive=n}}function bH(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(r=s.field.isKeyField()?U.comparator(U.fromName(o.referenceValue),n.key):Ao(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function wH(t,e){if(null===t)return null===e;if(null===e||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Wi(t.position[n],e.position[n]))return!1;return!0}class Zl{constructor(e,n="asc"){this.field=e,this.dir=n}}function Lfe(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class IH{}class De extends IH{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.createKeyFieldInFilter(e,n,r):new Ffe(e,n,r):"array-contains"===n?new Ufe(e,r):"in"===n?new xH(e,r):"not-in"===n?new jfe(e,r):"array-contains-any"===n?new $fe(e,r):new De(e,n,r)}static createKeyFieldInFilter(e,n,r){return"in"===n?new Bfe(e,r):new Vfe(e,r)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.matchesComparison(Ao(n,this.value)):null!==n&&xo(this.value)===xo(n)&&this.matchesComparison(Ao(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Z()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Ge extends IH{constructor(e,n){super(),this.filters=e,this.op=n,this.lt=null}static create(e,n){return new Ge(e,n)}matches(e){return Ql(this)?void 0===this.filters.find(n=>!n.matches(e)):void 0!==this.filters.find(n=>n.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(n=>n.isInequality());return null!==e?e.field:null}ft(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function Ql(t){return"and"===t.op}function wx(t){return function CH(t){for(const e of t.filters)if(e instanceof Ge)return!1;return!0}(t)&&Ql(t)}function Ix(t){if(t instanceof De)return t.field.canonicalString()+t.op.toString()+Yl(t.value);if(wx(t))return t.filters.map(e=>Ix(e)).join(",");{const e=t.filters.map(n=>Ix(n)).join(",");return`${t.op}(${e})`}}function EH(t,e){return t instanceof De?(n=t,(r=e)instanceof De&&n.op===r.op&&n.field.isEqual(r.field)&&Wi(n.value,r.value)):t instanceof Ge?function(n,r){return r instanceof Ge&&n.op===r.op&&n.filters.length===r.filters.length&&n.filters.reduce((i,s,o)=>i&&EH(s,r.filters[o]),!0)}(t,e):void Z();var n,r}function DH(t){return t instanceof De?function(e){return`${e.field.canonicalString()} ${e.op} ${Yl(e.value)}`}(t):t instanceof Ge?function(e){return e.op.toString()+" {"+e.getFilters().map(DH).join(" ,")+"}"}(t):"Filter"}class Ffe extends De{constructor(e,n,r){super(e,n,r),this.key=U.fromName(r.referenceValue)}matches(e){const n=U.comparator(e.key,this.key);return this.matchesComparison(n)}}class Bfe extends De{constructor(e,n){super(e,"in",n),this.keys=SH(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Vfe extends De{constructor(e,n){super(e,"not-in",n),this.keys=SH(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function SH(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(r=>U.fromName(r.referenceValue))}class Ufe extends De{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return sf(n)&&rf(n.arrayValue,this.value)}}class xH extends De{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&rf(this.value.arrayValue,n)}}class jfe extends De{constructor(e,n){super(e,"not-in",n)}matches(e){if(rf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!rf(this.value.arrayValue,n)}}class $fe extends De{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!sf(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>rf(this.value.arrayValue,r))}}class Hfe{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.dt=null}}function Cx(t,e=null,n=[],r=[],i=null,s=null,o=null){return new Hfe(t,e,n,r,i,s,o)}function ja(t){const e=j(t);if(null===e.dt){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Ix(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),ef(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Yl(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Yl(r)).join(",")),e.dt=n}return e.dt}function cf(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Lfe(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!EH(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!wH(t.startAt,e.startAt)&&wH(t.endAt,e.endAt)}function Qy(t){return U.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}class Fs{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=c,this.wt=null,this._t=null}}function Xl(t){return new Fs(t)}function PH(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}function $a(t){const e=j(t);if(null===e.wt){e.wt=[];const n=function Jy(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(null!==n)return n}return null}(e),r=function Ex(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}(e);if(null!==n&&null===r)n.isKeyField()||e.wt.push(new Zl(n)),e.wt.push(new Zl(Bt.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.wt.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new Zl(Bt.keyField(),s))}}}return e.wt}function nr(t){const e=j(t);if(!e._t)if("F"===e.limitType)e._t=Cx(e.path,e.collectionGroup,$a(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const s of $a(e))n.push(new Zl(s.field,"desc"===s.dir?"asc":"desc"));const r=e.endAt?new Mo(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Mo(e.startAt.position,e.startAt.inclusive):null;e._t=Cx(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e._t}function e_(t,e,n){return new Fs(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function lf(t,e){return cf(nr(t),nr(e))&&t.limitType===e.limitType}function RH(t){return`${ja(nr(t))}|lt:${t.limitType}`}function Sx(t){return`Query(target=${function(e){let n=e.path.canonicalString();return null!==e.collectionGroup&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(r=>DH(r)).join(", ")}]`),ef(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(r=>{return`${(i=r).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Yl(r)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Yl(r)).join(",")),`Target(${n})`}(nr(t))}; limitType=${t.limitType})`}function uf(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return null!==n.collectionGroup?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):U.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of $a(n))if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&(r=e,!((n=t).startAt&&!function(i,s,o){const a=bH(i,s,o);return i.inclusive?a<=0:a<0}(n.startAt,$a(n),r)||n.endAt&&!function(i,s,o){const a=bH(i,s,o);return i.inclusive?a>=0:a>0}(n.endAt,$a(n),r)));var n,r}function NH(t){return(e,n)=>{let r=!1;for(const i of $a(t)){const s=zfe(i,e,n);if(0!==s)return s;r=r||i.field.isKeyField()}return 0}}function zfe(t,e,n){const r=t.field.isKeyField()?U.comparator(e.key,n.key):function(i,s,o){const a=s.data.field(i),c=o.data.field(i);return null!==a&&null!==c?Ao(a,c):Z()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Z()}}class Bs{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r)for(const[i,s]of r)if(this.equalsFn(i,e))return s}has(e){return void 0!==this.get(e)}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){To(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return uH(this.inner)}size(){return this.innerSize}}const Gfe=new it(U.comparator);function gr(){return Gfe}const LH=new it(U.comparator);function df(...t){let e=LH;for(const n of t)e=e.insert(n.key,n);return e}function FH(t){let e=LH;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function qi(){return hf()}function BH(){return hf()}function hf(){return new Bs(t=>t.toString(),(t,e)=>t.isEqual(e))}const Wfe=new it(U.comparator),qfe=new at(U.comparator);function be(...t){let e=qfe;for(const n of t)e=e.add(n);return e}const Kfe=new at(le);function VH(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:tf(e)?"-0":e}}function UH(t){return{integerValue:""+t}}function jH(t,e){return function nH(t){return"number"==typeof t&&Number.isInteger(t)&&!tf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}(e)?UH(e):VH(t,e)}class t_{constructor(){this._=void 0}}function Yfe(t,e,n){return t instanceof Jl?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&Wy(i)&&(i=qy(i)),i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,e):t instanceof Ha?HH(t,e):t instanceof za?zH(t,e):function(r,i){const s=$H(r,i),o=GH(s)+GH(r.gt);return vx(s)&&vx(r.gt)?UH(o):VH(r.serializer,o)}(t,e)}function Zfe(t,e,n){return t instanceof Ha?HH(t,e):t instanceof za?zH(t,e):n}function $H(t,e){return t instanceof eu?vx(n=e)||(r=n)&&"doubleValue"in r?e:{integerValue:0}:null;var r,n}class Jl extends t_{}class Ha extends t_{constructor(e){super(),this.elements=e}}function HH(t,e){const n=WH(e);for(const r of t.elements)n.some(i=>Wi(i,r))||n.push(r);return{arrayValue:{values:n}}}class za extends t_{constructor(e){super(),this.elements=e}}function zH(t,e){let n=WH(e);for(const r of t.elements)n=n.filter(i=>!Wi(i,r));return{arrayValue:{values:n}}}class eu extends t_{constructor(e,n){super(),this.serializer=e,this.gt=n}}function GH(t){return xt(t.integerValue||t.doubleValue)}function WH(t){return sf(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class Xfe{constructor(e,n){this.version=e,this.transformResults=n}}class pt{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new pt}static exists(e){return new pt(void 0,e)}static updateTime(e){return new pt(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function n_(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class r_{}function qH(t,e){if(!t.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return t.isNoDocument()?new nu(t.key,pt.none()):new tu(t.key,t.data,pt.none());{const n=t.data,r=Sn.empty();let i=new at(Bt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);null===o&&s.length>1&&(s=s.popLast(),o=n.field(s)),null===o?r.delete(s):r.set(s,o),i=i.add(s)}return new Vs(t.key,r,new pr(i.toArray()),pt.none())}}function Jfe(t,e,n){t instanceof tu?function(r,i,s){const o=r.value.clone(),a=ZH(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,n):t instanceof Vs?function(r,i,s){if(!n_(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=ZH(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(YH(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function pf(t,e,n,r){return t instanceof tu?function(i,s,o,a){if(!n_(i.precondition,s))return o;const c=i.value.clone(),l=QH(i.fieldTransforms,a,s);return c.setAll(l),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof Vs?function(i,s,o,a){if(!n_(i.precondition,s))return o;const c=QH(i.fieldTransforms,a,s),l=s.data;return l.setAll(YH(i)),l.setAll(c),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null===o?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(u=>u.field))}(t,e,n,r):(o=n,n_(t.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o);var s,o}function epe(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=$H(r.transform,i||null);null!=s&&(null===n&&(n=Sn.empty()),n.set(r.field,s))}return n||null}function KH(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(n=t.fieldTransforms)&&void 0===r||n&&r&&ql(n,r,(i,s)=>function Qfe(t,e){return t.field.isEqual(e.field)&&(r=e.transform,(n=t.transform)instanceof Ha&&r instanceof Ha||n instanceof za&&r instanceof za?ql(n.elements,r.elements,Wi):n instanceof eu&&r instanceof eu?Wi(n.gt,r.gt):n instanceof Jl&&r instanceof Jl);var n,r}(i,s))))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask));var n,r}class tu extends r_{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Vs extends r_{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function YH(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function ZH(t,e,n){const r=new Map;ee(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,Zfe(o,a,n[i]))}return r}function QH(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,Yfe(s,o,e))}return r}class nu extends r_{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Ax extends r_{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Mx{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&Jfe(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=pf(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=pf(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=BH();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const c=qH(o,a);null!==c&&r.set(i.key,c),o.isValidDocument()||o.convertToNoDocument(te.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),be())}isEqual(e){return this.batchId===e.batchId&&ql(this.mutations,e.mutations,(n,r)=>KH(n,r))&&ql(this.baseMutations,e.baseMutations,(n,r)=>KH(n,r))}}class kx{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){ee(e.mutations.length===r.length);let i=Wfe;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new kx(e,n,r,i)}}class Px{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class npe{constructor(e,n){this.count=e,this.unchangedNames=n}}var qt,Oe;function JH(t){if(void 0===t)return Ft("GRPC error has no .code"),E.UNKNOWN;switch(t){case qt.OK:return E.OK;case qt.CANCELLED:return E.CANCELLED;case qt.UNKNOWN:return E.UNKNOWN;case qt.DEADLINE_EXCEEDED:return E.DEADLINE_EXCEEDED;case qt.RESOURCE_EXHAUSTED:return E.RESOURCE_EXHAUSTED;case qt.INTERNAL:return E.INTERNAL;case qt.UNAVAILABLE:return E.UNAVAILABLE;case qt.UNAUTHENTICATED:return E.UNAUTHENTICATED;case qt.INVALID_ARGUMENT:return E.INVALID_ARGUMENT;case qt.NOT_FOUND:return E.NOT_FOUND;case qt.ALREADY_EXISTS:return E.ALREADY_EXISTS;case qt.PERMISSION_DENIED:return E.PERMISSION_DENIED;case qt.FAILED_PRECONDITION:return E.FAILED_PRECONDITION;case qt.ABORTED:return E.ABORTED;case qt.OUT_OF_RANGE:return E.OUT_OF_RANGE;case qt.UNIMPLEMENTED:return E.UNIMPLEMENTED;case qt.DATA_LOSS:return E.DATA_LOSS;default:return Z()}}(Oe=qt||(qt={}))[Oe.OK=0]="OK",Oe[Oe.CANCELLED=1]="CANCELLED",Oe[Oe.UNKNOWN=2]="UNKNOWN",Oe[Oe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Oe[Oe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Oe[Oe.NOT_FOUND=5]="NOT_FOUND",Oe[Oe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Oe[Oe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Oe[Oe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Oe[Oe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Oe[Oe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Oe[Oe.ABORTED=10]="ABORTED",Oe[Oe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Oe[Oe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Oe[Oe.INTERNAL=13]="INTERNAL",Oe[Oe.UNAVAILABLE=14]="UNAVAILABLE",Oe[Oe.DATA_LOSS=15]="DATA_LOSS";class Rx{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return i_}static getOrCreateInstance(){return null===i_&&(i_=new Rx),i_}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let i_=null;const rpe=new Gl([4294967295,4294967295],0);function tz(t){const e=function ez(){return new TextEncoder}().encode(t),n=new Xhe;return n.update(e),new Uint8Array(n.digest())}function nz(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Gl([n,r],0),new Gl([i,s],0)]}class Ox{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new gf(`Invalid padding: ${n}`);if(r<0)throw new gf(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new gf(`Invalid hash count: ${r}`);if(0===e.length&&0!==n)throw new gf(`Invalid padding when bitmap length is 0: ${n}`);this.It=8*e.length-n,this.Tt=Gl.fromNumber(this.It)}Et(e,n,r){let i=e.add(n.multiply(Gl.fromNumber(r)));return 1===i.compare(rpe)&&(i=new Gl([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const n=tz(e),[r,i]=nz(n);for(let s=0;s<this.hashCount;s++){const o=this.Et(r,i,s);if(!this.At(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new Ox(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(0===this.It)return;const n=tz(e),[r,i]=nz(n);for(let s=0;s<this.hashCount;s++){const o=this.Et(r,i,s);this.Rt(o)}}Rt(e){const n=Math.floor(e/8);this.bitmap[n]|=1<<e%8}}class gf extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class mf{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,yf.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new mf(te.min(),i,new it(le),gr(),be())}}class yf{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new yf(r,n,be(),be(),be())}}class s_{constructor(e,n,r,i){this.Pt=e,this.removedTargetIds=n,this.key=r,this.bt=i}}class rz{constructor(e,n){this.targetId=e,this.Vt=n}}class iz{constructor(e,n,r=nn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class sz{constructor(){this.St=0,this.Dt=az(),this.Ct=nn.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=be(),n=be(),r=be();return this.Dt.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Z()}}),new yf(this.Ct,this.xt,e,n,r)}Ft(){this.Nt=!1,this.Dt=az()}Bt(e,n){this.Nt=!0,this.Dt=this.Dt.insert(e,n)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class ipe{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=gr(),this.zt=oz(),this.Wt=new it(le)}Ht(e){for(const n of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(n,e.bt):this.Yt(n,e.key,e.bt);for(const n of e.removedTargetIds)this.Yt(n,e.key,e.bt)}Xt(e){this.forEachTarget(e,n=>{const r=this.Zt(n);switch(e.state){case 0:this.te(n)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(n);break;case 3:this.te(n)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(n)&&(this.ee(n),r.$t(e.resumeToken));break;default:Z()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Qt.forEach((r,i)=>{this.te(i)&&n(i)})}ne(e){var n;const r=e.targetId,i=e.Vt.count,s=this.se(r);if(s){const o=s.target;if(Qy(o))if(0===i){const a=new U(o.path);this.Yt(r,a,ct.newNoDocument(a,te.min()))}else ee(1===i);else{const a=this.ie(r);if(a!==i){const c=this.re(e,a);0!==c&&(this.ee(r),this.Wt=this.Wt.insert(r,2===c?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(n=Rx.instance)||void 0===n||n.notifyOnExistenceFilterMismatch(function(l,u,d){var h,f,p,g,m,_;const y={localCacheCount:u,existenceFilterCount:d.count},v=d.unchangedNames;return v&&(y.bloomFilter={applied:0===l,hashCount:null!==(h=v?.hashCount)&&void 0!==h?h:0,bitmapLength:null!==(g=null===(p=null===(f=v?.bits)||void 0===f?void 0:f.bitmap)||void 0===p?void 0:p.length)&&void 0!==g?g:0,padding:null!==(_=null===(m=v?.bits)||void 0===m?void 0:m.padding)&&void 0!==_?_:0}),y}(c,a,e.Vt))}}}}re(e,n){const{unchangedNames:r,count:i}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:s="",padding:o=0},hashCount:a=0}=r;let c,l;try{c=Ls(s).toUint8Array()}catch(u){if(u instanceof hH)return mi("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw u}try{l=new Ox(c,o,a)}catch(u){return mi(u instanceof gf?"BloomFilter error: ":"Applying bloom filter failed: ",u),1}return 0===l.It?1:i!==n-this.oe(e.targetId,l)?2:0}oe(e,n){const r=this.Gt.getRemoteKeysForTarget(e);let i=0;return r.forEach(s=>{const o=this.Gt.ue(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;n.vt(a)||(this.Yt(e,s,null),i++)}),i}ce(e){const n=new Map;this.Qt.forEach((s,o)=>{const a=this.se(o);if(a){if(s.current&&Qy(a.target)){const c=new U(a.target.path);null!==this.jt.get(c)||this.ae(o,c)||this.Yt(o,c,ct.newNoDocument(c,e))}s.Mt&&(n.set(o,s.Ot()),s.Ft())}});let r=be();this.zt.forEach((s,o)=>{let a=!0;o.forEachWhile(c=>{const l=this.se(c);return!l||"TargetPurposeLimboResolution"===l.purpose||(a=!1,!1)}),a&&(r=r.add(s))}),this.jt.forEach((s,o)=>o.setReadTime(e));const i=new mf(e,n,this.Wt,this.jt,r);return this.jt=gr(),this.zt=oz(),this.Wt=new it(le),i}Jt(e,n){if(!this.te(e))return;const r=this.ae(e,n.key)?2:0;this.Zt(e).Bt(n.key,r),this.jt=this.jt.insert(n.key,n),this.zt=this.zt.insert(n.key,this.he(n.key).add(e))}Yt(e,n,r){if(!this.te(e))return;const i=this.Zt(e);this.ae(e,n)?i.Bt(n,1):i.Lt(n),this.zt=this.zt.insert(n,this.he(n).delete(e)),r&&(this.jt=this.jt.insert(n,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const n=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let n=this.Qt.get(e);return n||(n=new sz,this.Qt.set(e,n)),n}he(e){let n=this.zt.get(e);return n||(n=new at(le),this.zt=this.zt.insert(e,n)),n}te(e){const n=null!==this.se(e);return n||R("WatchChangeAggregator","Detected inactive target",e),n}se(e){const n=this.Qt.get(e);return n&&n.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new sz),this.Gt.getRemoteKeysForTarget(e).forEach(n=>{this.Yt(e,n,null)})}ae(e,n){return this.Gt.getRemoteKeysForTarget(e).has(n)}}function oz(){return new it(U.comparator)}function az(){return new it(U.comparator)}const spe={asc:"ASCENDING",desc:"DESCENDING"},ope={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ape={and:"AND",or:"OR"};class cpe{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Nx(t,e){return t.useProto3Json||ef(e)?e:{value:e}}function ru(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function cz(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function lpe(t,e){return ru(t,e.toTimestamp())}function Vt(t){return ee(!!t),te.fromTimestamp(function(e){const n=Do(e);return new bt(n.seconds,n.nanos)}(t))}function Lx(t,e){return(n=t,new Re(["projects",n.projectId,"databases",n.database])).child("documents").child(e).canonicalString();var n}function lz(t){const e=Re.fromString(t);return ee(_z(e)),e}function _f(t,e){return Lx(t.databaseId,e.path)}function Ki(t,e){const n=lz(e);if(n.get(1)!==t.databaseId.projectId)throw new M(E.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new M(E.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new U(dz(n))}function Fx(t,e){return Lx(t.databaseId,e)}function vf(t){return new Re(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function dz(t){return ee(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function hz(t,e,n){return{name:_f(t,e),fields:n.value.mapValue.fields}}function pz(t,e){return{documents:[Fx(t,e.path)]}}function Vx(t,e){const n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=Fx(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Fx(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(c){if(0!==c.length)return yz(Ge.create(c,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(c){if(0!==c.length)return c.map(l=>{return{field:ko((u=l).field),direction:ppe(u.dir)};var u})}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=Nx(t,e.limit);var a,c;return null!==o&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt={before:!(c=e.endAt).inclusive,values:c.position}),n}function gz(t){let e=function uz(t){const e=lz(t);return 4===e.length?Re.emptyPath():dz(e)}(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){ee(1===r);const u=n.from[0];u.allDescendants?i=u.collectionId:e=e.child(u.collectionId)}let s=[];n.where&&(s=function(u){const d=mz(u);return d instanceof Ge&&wx(d)?d.getFilters():[d]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(u=>{return new Zl(iu((d=u).field),function(h){switch(h){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction));var d}));let a=null;n.limit&&(a=function(u){let d;return d="object"==typeof u?u.value:u,ef(d)?null:d}(n.limit));let c=null;var u;n.startAt&&(c=new Mo((u=n.startAt).values||[],!!u.before));let l=null;return n.endAt&&(l=function(u){return new Mo(u.values||[],!u.before)}(n.endAt)),function kH(t,e,n,r,i,s,o,a){return new Fs(t,e,n,r,i,s,o,a)}(e,i,o,s,a,"F",c,l)}function mz(t){return void 0!==t.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=iu(e.unaryFilter.field);return De.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=iu(e.unaryFilter.field);return De.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=iu(e.unaryFilter.field);return De.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=iu(e.unaryFilter.field);return De.create(s,"!=",{nullValue:"NULL_VALUE"});default:return Z()}}(t):void 0!==t.fieldFilter?function(e){return De.create(iu(e.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Z()}}(e.fieldFilter.op),e.fieldFilter.value)}(t):void 0!==t.compositeFilter?function(e){return Ge.create(e.compositeFilter.filters.map(n=>mz(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return Z()}}(e.compositeFilter.op))}(t):Z()}function ppe(t){return spe[t]}function gpe(t){return ope[t]}function mpe(t){return ape[t]}function ko(t){return{fieldPath:t.canonicalString()}}function iu(t){return Bt.fromServerFormat(t.fieldPath)}function yz(t){return t instanceof De?function(e){if("=="===e.op){if(gH(e.value))return{unaryFilter:{field:ko(e.field),op:"IS_NAN"}};if(pH(e.value))return{unaryFilter:{field:ko(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(gH(e.value))return{unaryFilter:{field:ko(e.field),op:"IS_NOT_NAN"}};if(pH(e.value))return{unaryFilter:{field:ko(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ko(e.field),op:gpe(e.op),value:e.value}}}(t):t instanceof Ge?function(e){const n=e.getFilters().map(r=>yz(r));return 1===n.length?n[0]:{compositeFilter:{op:mpe(e.op),filters:n}}}(t):Z()}function ype(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function _z(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}class Us{constructor(e,n,r,i,s=te.min(),o=te.min(),a=nn.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new Us(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Us(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Us(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Us(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class vz{constructor(e){this.fe=e}}function Ux(t){const e=gz({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?e_(e,e.limit,"L"):e}class Ka{constructor(){}_e(e,n){this.me(e,n),n.ge()}me(e,n){if("nullValue"in e)this.ye(n,5);else if("booleanValue"in e)this.ye(n,10),n.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(n,15),n.pe(xt(e.integerValue));else if("doubleValue"in e){const r=xt(e.doubleValue);isNaN(r)?this.ye(n,13):(this.ye(n,15),tf(r)?n.pe(0):n.pe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ye(n,20),"string"==typeof r?n.Ie(r):(n.Ie(`${r.seconds||""}`),n.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,n),this.Ee(n);else if("bytesValue"in e)this.ye(n,30),n.Ae(Ls(e.bytesValue)),this.Ee(n);else if("referenceValue"in e)this.ve(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.ye(n,45),n.pe(r.latitude||0),n.pe(r.longitude||0)}else"mapValue"in e?mH(e)?this.ye(n,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,n),this.Ee(n)):"arrayValue"in e?(this.Pe(e.arrayValue,n),this.Ee(n)):Z()}Te(e,n){this.ye(n,25),this.be(e,n)}be(e,n){n.Ie(e)}Re(e,n){const r=e.fields||{};this.ye(n,55);for(const i of Object.keys(r))this.Te(i,n),this.me(r[i],n)}Pe(e,n){const r=e.values||[];this.ye(n,50);for(const i of r)this.me(i,n)}ve(e,n){this.ye(n,37),U.fromName(e).path.forEach(r=>{this.ye(n,60),this.be(r,n)})}ye(e,n){e.pe(n)}Ee(e){e.pe(2)}}Ka.Ve=new Ka;class Dpe{constructor(){this.rn=new Wx}addToCollectionParentIndex(e,n){return this.rn.add(n),C.resolve()}getCollectionParents(e,n){return C.resolve(this.rn.getEntries(n))}addFieldIndex(e,n){return C.resolve()}deleteFieldIndex(e,n){return C.resolve()}getDocumentsMatchingTarget(e,n){return C.resolve(null)}getIndexType(e,n){return C.resolve(0)}getFieldIndexes(e,n){return C.resolve([])}getNextCollectionGroupToUpdate(e){return C.resolve(null)}getMinOffset(e,n){return C.resolve(Mr.min())}getMinOffsetFromCollectionGroup(e,n){return C.resolve(Mr.min())}updateCollectionGroup(e,n,r){return C.resolve()}updateIndexEntries(e,n){return C.resolve()}}class Wx{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new at(Re.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new at(Re.comparator)).toArray()}}new Uint8Array(0);class Bn{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Bn(e,Bn.DEFAULT_COLLECTION_PERCENTILE,Bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}Bn.DEFAULT_COLLECTION_PERCENTILE=10,Bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Bn.DEFAULT=new Bn(41943040,Bn.DEFAULT_COLLECTION_PERCENTILE,Bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Bn.DISABLED=new Bn(-1,0,0);class Za{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new Za(0)}static Mn(){return new Za(-1)}}class Ppe{constructor(){this.changes=new Bs(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,ct.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return void 0!==r?C.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Npe{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class Gz{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(null!==r&&pf(r.mutation,i,pr.empty(),bt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,be()).next(()=>r))}getLocalViewOfDocuments(e,n,r=be()){const i=qi();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=df();return s.forEach((a,c)=>{o=o.insert(a,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=qi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,be()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=gr();const o=hf(),a=hf();return n.forEach((c,l)=>{const u=r.get(l.key);i.has(l.key)&&(void 0===u||u.mutation instanceof Vs)?s=s.insert(l.key,l):void 0!==u?(o.set(l.key,u.mutation.getFieldMask()),pf(u.mutation,l,u.mutation.getFieldMask(),bt.now())):o.set(l.key,pr.empty())}),this.recalculateAndSaveOverlays(e,s).next(c=>(c.forEach((l,u)=>o.set(l,u)),n.forEach((l,u)=>{var d;return a.set(l,new Npe(u,null!==(d=o.get(l))&&void 0!==d?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=hf();let i=new it((o,a)=>o-a),s=be();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(c=>{const l=n.get(c);if(null===l)return;let u=r.get(c)||pr.empty();u=a.applyToLocalView(l,u),r.set(c,u);const d=(i.get(a.batchId)||be()).add(c);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const c=a.getNext(),l=c.key,u=c.value,d=BH();u.forEach(h=>{if(!s.has(h)){const f=qH(n.get(h),r.get(h));null!==f&&d.set(h,f),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,l,d))}return C.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return U.isDocumentKey((i=n).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):function Tx(t){return null!==t.collectionGroup}(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r);var i}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):C.resolve(qi());let a=-1,c=s;return o.next(l=>C.forEach(l,(u,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(u)?C.resolve():this.remoteDocumentCache.getEntry(e,u).next(h=>{c=c.insert(u,h)}))).next(()=>this.populateOverlays(e,l,s)).next(()=>this.computeViews(e,c,l,be())).next(u=>({batchId:a,changes:FH(u)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new U(n)).next(r=>{let i=df();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const i=n.collectionGroup;let s=df();return this.indexManager.getCollectionParents(e,i).next(o=>C.forEach(o,a=>{const c=(l=n,u=a.child(i),new Fs(u,null,l.explicitOrderBy.slice(),l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt));var l,u;return this.getDocumentsMatchingCollectionQuery(e,c,r).next(l=>{l.forEach((u,d)=>{s=s.insert(u,d)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i))).next(s=>{i.forEach((a,c)=>{const l=c.getKey();null===s.get(l)&&(s=s.insert(l,ct.newInvalidDocument(l)))});let o=df();return s.forEach((a,c)=>{const l=i.get(a);void 0!==l&&pf(l.mutation,c,pr.empty(),bt.now()),uf(n,c)&&(o=o.insert(a,c))}),o})}}class Lpe{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,n){return C.resolve(this.cs.get(n))}saveBundleMetadata(e,n){var r;return this.cs.set(n.id,{id:(r=n).id,version:r.version,createTime:Vt(r.createTime)}),C.resolve()}getNamedQuery(e,n){return C.resolve(this.hs.get(n))}saveNamedQuery(e,n){return this.hs.set(n.name,{name:(r=n).name,query:Ux(r.bundledQuery),readTime:Vt(r.readTime)}),C.resolve();var r}}class Fpe{constructor(){this.overlays=new it(U.comparator),this.ls=new Map}getOverlay(e,n){return C.resolve(this.overlays.get(n))}getOverlays(e,n){const r=qi();return C.forEach(n,i=>this.getOverlay(e,i).next(s=>{null!==s&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.we(e,n,s)}),C.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.ls.get(r);return void 0!==i&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.ls.delete(r)),C.resolve()}getOverlaysForCollection(e,n,r){const i=qi(),s=n.length+1,o=new U(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const c=a.getNext().value,l=c.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===s&&c.largestBatchId>r&&i.set(c.getKey(),c)}return C.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new it((l,u)=>l-u);const o=this.overlays.getIterator();for(;o.hasNext();){const l=o.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let u=s.get(l.largestBatchId);null===u&&(u=qi(),s=s.insert(l.largestBatchId,u)),u.set(l.getKey(),l)}}const a=qi(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((l,u)=>a.set(l,u)),!(a.size()>=i)););return C.resolve(a)}we(e,n,r){const i=this.overlays.get(r.key);if(null!==i){const o=this.ls.get(i.largestBatchId).delete(r.key);this.ls.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new Px(n,r));let s=this.ls.get(n);void 0===s&&(s=be(),this.ls.set(n,s)),this.ls.set(n,s.add(r.key))}}class qx{constructor(){this.fs=new at(fn.ds),this.ws=new at(fn._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,n){const r=new fn(e,n);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.ys(new fn(e,n))}ps(e,n){e.forEach(r=>this.removeReference(r,n))}Is(e){const n=new U(new Re([])),r=new fn(n,e),i=new fn(n,e+1),s=[];return this.ws.forEachInRange([r,i],o=>{this.ys(o),s.push(o.key)}),s}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const n=new U(new Re([])),r=new fn(n,e),i=new fn(n,e+1);let s=be();return this.ws.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new fn(e,0),r=this.fs.firstAfterOrEqual(n);return null!==r&&e.isEqual(r.key)}}class fn{constructor(e,n){this.key=e,this.As=n}static ds(e,n){return U.comparator(e.key,n.key)||le(e.As,n.As)}static _s(e,n){return le(e.As,n.As)||U.comparator(e.key,n.key)}}class Bpe{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.vs=1,this.Rs=new at(fn.ds)}checkEmpty(e){return C.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,r,i){const s=this.vs;this.vs++;const o=new Mx(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.Rs=this.Rs.add(new fn(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return C.resolve(o)}lookupMutationBatch(e,n){return C.resolve(this.Ps(n))}getNextMutationBatchAfterBatchId(e,n){const i=this.bs(n+1),s=i<0?0:i;return C.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return C.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return C.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new fn(n,0),i=new fn(n,Number.POSITIVE_INFINITY),s=[];return this.Rs.forEachInRange([r,i],o=>{const a=this.Ps(o.As);s.push(a)}),C.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new at(le);return n.forEach(i=>{const s=new fn(i,0),o=new fn(i,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([s,o],a=>{r=r.add(a.As)})}),C.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;U.isDocumentKey(s)||(s=s.child(""));const o=new fn(new U(s),0);let a=new at(le);return this.Rs.forEachWhile(c=>{const l=c.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(c.As)),!0)},o),C.resolve(this.Vs(a))}Vs(e){const n=[];return e.forEach(r=>{const i=this.Ps(r);null!==i&&n.push(i)}),n}removeMutationBatch(e,n){ee(0===this.Ss(n.batchId,"removed")),this.mutationQueue.shift();let r=this.Rs;return C.forEach(n.mutations,i=>{const s=new fn(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,n){const r=new fn(n,0),i=this.Rs.firstAfterOrEqual(r);return C.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return C.resolve()}Ss(e,n){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const n=this.bs(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class Vpe{constructor(e){this.Ds=e,this.docs=new it(U.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Ds(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return C.resolve(r?r.document.mutableCopy():ct.newInvalidDocument(n))}getEntries(e,n){let r=gr();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():ct.newInvalidDocument(i))}),C.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=gr();const o=n.path,a=new U(o.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){const{key:l,value:{document:u}}=c.getNext();if(!o.isPrefixOf(l.path))break;l.path.length>o.length+1||px(J$(u),r)<=0||(i.has(u.key)||uf(n,u))&&(s=s.insert(u.key,u.mutableCopy()))}return C.resolve(s)}getAllFromCollectionGroup(e,n,r,i){Z()}Cs(e,n){return C.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Upe(this)}getSize(e){return C.resolve(this.size)}}class Upe extends Ppe{constructor(e){super(),this.os=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.os.addEntry(e,i)):this.os.removeEntry(r)}),C.waitFor(n)}getFromCache(e,n){return this.os.getEntry(e,n)}getAllFromCache(e,n){return this.os.getEntries(e,n)}}class jpe{constructor(e){this.persistence=e,this.xs=new Bs(n=>ja(n),cf),this.lastRemoteSnapshotVersion=te.min(),this.highestTargetId=0,this.Ns=0,this.ks=new qx,this.targetCount=0,this.Ms=Za.kn()}forEachTarget(e,n){return this.xs.forEach((r,i)=>n(i)),C.resolve()}getLastRemoteSnapshotVersion(e){return C.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return C.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),C.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Ns&&(this.Ns=n),C.resolve()}Fn(e){this.xs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ms=new Za(n),this.highestTargetId=n),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,n){return this.Fn(n),this.targetCount+=1,C.resolve()}updateTargetData(e,n){return this.Fn(n),C.resolve()}removeTargetData(e,n){return this.xs.delete(n.target),this.ks.Is(n.targetId),this.targetCount-=1,C.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.xs.forEach((o,a)=>{a.sequenceNumber<=n&&null===r.get(a.targetId)&&(this.xs.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),C.waitFor(s).next(()=>i)}getTargetCount(e){return C.resolve(this.targetCount)}getTargetData(e,n){const r=this.xs.get(n)||null;return C.resolve(r)}addMatchingKeys(e,n,r){return this.ks.gs(n,r),C.resolve()}removeMatchingKeys(e,n,r){this.ks.ps(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),C.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.ks.Is(n),C.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ks.Es(n);return C.resolve(r)}containsKey(e,n){return C.resolve(this.ks.containsKey(n))}}class Kx{constructor(e,n){this.$s={},this.overlays={},this.Os=new kr(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new jpe(this),this.indexManager=new Dpe,this.remoteDocumentCache=new Vpe(r=>this.referenceDelegate.Ls(r)),this.serializer=new vz(n),this.qs=new Lpe(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Fpe,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.$s[e.toKey()];return r||(r=new Bpe(n,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,n,r){R("MemoryPersistence","Starting transaction:",e);const i=new $pe(this.Os.next());return this.referenceDelegate.Us(),r(i).next(s=>this.referenceDelegate.Ks(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gs(e,n){return C.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,n)))}}class $pe extends lfe{constructor(e){super(),this.currentSequenceNumber=e}}class p_{constructor(e){this.persistence=e,this.Qs=new qx,this.js=null}static zs(e){return new p_(e)}get Ws(){if(this.js)return this.js;throw Z()}addReference(e,n,r){return this.Qs.addReference(r,n),this.Ws.delete(r.toString()),C.resolve()}removeReference(e,n,r){return this.Qs.removeReference(r,n),this.Ws.add(r.toString()),C.resolve()}markPotentiallyOrphaned(e,n){return this.Ws.add(n.toString()),C.resolve()}removeTarget(e,n){this.Qs.Is(n.targetId).forEach(i=>this.Ws.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Ws.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Us(){this.js=new Set}Ks(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return C.forEach(this.Ws,r=>{const i=U.fromPath(r);return this.Hs(e,i).next(s=>{s||n.removeEntry(i,te.min())})}).next(()=>(this.js=null,n.apply(e)))}updateLimboDocument(e,n){return this.Hs(e,n).next(r=>{r?this.Ws.delete(n.toString()):this.Ws.add(n.toString())})}Ls(e){return 0}Hs(e,n){return C.or([()=>C.resolve(this.Qs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gs(e,n)])}}class Xx{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Fi=r,this.Bi=i}static Li(e,n){let r=be(),i=be();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Xx(e,n.fromCache,r,i)}}class qz{constructor(){this.qi=!1}initialize(e,n){this.Ui=e,this.indexManager=n,this.qi=!0}getDocumentsMatchingQuery(e,n,r,i){return this.Ki(e,n).next(s=>s||this.Gi(e,n,i,r)).next(s=>s||this.Qi(e,n))}Ki(e,n){if(PH(n))return C.resolve(null);let r=nr(n);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==n.limit&&1===i&&(n=e_(n,null,"F"),r=nr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=be(...s);return this.Ui.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{const l=this.ji(n,a);return this.zi(n,l,o,c.readTime)?this.Ki(e,e_(n,null,"F")):this.Wi(e,l,n,c)}))})))}Gi(e,n,r,i){return PH(n)||i.isEqual(te.min())?this.Qi(e,n):this.Ui.getDocuments(e,r).next(s=>{const o=this.ji(n,s);return this.zi(n,o,r,i)?this.Qi(e,n):(dx()<=Ne.DEBUG&&R("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Sx(n)),this.Wi(e,o,n,function X$(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=te.fromTimestamp(1e9===r?new bt(n+1,0):new bt(n,r));return new Mr(i,U.empty(),e)}(i,-1)))})}ji(e,n){let r=new at(NH(e));return n.forEach((i,s)=>{uf(e,s)&&(r=r.add(s))}),r}zi(e,n,r,i){if(null===e.limit)return!1;if(r.size!==n.size)return!0;const s="F"===e.limitType?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Qi(e,n){return dx()<=Ne.DEBUG&&R("QueryEngine","Using full collection scan to execute query:",Sx(n)),this.Ui.getDocumentsMatchingQuery(e,n,Mr.min())}Wi(e,n,r,i){return this.Ui.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}class zpe{constructor(e,n,r,i){this.persistence=e,this.Hi=n,this.serializer=i,this.Ji=new it(le),this.Yi=new Bs(s=>ja(s),cf),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Gz(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ji))}}function Yz(t,e){return Jx.apply(this,arguments)}function Jx(){return Jx=(0,b.Z)(function*(t,e){const n=j(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.tr(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let c=be();for(const l of i){o.push(l.batchId);for(const u of l.mutations)c=c.add(u.key)}for(const l of s){a.push(l.batchId);for(const u of l.mutations)c=c.add(u.key)}return n.localDocuments.getDocuments(r,c).next(l=>({er:l,removedBatchIds:o,addedBatchIds:a}))})})}),Jx.apply(this,arguments)}function Zz(t){const e=j(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Bs.getLastRemoteSnapshotVersion(n))}function qpe(t,e){const n=j(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function cu(t,e,n){return eA.apply(this,arguments)}function eA(){return eA=(0,b.Z)(function*(t,e,n){const r=j(t),i=r.Ji.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!Eo(o))throw o;R("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(i.target)}),eA.apply(this,arguments)}function y_(t,e,n){const r=j(t);let i=te.min(),s=be();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,c,l){const u=j(a),d=u.Yi.get(l);return void 0!==d?C.resolve(u.Ji.get(d)):u.Bs.getTargetData(c,l)}(r,o,nr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(o,a.targetId).next(c=>{s=c})}).next(()=>r.Hi.getDocumentsMatchingQuery(o,e,n?i:te.min(),n?s:be())).next(a=>(function e4(t,e,n){let r=t.Xi.get(e)||te.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Xi.set(e,r)}(r,function OH(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}(e),a),{documents:a,ir:s})))}class sA{constructor(){this.activeTargetIds=function xx(){return Kfe}()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class r4{constructor(){this.Hr=new sA,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,n,r){this.Jr[e]=n}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new sA,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Zpe{Yr(e){}shutdown(){}}class i4{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){R("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){R("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let b_=null;function aA(){return null===b_?b_=268435456+Math.round(2147483648*Math.random()):b_++,"0x"+b_.toString(16)}const Qpe={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Xpe{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const Vn="WebChannelConnection";class Jpe extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,n,r,i,s){const o=aA(),a=this.To(e,n);R("RestConnection",`Sending RPC '${e}' ${o}:`,a,r);const c={};return this.Eo(c,i,s),this.Ao(e,a,c,r).then(l=>(R("RestConnection",`Received RPC '${e}' ${o}: `,l),l),l=>{throw mi("RestConnection",`RPC '${e}' ${o} failed with error: `,l,"url: ",a,"request:",r),l})}vo(e,n,r,i,s,o){return this.Io(e,n,r,i,s)}Eo(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Wl,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}To(e,n){return`${this.mo}/v1/${n}:${Qpe[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,n,r,i){const s=aA();return new Promise((o,a)=>{const c=new Qhe;c.setWithCredentials(!0),c.listenOnce(Khe.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case ux.NO_ERROR:const u=c.getResponseJson();R(Vn,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(u)),o(u);break;case ux.TIMEOUT:R(Vn,`RPC '${e}' ${s} timed out`),a(new M(E.DEADLINE_EXCEEDED,"Request time out"));break;case ux.HTTP_ERROR:const d=c.getStatus();if(R(Vn,`RPC '${e}' ${s} failed with status:`,d,"response text:",c.getResponseText()),d>0){let h=c.getResponseJson();Array.isArray(h)&&(h=h[0]);const f=h?.error;if(f&&f.status&&f.message){const p=function(g){const m=g.toLowerCase().replace(/_/g,"-");return Object.values(E).indexOf(m)>=0?m:E.UNKNOWN}(f.status);a(new M(p,f.message))}else a(new M(E.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new M(E.UNAVAILABLE,"Connection failed."));break;default:Z()}}finally{R(Vn,`RPC '${e}' ${s} completed.`)}});const l=JSON.stringify(i);R(Vn,`RPC '${e}' ${s} sending request:`,i),c.send(n,"POST",l,r,15)})}Ro(e,n,r){const i=aA(),s=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Whe(),a=qhe(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(c.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(c.xmlHttpFactory=new Zhe({})),this.Eo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const u=s.join("");R(Vn,`Creating RPC '${e}' stream ${i}: ${u}`,c);const d=o.createWebChannel(u,c);let h=!1,f=!1;const p=new Xpe({ro:m=>{f?R(Vn,`Not sending because RPC '${e}' stream ${i} is closed:`,m):(h||(R(Vn,`Opening RPC '${e}' stream ${i} transport.`),d.open(),h=!0),R(Vn,`RPC '${e}' stream ${i} sending:`,m),d.send(m))},oo:()=>d.close()}),g=(m,_,y)=>{m.listen(_,v=>{try{y(v)}catch(I){setTimeout(()=>{throw I},0)}})};return g(d,Uy.EventType.OPEN,()=>{f||R(Vn,`RPC '${e}' stream ${i} transport opened.`)}),g(d,Uy.EventType.CLOSE,()=>{f||(f=!0,R(Vn,`RPC '${e}' stream ${i} transport closed`),p.wo())}),g(d,Uy.EventType.ERROR,m=>{f||(f=!0,mi(Vn,`RPC '${e}' stream ${i} transport errored:`,m),p.wo(new M(E.UNAVAILABLE,"The operation could not be completed")))}),g(d,Uy.EventType.MESSAGE,m=>{var _;if(!f){const y=m.data[0];ee(!!y);const I=y.error||(null===(_=y[0])||void 0===_?void 0:_.error);if(I){R(Vn,`RPC '${e}' stream ${i} received error:`,I);const w=I.status;let T=function(P){const q=qt[P];if(void 0!==q)return JH(q)}(w),O=I.message;void 0===T&&(T=E.INTERNAL,O="Unknown error status: "+w+" with message "+I.message),f=!0,p.wo(new M(T,O)),d.close()}else R(Vn,`RPC '${e}' stream ${i} received:`,y),p._o(y)}}),g(a,Yhe.STAT_EVENT,m=>{m.stat===W$.PROXY?R(Vn,`RPC '${e}' stream ${i} detected buffering proxy`):m.stat===W$.NOPROXY&&R(Vn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{p.fo()},0),p}}function w_(){return typeof document<"u"?document:null}function Af(t){return new cpe(t,!0)}class cA{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ii=e,this.timerId=n,this.Po=r,this.bo=i,this.Vo=s,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const n=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,n-r);i>0&&R("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.So} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class o4{constructor(e,n,r,i,s,o,a,c){this.ii=e,this.$o=r,this.Oo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new cA(e,n)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return(0,b.Z)(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return(0,b.Z)(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,n){var r=this;return(0,b.Z)(function*(){r.Ho(),r.Jo(),r.qo.cancel(),r.Fo++,4!==e?r.qo.reset():n&&n.code===E.RESOURCE_EXHAUSTED?(Ft(n.toString()),Ft("Using maximum backoff delay to prevent overloading the backend."),r.qo.xo()):n&&n.code===E.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Yo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.ao(n)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),n=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Fo===n&&this.Zo(r,i)},r=>{e(()=>{const i=new M(E.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(i)})})}Zo(e,n){const r=this.Xo(this.Fo);this.stream=this.eu(e,n),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(i=>{r(()=>this.tu(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Go(){var e=this;this.state=5,this.qo.No((0,b.Z)(function*(){e.state=0,e.start()}))}tu(e){return R("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return n=>{this.ii.enqueueAndForget(()=>this.Fo===e?n():(R("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class ege extends o4{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}eu(e,n){return this.connection.Ro("Listen",e,n)}onMessage(e){this.qo.reset();const n=function dpe(t,e){let n;if("targetChange"in e){const r="NO_CHANGE"===(c=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===c?1:"REMOVE"===c?2:"CURRENT"===c?3:"RESET"===c?4:Z(),i=e.targetChange.targetIds||[],s=function(c,l){return c.useProto3Json?(ee(void 0===l||"string"==typeof l),nn.fromBase64String(l||"")):(ee(void 0===l||l instanceof Uint8Array),nn.fromUint8Array(l||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const l=void 0===c.code?E.UNKNOWN:JH(c.code);return new M(l,c.message||"")}(o);n=new iz(r,i,s,a||null)}else if("documentChange"in e){const r=e.documentChange,i=Ki(t,r.document.name),s=Vt(r.document.updateTime),o=r.document.createTime?Vt(r.document.createTime):te.min(),a=new Sn({mapValue:{fields:r.document.fields}}),c=ct.newFoundDocument(i,s,o,a);n=new s_(r.targetIds||[],r.removedTargetIds||[],c.key,c)}else if("documentDelete"in e){const r=e.documentDelete,i=Ki(t,r.document),s=r.readTime?Vt(r.readTime):te.min(),o=ct.newNoDocument(i,s);n=new s_([],r.removedTargetIds||[],o.key,o)}else if("documentRemove"in e){const r=e.documentRemove,i=Ki(t,r.document);n=new s_([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return Z();{const r=e.filter,{count:i=0,unchangedNames:s}=r,o=new npe(i,s);n=new rz(r.targetId,o)}}var c;return n}(this.serializer,e),r=function(i){if(!("targetChange"in i))return te.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?te.min():s.readTime?Vt(s.readTime):te.min()}(e);return this.listener.nu(n,r)}su(e){const n={};n.database=vf(this.serializer),n.addTarget=function(i,s){let o;const a=s.target;if(o=Qy(a)?{documents:pz(i,a)}:{query:Vx(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){o.resumeToken=cz(i,s.resumeToken);const c=Nx(i,s.expectedCount);null!==c&&(o.expectedCount=c)}else if(s.snapshotVersion.compareTo(te.min())>0){o.readTime=ru(i,s.snapshotVersion.toTimestamp());const c=Nx(i,s.expectedCount);null!==c&&(o.expectedCount=c)}return o}(this.serializer,e);const r=function fpe(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Z()}}(e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);r&&(n.labels=r),this.Wo(n)}iu(e){const n={};n.database=vf(this.serializer),n.removeTarget=e,this.Wo(n)}}class tge extends o4{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,n){return this.connection.Ro("Write",e,n)}onMessage(e){if(ee(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const n=function hpe(t,e){return t&&t.length>0?(ee(void 0!==e),t.map(n=>function(r,i){let s=Vt(r.updateTime?r.updateTime:i);return s.isEqual(te.min())&&(s=Vt(i)),new Xfe(s,r.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),r=Vt(e.commitTime);return this.listener.cu(r,n)}return ee(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=vf(this.serializer),this.Wo(e)}uu(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>function bf(t,e){let n;if(e instanceof tu)n={update:hz(t,e.key,e.value)};else if(e instanceof nu)n={delete:_f(t,e.key)};else if(e instanceof Vs)n={update:hz(t,e.key,e.data),updateMask:ype(e.fieldMask)};else{if(!(e instanceof Ax))return Z();n={verify:_f(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof Jl)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Ha)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof za)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof eu)return{fieldPath:s.field.canonicalString(),increment:o.gt};throw Z()}(0,r))),e.precondition.isNone||(n.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:lpe(t,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:Z()),n;var i}(this.serializer,r))};this.Wo(n)}}class nge extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.lu=!1}fu(){if(this.lu)throw new M(E.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,n,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.Io(e,n,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===E.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new M(E.UNKNOWN,i.toString())})}vo(e,n,r,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.vo(e,n,r,s,o,i)).catch(s=>{throw"FirebaseError"===s.name?(s.code===E.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new M(E.UNKNOWN,s.toString())})}terminate(){this.lu=!0}}class ige{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(Ft(n),this.mu=!1):R("OnlineStateTracker",n)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class sge{constructor(e,n,r,i,s){var o=this;this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=s,this.Pu.Yr(a=>{r.enqueueAndForget((0,b.Z)(function*(){var c;No(o)&&(R("RemoteStore","Restarting streams for network reachability change."),yield(c=(0,b.Z)(function*(l){const u=j(l);u.vu.add(4),yield lu(u),u.bu.set("Unknown"),u.vu.delete(4),yield Mf(u)}),function(l){return c.apply(this,arguments)})(o))}))}),this.bu=new ige(r,i)}}function Mf(t){return uA.apply(this,arguments)}function uA(){return uA=(0,b.Z)(function*(t){if(No(t))for(const e of t.Ru)yield e(!0)}),uA.apply(this,arguments)}function lu(t){return dA.apply(this,arguments)}function dA(){return dA=(0,b.Z)(function*(t){for(const e of t.Ru)yield e(!1)}),dA.apply(this,arguments)}function I_(t,e){const n=j(t);n.Au.has(e.targetId)||(n.Au.set(e.targetId,e),pA(n)?fA(n):du(n).Ko()&&hA(n,e))}function kf(t,e){const n=j(t),r=du(n);n.Au.delete(e),r.Ko()&&a4(n,e),0===n.Au.size&&(r.Ko()?r.jo():No(n)&&n.bu.set("Unknown"))}function hA(t,e){if(t.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(te.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}du(t).su(e)}function a4(t,e){t.Vu.qt(e),du(t).iu(e)}function fA(t){t.Vu=new ipe({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),le:e=>t.Au.get(e)||null,ue:()=>t.datastore.serializer.databaseId}),du(t).start(),t.bu.gu()}function pA(t){return No(t)&&!du(t).Uo()&&t.Au.size>0}function No(t){return 0===j(t).vu.size}function c4(t){t.Vu=void 0}function oge(t){return gA.apply(this,arguments)}function gA(){return gA=(0,b.Z)(function*(t){t.Au.forEach((e,n)=>{hA(t,e)})}),gA.apply(this,arguments)}function age(t,e){return mA.apply(this,arguments)}function mA(){return mA=(0,b.Z)(function*(t,e){c4(t),pA(t)?(t.bu.Iu(e),fA(t)):t.bu.set("Unknown")}),mA.apply(this,arguments)}function cge(t,e,n){return yA.apply(this,arguments)}function yA(){return yA=(0,b.Z)(function*(t,e,n){if(t.bu.set("Online"),e instanceof iz&&2===e.state&&e.cause)try{yield(r=(0,b.Z)(function*(i,s){const o=s.cause;for(const a of s.targetIds)i.Au.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i.Au.delete(a),i.Vu.removeTarget(a))}),function(i,s){return r.apply(this,arguments)})(t,e)}catch(r){R("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield C_(t,r)}else if(e instanceof s_?t.Vu.Ht(e):e instanceof rz?t.Vu.ne(e):t.Vu.Xt(e),!n.isEqual(te.min()))try{const r=yield Zz(t.localStore);n.compareTo(r)>=0&&(yield function(i,s){const o=i.Vu.ce(s);return o.targetChanges.forEach((a,c)=>{if(a.resumeToken.approximateByteSize()>0){const l=i.Au.get(c);l&&i.Au.set(c,l.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach((a,c)=>{const l=i.Au.get(a);if(!l)return;i.Au.set(a,l.withResumeToken(nn.EMPTY_BYTE_STRING,l.snapshotVersion)),a4(i,a);const u=new Us(l.target,a,c,l.sequenceNumber);hA(i,u)}),i.remoteSyncer.applyRemoteEvent(o)}(t,n))}catch(r){R("RemoteStore","Failed to raise snapshot:",r),yield C_(t,r)}var r}),yA.apply(this,arguments)}function C_(t,e,n){return _A.apply(this,arguments)}function _A(){return _A=(0,b.Z)(function*(t,e,n){if(!Eo(e))throw e;t.vu.add(1),yield lu(t),t.bu.set("Offline"),n||(n=()=>Zz(t.localStore)),t.asyncQueue.enqueueRetryable((0,b.Z)(function*(){R("RemoteStore","Retrying IndexedDB access"),yield n(),t.vu.delete(1),yield Mf(t)}))}),_A.apply(this,arguments)}function l4(t,e){return e().catch(n=>C_(t,n,e))}function uu(t){return vA.apply(this,arguments)}function vA(){return vA=(0,b.Z)(function*(t){const e=j(t),n=Lo(e);let r=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;lge(e);)try{const i=yield qpe(e.localStore,r);if(null===i){0===e.Eu.length&&n.jo();break}r=i.batchId,uge(e,i)}catch(i){yield C_(e,i)}u4(e)&&d4(e)}),vA.apply(this,arguments)}function lge(t){return No(t)&&t.Eu.length<10}function uge(t,e){t.Eu.push(e);const n=Lo(t);n.Ko()&&n.ou&&n.uu(e.mutations)}function u4(t){return No(t)&&!Lo(t).Uo()&&t.Eu.length>0}function d4(t){Lo(t).start()}function dge(t){return bA.apply(this,arguments)}function bA(){return bA=(0,b.Z)(function*(t){Lo(t).hu()}),bA.apply(this,arguments)}function hge(t){return wA.apply(this,arguments)}function wA(){return wA=(0,b.Z)(function*(t){const e=Lo(t);for(const n of t.Eu)e.uu(n.mutations)}),wA.apply(this,arguments)}function fge(t,e,n){return IA.apply(this,arguments)}function IA(){return IA=(0,b.Z)(function*(t,e,n){const r=t.Eu.shift(),i=kx.from(r,e,n);yield l4(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield uu(t)}),IA.apply(this,arguments)}function pge(t,e){return CA.apply(this,arguments)}function CA(){return CA=(0,b.Z)(function*(t,e){var n;e&&Lo(t).ou&&(yield(n=(0,b.Z)(function*(r,i){if(function XH(t){switch(t){default:return Z();case E.CANCELLED:case E.UNKNOWN:case E.DEADLINE_EXCEEDED:case E.RESOURCE_EXHAUSTED:case E.INTERNAL:case E.UNAVAILABLE:case E.UNAUTHENTICATED:return!1;case E.INVALID_ARGUMENT:case E.NOT_FOUND:case E.ALREADY_EXISTS:case E.PERMISSION_DENIED:case E.FAILED_PRECONDITION:case E.ABORTED:case E.OUT_OF_RANGE:case E.UNIMPLEMENTED:case E.DATA_LOSS:return!0}}(s=i.code)&&s!==E.ABORTED){const o=r.Eu.shift();Lo(r).Qo(),yield l4(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield uu(r)}var s}),function(r,i){return n.apply(this,arguments)})(t,e)),u4(t)&&d4(t)}),CA.apply(this,arguments)}function h4(t,e){return EA.apply(this,arguments)}function EA(){return EA=(0,b.Z)(function*(t,e){const n=j(t);n.asyncQueue.verifyOperationInProgress(),R("RemoteStore","RemoteStore received new credentials");const r=No(n);n.vu.add(3),yield lu(n),r&&n.bu.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.vu.delete(3),yield Mf(n)}),EA.apply(this,arguments)}function DA(){return DA=(0,b.Z)(function*(t,e){const n=j(t);e?(n.vu.delete(2),yield Mf(n)):e||(n.vu.add(2),yield lu(n),n.bu.set("Unknown"))}),DA.apply(this,arguments)}function du(t){return t.Su||(t.Su=function(e,n,r){const i=j(e);return i.fu(),new ege(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{uo:oge.bind(null,t),ao:age.bind(null,t),nu:cge.bind(null,t)}),t.Ru.push(function(){var e=(0,b.Z)(function*(n){n?(t.Su.Qo(),pA(t)?fA(t):t.bu.set("Unknown")):(yield t.Su.stop(),c4(t))});return function(n){return e.apply(this,arguments)}}())),t.Su}function Lo(t){return t.Du||(t.Du=function(e,n,r){const i=j(e);return i.fu(),new tge(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{uo:dge.bind(null,t),ao:pge.bind(null,t),au:hge.bind(null,t),cu:fge.bind(null,t)}),t.Ru.push(function(){var e=(0,b.Z)(function*(n){n?(t.Du.Qo(),yield uu(t)):(yield t.Du.stop(),t.Eu.length>0&&(R("RemoteStore",`Stopping write stream with ${t.Eu.length} pending writes`),t.Eu=[]))});return function(n){return e.apply(this,arguments)}}())),t.Du}class SA{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new tn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new SA(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new M(E.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function hu(t,e){if(Ft("AsyncQueue",`${e}: ${t}`),Eo(t))return new M(E.UNAVAILABLE,`${e}: ${t}`);throw t}class fu{constructor(e){this.comparator=e?(n,r)=>e(n,r)||U.comparator(n.key,r.key):(n,r)=>U.comparator(n.key,r.key),this.keyedMap=df(),this.sortedSet=new it(this.comparator)}static emptySet(e){return new fu(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof fu)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const r=new fu;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class f4{constructor(){this.Cu=new it(U.comparator)}track(e){const n=e.doc.key,r=this.Cu.get(n);r?0!==e.type&&3===r.type?this.Cu=this.Cu.insert(n,e):3===e.type&&1!==r.type?this.Cu=this.Cu.insert(n,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Cu=this.Cu.insert(n,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Cu=this.Cu.remove(n):1===e.type&&2===r.type?this.Cu=this.Cu.insert(n,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):Z():this.Cu=this.Cu.insert(n,e)}xu(){const e=[];return this.Cu.inorderTraversal((n,r)=>{e.push(r)}),e}}class pu{constructor(e,n,r,i,s,o,a,c,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=l}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new pu(e,n,fu.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&lf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class gge{constructor(){this.Nu=void 0,this.listeners=[]}}class mge{constructor(){this.queries=new Bs(e=>RH(e),lf),this.onlineState="Unknown",this.ku=new Set}}function AA(){return AA=(0,b.Z)(function*(t,e){const n=j(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new gge),i)try{s.Nu=yield n.onListen(r)}catch(o){const a=hu(o,`Initialization of query '${Sx(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.Mu(n.onlineState),s.Nu&&e.$u(s.Nu)&&PA(n)}),AA.apply(this,arguments)}function kA(){return kA=(0,b.Z)(function*(t,e){const n=j(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}),kA.apply(this,arguments)}function yge(t,e){const n=j(t);let r=!1;for(const i of e){const o=n.queries.get(i.query);if(o){for(const a of o.listeners)a.$u(i)&&(r=!0);o.Nu=i}}r&&PA(n)}function _ge(t,e,n){const r=j(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function PA(t){t.ku.forEach(e=>{e.next()})}class RA{constructor(e,n,r){this.query=e,this.Ou=n,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new pu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),n=!0):this.qu(e,this.onlineState)&&(this.Uu(e),n=!0),this.Bu=e,n}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let n=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),n=!0),n}qu(e,n){return!e.fromCache||(!this.options.Ku||!("Offline"!==n))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===n)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=pu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class m4{constructor(e){this.key=e}}class y4{constructor(e){this.key=e}}class _4{constructor(e,n){this.query=e,this.Yu=n,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=be(),this.mutatedKeys=be(),this.tc=NH(e),this.ec=new fu(this.tc)}get nc(){return this.Yu}sc(e,n){const r=n?n.ic:new f4,i=n?n.ec:this.ec;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const c="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,l="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((u,d)=>{const h=i.get(u),f=uf(this.query,d)?d:null,p=!!h&&this.mutatedKeys.has(h.key),g=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let m=!1;h&&f?h.data.isEqual(f.data)?p!==g&&(r.track({type:3,doc:f}),m=!0):this.rc(h,f)||(r.track({type:2,doc:f}),m=!0,(c&&this.tc(f,c)>0||l&&this.tc(f,l)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),m=!0):h&&!f&&(r.track({type:1,doc:h}),m=!0,(c||l)&&(a=!0)),m&&(f?(o=o.add(f),s=g?s.add(u):s.delete(u)):(o=o.delete(u),s=s.delete(u)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const u="F"===this.query.limitType?o.last():o.first();o=o.delete(u.key),s=s.delete(u.key),r.track({type:1,doc:u})}return{ec:o,ic:r,zi:a,mutatedKeys:s}}rc(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const s=e.ic.xu();s.sort((l,u)=>function(d,h){const f=p=>{switch(p){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Z()}};return f(d)-f(h)}(l.type,u.type)||this.tc(l.doc,u.doc)),this.oc(r);const o=n?this.uc():[],a=0===this.Zu.size&&this.current?1:0,c=a!==this.Xu;return this.Xu=a,0!==s.length||c?{snapshot:new pu(this.query,e.ec,i,s,e.mutatedKeys,0===a,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:o}:{cc:o}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new f4,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(n=>this.Yu=this.Yu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Yu=this.Yu.delete(n)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=be(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const n=[];return e.forEach(r=>{this.Zu.has(r)||n.push(new y4(r))}),this.Zu.forEach(r=>{e.has(r)||n.push(new m4(r))}),n}hc(e){this.Yu=e.ir,this.Zu=be();const n=this.sc(e.documents);return this.applyChanges(n,!0)}lc(){return pu.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class wge{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Ige{constructor(e){this.key=e,this.fc=!1}}class Cge{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.dc={},this.wc=new Bs(a=>RH(a),lf),this._c=new Map,this.mc=new Set,this.gc=new it(U.comparator),this.yc=new Map,this.Ic=new qx,this.Tc={},this.Ec=new Map,this.Ac=Za.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function Ege(t,e){return OA.apply(this,arguments)}function OA(){return OA=(0,b.Z)(function*(t,e){const n=function rM(t){const e=j(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=v4.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Rge.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Sge.bind(null,e),e.dc.nu=yge.bind(null,e.eventManager),e.dc.Pc=_ge.bind(null,e.eventManager),e}(t);let r,i;const s=n.wc.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.lc();else{const o=yield function au(t,e){const n=j(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Bs.getTargetData(r,e).next(s=>s?(i=s,C.resolve(i)):n.Bs.allocateTargetId(r).next(o=>(i=new Us(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Bs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ji.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(r.targetId,r),n.Yi.set(e,r.targetId)),r})}(n.localStore,nr(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=yield function NA(t,e,n,r,i){return LA.apply(this,arguments)}(n,e,r,"current"===a,o.resumeToken),n.isPrimaryClient&&I_(n.remoteStore,o)}return i}),OA.apply(this,arguments)}function LA(){return LA=(0,b.Z)(function*(t,e,n,r,i){t.Rc=(d,h,f)=>{return(p=(0,b.Z)(function*(g,m,_,y){let v=m.view.sc(_);v.zi&&(v=yield y_(g.localStore,m.query,!1).then(({documents:T})=>m.view.sc(T,v)));const I=y&&y.targetChanges.get(m.targetId),w=m.view.applyChanges(v,g.isPrimaryClient,I);return WA(g,m.targetId,w.cc),w.snapshot}),function(g,m,_,y){return p.apply(this,arguments)})(t,d,h,f);var p};const s=yield y_(t.localStore,e,!0),o=new _4(e,s.ir),a=o.sc(s.documents),c=yf.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState,i),l=o.applyChanges(a,t.isPrimaryClient,c);WA(t,n,l.cc);const u=new wge(e,n,o);return t.wc.set(e,u),t._c.has(n)?t._c.get(n).push(e):t._c.set(n,[e]),l.snapshot}),LA.apply(this,arguments)}function Tge(t,e){return FA.apply(this,arguments)}function FA(){return FA=(0,b.Z)(function*(t,e){const n=j(t),r=n.wc.get(e),i=n._c.get(r.targetId);if(i.length>1)return n._c.set(r.targetId,i.filter(s=>!lf(s,e))),void n.wc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||(yield cu(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),kf(n.remoteStore,r.targetId),gu(n,r.targetId)}).catch(Co))):(gu(n,r.targetId),yield cu(n.localStore,r.targetId,!0))}),FA.apply(this,arguments)}function BA(){return BA=(0,b.Z)(function*(t,e,n){const r=function iM(t){const e=j(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=xge.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Age.bind(null,e),e}(t);try{const i=yield function(s,o){const a=j(s),c=bt.now(),l=o.reduce((h,f)=>h.add(f.key),be());let u,d;return a.persistence.runTransaction("Locally write mutations","readwrite",h=>{let f=gr(),p=be();return a.Zi.getEntries(h,l).next(g=>{f=g,f.forEach((m,_)=>{_.isValidDocument()||(p=p.add(m))})}).next(()=>a.localDocuments.getOverlayedDocuments(h,f)).next(g=>{u=g;const m=[];for(const _ of o){const y=epe(_,u.get(_.key).overlayedDocument);null!=y&&m.push(new Vs(_.key,y,vH(y.value.mapValue),pt.exists(!0)))}return a.mutationQueue.addMutationBatch(h,c,m,o)}).next(g=>{d=g;const m=g.applyToLocalDocumentSet(u,p);return a.documentOverlayCache.saveOverlays(h,g.batchId,m)})}).then(()=>({batchId:d.batchId,changes:FH(u)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,a){let c=s.Tc[s.currentUser.toKey()];c||(c=new it(le)),c=c.insert(o,a),s.Tc[s.currentUser.toKey()]=c}(r,i.batchId,n),yield js(r,i.changes),yield uu(r.remoteStore)}catch(i){const s=hu(i,"Failed to persist write");n.reject(s)}}),BA.apply(this,arguments)}function v4(t,e){return VA.apply(this,arguments)}function VA(){return VA=(0,b.Z)(function*(t,e){const n=j(t);try{const r=yield function Wpe(t,e){const n=j(t),r=e.snapshotVersion;let i=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Zi.newChangeBuffer({trackRemovals:!0});i=n.Ji;const a=[];e.targetChanges.forEach((u,d)=>{const h=i.get(d);if(!h)return;a.push(n.Bs.removeMatchingKeys(s,u.removedDocuments,d).next(()=>n.Bs.addMatchingKeys(s,u.addedDocuments,d)));let f=h.withSequenceNumber(s.currentSequenceNumber);var p,g,m;null!==e.targetMismatches.get(d)?f=f.withResumeToken(nn.EMPTY_BYTE_STRING,te.min()).withLastLimboFreeSnapshotVersion(te.min()):u.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(u.resumeToken,r)),i=i.insert(d,f),g=f,m=u,(0===(p=h).resumeToken.approximateByteSize()||g.snapshotVersion.toMicroseconds()-p.snapshotVersion.toMicroseconds()>=3e8||m.addedDocuments.size+m.modifiedDocuments.size+m.removedDocuments.size>0)&&a.push(n.Bs.updateTargetData(s,f))});let c=gr(),l=be();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,u))}),a.push(function Qz(t,e,n){let r=be(),i=be();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=gr();return n.forEach((a,c)=>{const l=s.get(a);c.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),c.isNoDocument()&&c.version.isEqual(te.min())?(e.removeEntry(a,c.readTime),o=o.insert(a,c)):!l.isValidDocument()||c.version.compareTo(l.version)>0||0===c.version.compareTo(l.version)&&l.hasPendingWrites?(e.addEntry(c),o=o.insert(a,c)):R("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",c.version)}),{nr:o,sr:i}})}(s,o,e.documentUpdates).next(u=>{c=u.nr,l=u.sr})),!r.isEqual(te.min())){const u=n.Bs.getLastRemoteSnapshotVersion(s).next(d=>n.Bs.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(u)}return C.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,c,l)).next(()=>c)}).then(s=>(n.Ji=i,s))}(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.yc.get(s);o&&(ee(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.fc=!0:i.modifiedDocuments.size>0?ee(o.fc):i.removedDocuments.size>0&&(ee(o.fc),o.fc=!1))}),yield js(n,r,e)}catch(r){yield Co(r)}}),VA.apply(this,arguments)}function b4(t,e,n){const r=j(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const i=[];r.wc.forEach((s,o)=>{const a=o.view.Mu(e);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=j(s);a.onlineState=o;let c=!1;a.queries.forEach((l,u)=>{for(const d of u.listeners)d.Mu(o)&&(c=!0)}),c&&PA(a)}(r.eventManager,e),i.length&&r.dc.nu(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Sge(t,e,n){return UA.apply(this,arguments)}function UA(){return UA=(0,b.Z)(function*(t,e,n){const r=j(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.yc.get(e),s=i&&i.key;if(s){let o=new it(U.comparator);o=o.insert(s,ct.newNoDocument(s,te.min()));const a=be().add(s),c=new mf(te.min(),new Map,new it(le),o,a);yield v4(r,c),r.gc=r.gc.remove(s),r.yc.delete(e),qA(r)}else yield cu(r.localStore,e,!1).then(()=>gu(r,e,n)).catch(Co)}),UA.apply(this,arguments)}function xge(t,e){return jA.apply(this,arguments)}function jA(){return jA=(0,b.Z)(function*(t,e){const n=j(t),r=e.batch.batchId;try{const i=yield function Gpe(t,e){const n=j(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Zi.newChangeBuffer({trackRemovals:!0});return function(o,a,c,l){const u=c.batch,d=u.keys();let h=C.resolve();return d.forEach(f=>{h=h.next(()=>l.getEntry(a,f)).next(p=>{const g=c.docVersions.get(f);ee(null!==g),p.version.compareTo(g)<0&&(u.applyToRemoteDocument(p,c),p.isValidDocument()&&(p.setReadTime(c.commitVersion),l.addEntry(p)))})}),h.next(()=>o.mutationQueue.removeMutationBatch(a,u))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let a=be();for(let c=0;c<o.mutationResults.length;++c)o.mutationResults[c].transformResults.length>0&&(a=a.add(o.batch.mutations[c].key));return a}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}(n.localStore,e);GA(n,r,null),zA(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield js(n,i)}catch(i){yield Co(i)}}),jA.apply(this,arguments)}function Age(t,e,n){return $A.apply(this,arguments)}function $A(){return $A=(0,b.Z)(function*(t,e,n){const r=j(t);try{const i=yield function(s,o){const a=j(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let l;return a.mutationQueue.lookupMutationBatch(c,o).next(u=>(ee(null!==u),l=u.keys(),a.mutationQueue.removeMutationBatch(c,u))).next(()=>a.mutationQueue.performConsistencyCheck(c)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(c,l,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,l)).next(()=>a.localDocuments.getDocuments(c,l))})}(r.localStore,e);GA(r,e,n),zA(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield js(r,i)}catch(i){yield Co(i)}}),$A.apply(this,arguments)}function zA(t,e){(t.Ec.get(e)||[]).forEach(n=>{n.resolve()}),t.Ec.delete(e)}function GA(t,e,n){const r=j(t);let i=r.Tc[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Tc[r.currentUser.toKey()]=i}}function gu(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t._c.get(e))t.wc.delete(r),n&&t.dc.Pc(r,n);t._c.delete(e),t.isPrimaryClient&&t.Ic.Is(e).forEach(r=>{t.Ic.containsKey(r)||w4(t,r)})}function w4(t,e){t.mc.delete(e.path.canonicalString());const n=t.gc.get(e);null!==n&&(kf(t.remoteStore,n),t.gc=t.gc.remove(e),t.yc.delete(n),qA(t))}function WA(t,e,n){for(const r of n)r instanceof m4?(t.Ic.addReference(r.key,e),kge(t,r)):r instanceof y4?(R("SyncEngine","Document no longer in limbo: "+r.key),t.Ic.removeReference(r.key,e),t.Ic.containsKey(r.key)||w4(t,r.key)):Z()}function kge(t,e){const n=e.key,r=n.path.canonicalString();t.gc.get(n)||t.mc.has(r)||(R("SyncEngine","New document in limbo: "+n),t.mc.add(r),qA(t))}function qA(t){for(;t.mc.size>0&&t.gc.size<t.maxConcurrentLimboResolutions;){const e=t.mc.values().next().value;t.mc.delete(e);const n=new U(Re.fromString(e)),r=t.Ac.next();t.yc.set(r,new Ige(n)),t.gc=t.gc.insert(n,r),I_(t.remoteStore,new Us(nr(Xl(n.path)),r,"TargetPurposeLimboResolution",kr.ct))}}function js(t,e,n){return KA.apply(this,arguments)}function KA(){return KA=(0,b.Z)(function*(t,e,n){const r=j(t),i=[],s=[],o=[];var a;r.wc.isEmpty()||(r.wc.forEach((a,c)=>{o.push(r.Rc(c,e,n).then(l=>{if((l||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(c.targetId,l?.fromCache?"not-current":"current"),l){i.push(l);const u=Xx.Li(c.targetId,l);s.push(u)}}))}),yield Promise.all(o),r.dc.nu(i),yield(a=(0,b.Z)(function*(c,l){const u=j(c);try{yield u.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>C.forEach(l,h=>C.forEach(h.Fi,f=>u.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>C.forEach(h.Bi,f=>u.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!Eo(d))throw d;R("LocalStore","Failed to update sequence numbers: "+d)}for(const d of l){const h=d.targetId;if(!d.fromCache){const f=u.Ji.get(h),g=f.withLastLimboFreeSnapshotVersion(f.snapshotVersion);u.Ji=u.Ji.insert(h,g)}}}),function(c,l){return a.apply(this,arguments)})(r.localStore,s))}),KA.apply(this,arguments)}function Pge(t,e){return YA.apply(this,arguments)}function YA(){return YA=(0,b.Z)(function*(t,e){const n=j(t);if(!n.currentUser.isEqual(e)){R("SyncEngine","User change. New user:",e.toKey());const r=yield Yz(n.localStore,e);n.currentUser=e,(i=n).Ec.forEach(o=>{o.forEach(a=>{a.reject(new M(E.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.Ec.clear(),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield js(n,r.er)}var i}),YA.apply(this,arguments)}function Rge(t,e){const n=j(t),r=n.yc.get(e);if(r&&r.fc)return be().add(r.key);{let i=be();const s=n._c.get(e);if(!s)return i;for(const o of s){const a=n.wc.get(o);i=i.unionWith(a.view.nc)}return i}}class E_{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return(0,b.Z)(function*(){n.serializer=Af(e.databaseInfo.databaseId),n.sharedClientState=n.createSharedClientState(e),n.persistence=n.createPersistence(e),yield n.persistence.start(),n.localStore=n.createLocalStore(e),n.gcScheduler=n.createGarbageCollectionScheduler(e,n.localStore),n.indexBackfillerScheduler=n.createIndexBackfillerScheduler(e,n.localStore)})()}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return function Kz(t,e,n,r){return new zpe(t,e,n,r)}(this.persistence,new qz,e.initialUser,this.serializer)}createPersistence(e){return new Kx(p_.zs,this.serializer)}createSharedClientState(e){return new r4}terminate(){var e=this;return(0,b.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class mu{initialize(e,n){var r=this;return(0,b.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(n),r.remoteStore=r.createRemoteStore(n),r.eventManager=r.createEventManager(n),r.syncEngine=r.createSyncEngine(n,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>b4(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=Pge.bind(null,r.syncEngine),yield function TA(t,e){return DA.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new mge}createDatastore(e){const n=Af(e.databaseInfo.databaseId),r=new Jpe(e.databaseInfo);return new nge(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,s=a=>b4(this.syncEngine,a,0),o=i4.D()?new i4:new Zpe,new sge(n,r,i,s,o);var n,r,i,s,o}createSyncEngine(e,n){return function(r,i,s,o,a,c,l){const u=new Cge(r,i,s,o,a,c);return l&&(u.vc=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return function(){var e=(0,b.Z)(function*(n){const r=j(n);R("RemoteStore","RemoteStore shutting down."),r.vu.add(5),yield lu(r),r.Pu.shutdown(),r.bu.set("Unknown")});return function(n){return e.apply(this,arguments)}}()(this.remoteStore)}}class T_{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):Ft("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class Wge{constructor(e,n,r,i){var s=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=dn.UNAUTHENTICATED,this.clientId=Z$.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var o=(0,b.Z)(function*(a){R("FirestoreClient","Received user=",a.uid),yield s.authCredentialListener(a),s.user=a});return function(a){return o.apply(this,arguments)}}()),this.appCheckCredentials.start(r,o=>(R("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}getConfiguration(){var e=this;return(0,b.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new M(E.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new tn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,b.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(r){const i=hu(r,"Failed to shutdown persistence");n.reject(i)}})),n.promise}}function D_(t,e){return sM.apply(this,arguments)}function sM(){return sM=(0,b.Z)(function*(t,e){t.asyncQueue.verifyOperationInProgress(),R("FirestoreClient","Initializing OfflineComponentProvider");const n=yield t.getConfiguration();yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(function(){var i=(0,b.Z)(function*(s){r.isEqual(s)||(yield Yz(e.localStore,s),r=s)});return function(s){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}),sM.apply(this,arguments)}function oM(t,e){return aM.apply(this,arguments)}function aM(){return aM=(0,b.Z)(function*(t,e){t.asyncQueue.verifyOperationInProgress();const n=yield function cM(t){return lM.apply(this,arguments)}(t);R("FirestoreClient","Initializing OnlineComponentProvider");const r=yield t.getConfiguration();yield e.initialize(n,r),t.setCredentialChangeListener(i=>h4(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>h4(e.remoteStore,s)),t._onlineComponents=e}),aM.apply(this,arguments)}function lM(){return lM=(0,b.Z)(function*(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){R("FirestoreClient","Using user provided OfflineComponentProvider");try{yield D_(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function S4(t){return"FirebaseError"===t.name?t.code===E.FAILED_PRECONDITION||t.code===E.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(n))throw n;mi("Error using user provided cache. Falling back to memory cache: "+n),yield D_(t,new E_)}}else R("FirestoreClient","Using default OfflineComponentProvider"),yield D_(t,new E_);return t._offlineComponents}),lM.apply(this,arguments)}function S_(t){return uM.apply(this,arguments)}function uM(){return uM=(0,b.Z)(function*(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(R("FirestoreClient","Using user provided OnlineComponentProvider"),yield oM(t,t._uninitializedComponentsProvider._online)):(R("FirestoreClient","Using default OnlineComponentProvider"),yield oM(t,new mu))),t._onlineComponents}),uM.apply(this,arguments)}function yu(t){return hM.apply(this,arguments)}function hM(){return hM=(0,b.Z)(function*(t){const e=yield S_(t),n=e.eventManager;return n.onListen=Ege.bind(null,e.syncEngine),n.onUnlisten=Tge.bind(null,e.syncEngine),n}),hM.apply(this,arguments)}function R4(t){const e={};return void 0!==t.timeoutSeconds&&(e.timeoutSeconds=t.timeoutSeconds),e}const O4=new Map;function fM(t,e,n){if(!n)throw new M(E.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function N4(t){if(!U.isDocumentKey(t))throw new M(E.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function L4(t){if(U.isDocumentKey(t))throw new M(E.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function A_(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=(n=t).constructor?n.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var n;return"function"==typeof t?"a function":Z()}function Ae(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new M(E.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=A_(t);throw new M(E.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}class B4{constructor(e){var n,r;if(void 0===e.host){if(void 0!==e.ssl)throw new M(E.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new M(E.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function tme(t,e,n,r){if(!0===e&&!0===r)throw new M(E.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=R4(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(i){if(void 0!==i.timeoutSeconds){if(isNaN(i.timeoutSeconds))throw new M(E.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new M(E.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new M(E.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Pf{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new B4({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new M(E.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new M(E.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new B4(e),void 0!==e.credentials&&(this._authCredentials=function(n){if(!n)return new Jhe;switch(n.type){case"firstParty":return new rfe(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new M(E.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=O4.get(e);n&&(R("ComponentProvider","Removing Datastore"),O4.delete(e),n.terminate())}(this),Promise.resolve()}}class Ut{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Yi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ut(this.firestore,e,this._key)}}class xn{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new xn(this.firestore,e,this._query)}}class Yi extends xn{constructor(e,n,r){super(e,n,Xl(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ut(this.firestore,null,new U(e))}withConverter(e){return new Yi(this.firestore,e,this._path)}}function rme(t,e,...n){if(t=Gr(t),fM("collection","path",e),t instanceof Pf){const r=Re.fromString(e,...n);return L4(r),new Yi(t,null,r)}{if(!(t instanceof Ut||t instanceof Yi))throw new M(E.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Re.fromString(e,...n));return L4(r),new Yi(t.firestore,null,r)}}function V4(t,e,...n){if(t=Gr(t),1===arguments.length&&(e=Z$.A()),fM("doc","path",e),t instanceof Pf){const r=Re.fromString(e,...n);return N4(r),new Ut(t,null,new U(r))}{if(!(t instanceof Ut||t instanceof Yi))throw new M(E.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Re.fromString(e,...n));return N4(r),new Ut(t.firestore,t instanceof Yi?t.converter:null,new U(r))}}class ime{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new cA(this,"async_queue_retry"),this.Xc=()=>{const n=w_();n&&R("AsyncQueue","Visibility state changed to "+n.visibilityState),this.qo.Mo()};const e=w_();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const n=w_();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const n=new tn;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return(0,b.Z)(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(n){if(!Eo(n))throw n;R("AsyncQueue","Operation failed with retryable error: "+n)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const n=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{throw this.Wc=r,this.Hc=!1,Ft("INTERNAL UNHANDLED ERROR: ",function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),o}(r)),r}).then(r=>(this.Hc=!1,r))));return this.Gc=n,n}enqueueAfterDelay(e,n,r){this.Zc(),this.Yc.indexOf(e)>-1&&(n=0);const i=SA.createAndSchedule(this,e,n,r,s=>this.na(s));return this.zc.push(i),i}Zc(){this.Wc&&Z()}verifyOperationInProgress(){}sa(){var e=this;return(0,b.Z)(function*(){let n;do{n=e.Gc,yield n}while(n!==e.Gc)})()}ia(e){for(const n of this.zc)if(n.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.zc)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const n=this.zc.indexOf(e);this.zc.splice(n,1)}}function pM(t){return function(e,n){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(t)}class lt extends Pf{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new ime,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||j4(this),this._firestoreClient.terminate()}}function ome(t,e){const r="string"==typeof t?t:e||"(default)",i=Fm("object"==typeof t?t:$B(),"firestore").getImmediate({identifier:r});if(!i._initialized){const s=(t=>{const e=(t=>{var e,n;return null===(n=null===(e=Pm())||void 0===e?void 0:e.emulatorHosts)||void 0===n?void 0:n[t]})(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return"["===e[0]?[e.substring(1,n-1),r]:[e.substring(0,n),r]})("firestore");s&&function nme(t,e,n,r={}){var i;const s=(t=Ae(t,Pf))._getSettings(),o=`${e}:${n}`;if("firestore.googleapis.com"!==s.host&&s.host!==o&&mi("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,c;if("string"==typeof r.mockUserToken)a=r.mockUserToken,c=dn.MOCK_USER;else{a=function Wre(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Mm(JSON.stringify({alg:"none",type:"JWT"})),Mm(JSON.stringify(o)),""].join(".")}(r.mockUserToken,null===(i=t._app)||void 0===i?void 0:i.options.projectId);const l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new M(E.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new dn(l)}t._authCredentials=new efe(new K$(a,c))}}(i,...s)}return i}function Kt(t){return t._firestoreClient||j4(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function j4(t){var e,n,r;const i=t._freezeSettings(),s=(a=(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",new Rfe(t._databaseId,a,t._persistenceKey,(l=i).host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,R4(l.experimentalLongPollingOptions),l.useFetchStreams));var a,l;t._firestoreClient=new Wge(t._authCredentials,t._appCheckCredentials,t._queue,s),null!==(n=i.cache)&&void 0!==n&&n._offlineComponentProvider&&null!==(r=i.cache)&&void 0!==r&&r._onlineComponentProvider&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}class Xa{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Xa(nn.fromBase64String(e))}catch(n){throw new M(E.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Xa(nn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class _u{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new M(E.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Bt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class z4{constructor(e){this._methodName=e}}class gM{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new M(E.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new M(E.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return le(this._lat,e._lat)||le(this._long,e._long)}}const cme=/^__.*__$/;class lme{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return null!==this.fieldMask?new Vs(e,this.data,this.fieldMask,n,this.fieldTransforms):new tu(e,this.data,n,this.fieldTransforms)}}function W4(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Z()}}class M_{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===s&&this.ua(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new M_(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.aa({path:r,la:!1});return i.fa(e),i}da(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.aa({path:r,la:!1});return i.ua(),i}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return P_(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(W4(this.ca)&&cme.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class ume{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Af(e)}ya(e,n,r,i=!1){return new M_({ca:e,methodName:n,ga:r,path:Bt.emptyPath(),la:!1,ma:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function vu(t){const e=t._freezeSettings(),n=Af(t._databaseId);return new ume(t._databaseId,!!e.ignoreUndefinedProperties,n)}function mM(t,e,n,r,i,s={}){const o=t.ya(s.merge||s.mergeFields?2:0,e,n,i);_M("Data must be an object, but it was:",o,r);const a=Q4(r,o);let c,l;if(s.merge)c=new pr(o.fieldMask),l=o.fieldTransforms;else if(s.mergeFields){const u=[];for(const d of s.mergeFields){const h=Nf(e,d,n);if(!o.contains(h))throw new M(E.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);J4(u,h)||u.push(h)}c=new pr(u),l=o.fieldTransforms.filter(d=>c.covers(d.field))}else c=null,l=o.fieldTransforms;return new lme(new Sn(a),c,l)}function Ja(t,e){if(X4(t=Gr(t)))return _M("Unsupported field value:",e,t),Q4(t,e);if(t instanceof z4)return function(n,r){if(!W4(r.ca))throw r._a(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(n,r){const i=[];let s=0;for(const o of n){let a=Ja(o,r.wa(s));null==a&&(a={nullValue:"NULL_VALUE"}),i.push(a),s++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if(null===(n=Gr(n)))return{nullValue:"NULL_VALUE"};if("number"==typeof n)return jH(r.serializer,n);if("boolean"==typeof n)return{booleanValue:n};if("string"==typeof n)return{stringValue:n};if(n instanceof Date){const i=bt.fromDate(n);return{timestampValue:ru(r.serializer,i)}}if(n instanceof bt){const i=new bt(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:ru(r.serializer,i)}}if(n instanceof gM)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Xa)return{bytesValue:cz(r.serializer,n._byteString)};if(n instanceof Ut){const i=r.databaseId,s=n.firestore._databaseId;if(!s.isEqual(i))throw r._a(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Lx(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r._a(`Unsupported field value: ${A_(n)}`)}(t,e)}function Q4(t,e){const n={};return uH(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):To(t,(r,i)=>{const s=Ja(i,e.ha(r));null!=s&&(n[r]=s)}),{mapValue:{fields:n}}}function X4(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof bt||t instanceof gM||t instanceof Xa||t instanceof Ut||t instanceof z4)}function _M(t,e,n){if(!X4(n)||"object"!=typeof(r=n)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=A_(n);throw e._a("an object"===r?t+" a custom object":t+" "+r)}var r}function Nf(t,e,n){if((e=Gr(e))instanceof _u)return e._internalPath;if("string"==typeof e)return k_(t,e);throw P_("Field path arguments must be of type string or ",t,!1,void 0,n)}const pme=new RegExp("[~\\*/\\[\\]]");function k_(t,e,n){if(e.search(pme)>=0)throw P_(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new _u(...e.split("."))._internalPath}catch{throw P_(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function P_(t,e,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(s||o)&&(c+=" (found",s&&(c+=` in field ${r}`),o&&(c+=` in document ${i}`),c+=")"),new M(E.INVALID_ARGUMENT,a+t+c)}function J4(t,e){return t.some(n=>n.isEqual(e))}class vM{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Ut(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new gme(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(R_("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class gme extends vM{data(){return super.data()}}function R_(t,e){return"string"==typeof e?k_(t,e):e instanceof _u?e._internalPath:e._delegate._internalPath}class yme{convertValue(e,n="none"){switch(xo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return xt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ls(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw Z()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return To(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new gM(xt(e.latitude),xt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=qy(e);return null==r?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(nf(e));default:return null}}convertTimestamp(e){const n=Do(e);return new bt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Re.fromString(e);ee(_z(r));const i=new Va(r.get(1),r.get(3)),s=new U(r.popFirst(5));return i.isEqual(n)||Ft(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}class ec{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class wu extends vM{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new F_(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(R_("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class F_ extends wu{data(e={}){return super.data(e)}}class Iu{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new ec(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new F_(this._firestore,this._userDataWriter,r.key,r,new ec(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new M(E.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>({type:"added",doc:new F_(r._firestore,r._userDataWriter,o.doc.key,o.doc,new ec(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}))}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||3!==o.type).map(o=>{const a=new F_(r._firestore,r._userDataWriter,o.doc.key,o.doc,new ec(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let c=-1,l=-1;return 0!==o.type&&(c=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),1!==o.type&&(s=s.add(o.doc),l=s.indexOf(o.doc.key)),{type:vme(o.type),doc:a,oldIndex:c,newIndex:l}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function vme(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Z()}}class Fo extends yme{constructor(e){super(),this.firestore=e}convertBytes(e){return new Xa(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ut(this.firestore,null,n)}}function bme(t){return Ff(Ae(t.firestore,lt),[new nu(t._key,pt.none())])}function wme(t,e){const n=Ae(t.firestore,lt),r=V4(t),i=function wM(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}(t.converter,e);return Ff(n,[mM(vu(t.firestore),"addDoc",r._key,i,null!==t.converter,{}).toMutation(r._key,pt.exists(!1))]).then(()=>r)}function Ff(t,e){return function(n,r){const i=new tn;return n.asyncQueue.enqueueAndForget((0,b.Z)(function*(){return function Dge(t,e,n){return BA.apply(this,arguments)}(yield function dM(t){return S_(t).then(e=>e.syncEngine)}(n),r,i)})),i.promise}(Kt(t),e)}!function(t,e=!0){Wl=fh,Jn(new On("firestore",(n,{instanceIdentifier:r,options:i})=>{const s=n.getProvider("app").getImmediate(),o=new lt(new tfe(n.getProvider("auth-internal")),new ife(n.getProvider("app-check-internal")),function(a,c){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new M(E.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Va(a.options.projectId,c)}(s,r),s);return i=Object.assign({useFetchStreams:e},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),Lt(q$,"3.13.0",t),Lt(q$,"3.13.0","esm2017")}();var Ome={includeMetadataChanges:!1};function CM(t,e){return void 0===e&&(e=Ome),new J(function(n){var r=function Ime(t,...e){var n,r,i;t=Gr(t);let s={includeMetadataChanges:!1},o=0;"object"!=typeof e[o]||pM(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(pM(e[o])){const d=e[o];e[o]=null===(n=d.next)||void 0===n?void 0:n.bind(d),e[o+1]=null===(r=d.error)||void 0===r?void 0:r.bind(d),e[o+2]=null===(i=d.complete)||void 0===i?void 0:i.bind(d)}let c,l,u;if(t instanceof Ut)l=Ae(t.firestore,lt),u=Xl(t._key.path),c={next:d=>{e[o]&&e[o](function IM(t,e,n){const r=n.docs.get(e._key),i=new Fo(t);return new wu(t,i,e._key,r,new ec(n.hasPendingWrites,n.fromCache),e.converter)}(l,t,d))},error:e[o+1],complete:e[o+2]};else{const d=Ae(t,xn);l=Ae(d.firestore,lt),u=d._query;const h=new Fo(l);c={next:f=>{e[o]&&e[o](new Iu(l,h,d,f))},error:e[o+1],complete:e[o+2]},function e3(t){if("L"===t.limitType&&0===t.explicitOrderBy.length)throw new M(E.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(t._query)}return function(d,h,f,p){const g=new T_(p),m=new RA(h,g,f);return d.asyncQueue.enqueueAndForget((0,b.Z)(function*(){return function xA(t,e){return AA.apply(this,arguments)}(yield yu(d),m)})),()=>{g.Dc(),d.asyncQueue.enqueueAndForget((0,b.Z)(function*(){return function MA(t,e){return kA.apply(this,arguments)}(yield yu(d),m)}))}}(Kt(l),u,a,c)}(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}function jme(t,e){return void 0===e&&(e={}),function Ume(t){return CM(t,{includeMetadataChanges:!0}).pipe(Me(function(e){return e.docs}))}(t).pipe(Me(function(n){return n.map(function(r){return function c3(t,e){void 0===e&&(e={});var n=t.data();return!t.exists()||"object"!=typeof n||null===n||e.idField&&(n[e.idField]=t.id),n}(r,e)})}))}class V_{constructor(e){return e}}const h3="firestore",DM=new Y("angularfire2.firestore-instances");function zme(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new V_(r)}}const Gme={provide:class $me{constructor(){return KE(h3)}},deps:[[new or,DM]]},Wme={provide:V_,useFactory:function Hme(t,e){const n=function qE(t,e,n){if(e){if(1===e.length)return e[0];const s=e.filter(o=>o.app===n);if(1===s.length)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}(h3,t,e);return n&&new V_(n)},deps:[[new or,DM],Ol]};let qme=(()=>{class t{constructor(){Lt("angularfire",VE.full,"fst")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Ci({type:t}),t.\u0275inj=ni({providers:[Wme,Gme]}),t})();function Kme(t,...e){return{ngModule:qme,providers:[{provide:DM,useFactory:zme(t),multi:!0,deps:[$e,cr,rU,iU,[new or,cj],[new or,Mj],...e]}]}}const Yme=xa(jme,!0),Zme=xa(wme,!0),f3=xa(rme,!0),Qme=xa(bme,!0),Xme=xa(V4,!0),Jme=xa(ome,!0);let SM=(()=>{class t{constructor(n){this.firestore=n,this.fireStoreTabelNameList={User:"User",Booking:"Booking",Room:"Room"}}getAll(n){const r=f3(this.firestore,n);return Yme(r,{idField:"fireStoreId"})}post(n,r){const i=f3(this.firestore,n);return Zme(i,r)}deleteById(n,r){console.log(n),console.log(r);const i=Xme(this.firestore,n,r);Qme(i)}static#e=this.\u0275fac=function(r){return new(r||t)(W(V_))};static#t=this.\u0275prov=X({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),U_=(()=>{class t{constructor(n){this.fireStoreService=n,this.bookingTable=this.fireStoreService.fireStoreTabelNameList.Booking,this.selectDateInfo="",this.startTime="09:00",this.endTime="09:00",this.selectDayAllBookingRecordList=[]}getSelectDate(){return this.selectDateInfo}setSelectDate(n){this.selectDateInfo=n}getStartTime(){return this.startTime}setStartTime(n){this.startTime=n}getEndTime(){return this.endTime}setEndTime(n){this.endTime=n}getThisDayAllBookingRecord(){return this.selectDayAllBookingRecordList}setThisDayAllBookingRecord(n){this.selectDayAllBookingRecordList=[],this.selectDayAllBookingRecordList=n}getAll(){return this.fireStoreService.getAll(this.bookingTable)}post(n){return this.fireStoreService.post(this.bookingTable,n)}static#e=this.\u0275fac=function(r){return new(r||t)(W(SM))};static#t=this.\u0275prov=X({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const eye=function(t){return{selected:t}};function tye(t,e){if(1&t&&(D(0,"div",12),N(1),S()),2&t){const n=_e().index,r=_e();F("ngClass",Te(2,eye,r._selectDate===n+1-r.currentMonthFirstDayWeekly)),k(1),lr(" ",n+1-r.currentMonthFirstDayWeekly," ")}}const nye=function(t){return{background:t}};function rye(t,e){if(1&t&&_t(0,"div",15),2&t){const n=_e(3);F("ngStyle",Te(1,nye,n.checkDotColor()))}}const p3=function(){return[]};function iye(t,e){if(1&t&&(D(0,"div",13),Ct(1,rye,1,3,"div",14),S()),2&t){const n=_e().index,r=_e();k(1),F("ngForOf",Xw(1,p3).constructor(r.countDot(n+1-r.currentMonthFirstDayWeekly)))}}function sye(t,e){if(1&t&&(D(0,"div",16),N(1),S()),2&t){const n=_e().index,r=_e();k(1),lr(" ",r.isShowRate(n+1-r.currentMonthFirstDayWeekly)," ")}}function oye(t,e){if(1&t){const n=Rd();D(0,"div",8),V("click",function(){const s=Ze(n).index,o=_e();return Qe(o.selectDate(s+1-o.currentMonthFirstDayWeekly))}),Ct(1,tye,2,4,"div",9),Ct(2,iye,2,2,"div",10),Ct(3,sye,2,1,"div",11),S()}if(2&t){const n=e.index,r=_e();k(1),F("ngIf",n+1>r.currentMonthFirstDayWeekly),k(1),F("ngIf",r.bookingList.length>0),k(1),F("ngIf",r.rateList.length>0)}}let xM=(()=>{class t{constructor(){this.selectDatInfo=new Xt,this.bookingList=new Array,this.rateList=[],this._selectDate=0,this.showRate=60,this.currentDate=new Date,this.currentYear=0,this.currentMonth=0,this.currentMonthAllDay=0,this.currentMonthFirstDayWeekly=0,this.displayAllDayGrid=0,this.thisDayBookingList=new Array}ngOnInit(){this.currentDate=new Date,0===this._selectDate&&(this._selectDate=this.currentDate.getDate()),this.currentYear=this.currentDate.getFullYear(),this.currentMonth=this.currentDate.getMonth()+1,this.setCalendarDateInfo()}setCalendarDateInfo(){this.currentMonthAllDay=new Date(this.currentYear,this.currentMonth,0).getDate(),this.currentMonthFirstDay=new Date(this.currentYear,this.currentMonth-1,1),this.currentMonthFirstDayWeekly=this.currentMonthFirstDay.getDay(),this.displayAllDayGrid=this.currentMonthAllDay+this.currentMonthFirstDayWeekly}countDot(n){if(n<=0)return 0;const r=new Date(this.currentYear,this.currentMonth-1,n),i=this.bookingList.filter(s=>new Date(s.startDate).getTime()===r.getTime());return this.thisDayBookingList=i,i.length}checkDotColor(){const n=this.thisDayBookingList.pop();return"room"===n?.bookingType?"#661983":"site"===n?.bookingType?"#FBE0FF":"yellow"}backMonth(){this.currentMonth=this.currentMonth-1,this.checkMonth(),this.setCalendarDateInfo(),this._selectDate=1}nextMonth(){this.currentMonth=this.currentMonth+1,this.checkMonth(),this.setCalendarDateInfo(),this._selectDate=1}checkMonth(){if(!(1<=this.currentMonth&&this.currentMonth<=12)){if(this.currentMonth<1)return this.currentMonth=12,void(this.currentYear=this.currentYear-1);if(this.currentMonth>12)return this.currentMonth=1,void(this.currentYear=this.currentYear+1)}}selectDate(n){n>0&&(this._selectDate=n),this.emitDateInfo()}emitDateInfo(){let n=this.currentYear+"-"+this.currentMonth+"-1";0!=this._selectDate&&(n=this.currentYear+"-"+this.currentMonth+"-"+this._selectDate),this.selectDatInfo.emit(n),this.bookingList.filter(i=>new Date(i.startDate).getTime()===new Date(n).getTime())}isShowRate(n){if(!this.rateList)return"";console.log(this.rateList);const r=this.rateList.filter(i=>new Date(i.date).getDate()===n)[0];return!r||this.showRate<r.rate?"":r.rate+"%"}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=wt({type:t,selectors:[["app-calendar-picker"]],inputs:{bookingList:"bookingList",rateList:"rateList",_selectDate:"_selectDate",showRate:"showRate"},outputs:{selectDatInfo:"selectDatInfo"},decls:23,vars:4,consts:[[1,"calendar-picker"],[1,"calendar-header"],["src","assets/images/icon/icon_back.png",3,"click"],["src","assets/images/icon/icon_next.png",3,"click"],[1,"calendar-content"],[1,"grid-row"],[1,"grid"],["class","grid",3,"click",4,"ngFor","ngForOf"],[1,"grid",3,"click"],["class","no-selected",3,"ngClass",4,"ngIf"],["class","dot-bar",4,"ngIf"],["class","rate",4,"ngIf"],[1,"no-selected",3,"ngClass"],[1,"dot-bar"],["class","dot",3,"ngStyle",4,"ngFor","ngForOf"],[1,"dot",3,"ngStyle"],[1,"rate"]],template:function(r,i){1&r&&(D(0,"div",0)(1,"div",1)(2,"img",2),V("click",function(){return i.backMonth()}),S(),N(3),D(4,"img",3),V("click",function(){return i.nextMonth()}),S()(),D(5,"div",4)(6,"div",5)(7,"div",6),N(8,"\u65e5"),S(),D(9,"div",6),N(10,"\u4e00"),S(),D(11,"div",6),N(12,"\u4e8c"),S(),D(13,"div",6),N(14,"\u4e09"),S(),D(15,"div",6),N(16,"\u56db"),S(),D(17,"div",6),N(18,"\u4e94"),S(),D(19,"div",6),N(20,"\u516d"),S()(),D(21,"div",5),Ct(22,oye,4,3,"div",7),S()()()),2&r&&(k(3),kg(" ",i.currentYear," \u5e74 ",i.currentMonth," \u6708 "),k(19),F("ngForOf",Xw(3,p3).constructor(i.displayAllDayGrid)))},dependencies:[vl,om,uo,am],styles:['@charset "UTF-8";.calendar-picker[_ngcontent-%COMP%]{width:350px;border:1px solid #cfcfcf;border-radius:1px}.calendar-picker[_ngcontent-%COMP%]   .calendar-header[_ngcontent-%COMP%]{background:#661983;color:#fff;display:flex;justify-content:space-between;align-items:center;padding:15px;font-size:20px}.calendar-picker[_ngcontent-%COMP%]   .calendar-content[_ngcontent-%COMP%]   .grid-row[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;flex-wrap:wrap}.calendar-picker[_ngcontent-%COMP%]   .calendar-content[_ngcontent-%COMP%]   .grid-row[_ngcontent-%COMP%]   .grid[_ngcontent-%COMP%]{width:14%;text-align:center;padding:12px 0;display:flex;flex-direction:column;justify-content:space-between;align-items:center}.calendar-picker[_ngcontent-%COMP%]   .calendar-content[_ngcontent-%COMP%]   .grid-row[_ngcontent-%COMP%]   .grid[_ngcontent-%COMP%]   .no-selected[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:35px;height:35px}.calendar-picker[_ngcontent-%COMP%]   .calendar-content[_ngcontent-%COMP%]   .grid-row[_ngcontent-%COMP%]   .grid[_ngcontent-%COMP%]   .selected[_ngcontent-%COMP%]{background:#661983;color:#fff;border-radius:100%}.calendar-picker[_ngcontent-%COMP%]   .calendar-content[_ngcontent-%COMP%]   .grid-row[_ngcontent-%COMP%]   .grid[_ngcontent-%COMP%]   .dot-bar[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;align-items:center;gap:1px}.calendar-picker[_ngcontent-%COMP%]   .calendar-content[_ngcontent-%COMP%]   .grid-row[_ngcontent-%COMP%]   .grid[_ngcontent-%COMP%]   .dot-bar[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]{width:4px;height:4px;background:#661983;border-radius:100%}.calendar-picker[_ngcontent-%COMP%]   .calendar-content[_ngcontent-%COMP%]   .grid-row[_ngcontent-%COMP%]   .grid[_ngcontent-%COMP%]   .rate[_ngcontent-%COMP%]{color:#661983;font-size:15px}']})}return t})();function aye(t,e){1&t&&_t(0,"div",4)}function cye(t,e){1&t&&(D(0,"div",5),_t(1,"img",6),S())}function lye(t,e){if(1&t&&(D(0,"div",1),Ct(1,aye,1,0,"div",2),Ct(2,cye,2,0,"div",3),S()),2&t){const n=_e();k(1),F("ngIf",n.isLoading),k(1),F("ngIf",n.isLoading)}}let j_=(()=>{class t{constructor(){this.isLoading=!0}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=wt({type:t,selectors:[["app-loading-basic"]],inputs:{isLoading:"isLoading"},decls:1,vars:1,consts:[["class","loading-container",4,"ngIf"],[1,"loading-container"],["class","loading-mask",4,"ngIf"],["class","loading-gif",4,"ngIf"],[1,"loading-mask"],[1,"loading-gif"],["src","assets/images/icon/icon_loading.gif",2,"width","50px"]],template:function(r,i){1&r&&Ct(0,lye,3,2,"div",0),2&r&&F("ngIf",i.isLoading)},dependencies:[uo],styles:[".loading-container[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;justify-content:center;z-index:91}.loading-mask[_ngcontent-%COMP%]{width:100%;height:100%;position:fixed;top:0;background:gray;opacity:.5}.loading-gif[_ngcontent-%COMP%]{z-index:91;opacity:.5;position:fixed;top:10%;height:100%;display:flex;flex-direction:column;justify-content:center;align-items:center}"]})}return t})(),uye=(()=>{class t{constructor(n,r){this.routeUrlRecordService=n,this.bookingService=r,this.bookingDaylimit=3,this.bookingList=new Array,this.isLoading=!0}ngOnInit(){this.getAllBookingRecord(),this.getSelectDate()}getSelectDate(){return 0!==this.bookingService.getSelectDate().length?new Date(this.bookingService.getSelectDate()).getDate():0}getAllBookingRecord(){this.bookingService.getAll().subscribe(n=>{n.forEach(r=>{this.bookingList.push(new SB(r.fireStoreId,r.userId,r.mail,r.startDate,r.endDatae,r.startTime,r.endTime,r.bookingType,r.roomId,r.roomName,r.siteId,r.siteName))}),this.isLoading=!1})}nextStep(){const n=this.bookingList.filter(r=>new Date(r.startDate).getTime()===new Date(this.bookingService.getSelectDate()).getTime());n.length>=this.bookingDaylimit?alert("\u6bcf\u65e5\u9810\u7d04\u4e0a\u9650\u6700\u591a "+this.bookingDaylimit+"\u6b21"):(this.bookingService.setThisDayAllBookingRecord(n),alert("\u78ba\u5b9a\u4e0b\u4e00\u6b65\uff1f\u9078\u64c7\u65e5\u671f\u70ba: "+this.bookingService.getSelectDate()),this.routeUrlRecordService.nextPage("booking-clock",{}))}getEmitterSelectDay(n){this.bookingService.setSelectDate(n)}static#e=this.\u0275fac=function(r){return new(r||t)($(ya),$(U_))};static#t=this.\u0275cmp=wt({type:t,selectors:[["app-booking-date-page"]],decls:6,vars:3,consts:[[1,"container"],[3,"_selectDate","bookingList","selectDatInfo"],[1,"btn-bar"],["src","assets/images/icon/icon_next.png",3,"click"],[1,"loading-container"],[3,"isLoading"]],template:function(r,i){1&r&&(D(0,"div",0)(1,"app-calendar-picker",1),V("selectDatInfo",function(o){return i.getEmitterSelectDay(o)}),S(),D(2,"div",2)(3,"img",3),V("click",function(){return i.nextStep()}),S()(),D(4,"div",4),_t(5,"app-loading-basic",5),S()()),2&r&&(k(1),F("_selectDate",i.getSelectDate())("bookingList",i.bookingList),k(4),F("isLoading",i.isLoading))},dependencies:[xM,j_],styles:[".container[_ngcontent-%COMP%]{display:flex;height:450px;flex-direction:column;justify-content:space-between;align-items:center;padding:20px 0}.container[_ngcontent-%COMP%]   .btn-bar[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;width:100%;padding:20px 0}img[_ngcontent-%COMP%]{width:40px}.loading-container[_ngcontent-%COMP%]{z-index:91}"]})}return t})(),AM=(()=>{class t{transform(n,r){return n.length>=r?n.substring(0,r)+"...":n}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275pipe=Mn({name:"wordShroten",type:t,pure:!0})}return t})(),dye=(()=>{class t{constructor(){this.inputTitle="",this.inputTitleLimit=10,this.inputContent="",this.inputContentLimit=10,this.isSelect=!1,this.inputClick=new Xt}clickInput(){this.isSelect=!this.isSelect,this.inputClick.emit(this.inputTitle)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=wt({type:t,selectors:[["app-input"]],inputs:{inputTitle:"inputTitle",inputTitleLimit:"inputTitleLimit",inputContent:"inputContent",inputContentLimit:"inputContentLimit",isSelect:"isSelect"},outputs:{inputClick:"inputClick"},decls:7,vars:9,consts:[[1,"row",3,"click"],[1,"row-txt"],[1,"select-item",3,"ngClass"]],template:function(r,i){1&r&&(D(0,"div",0),V("click",function(){return i.clickInput()}),D(1,"div",1),N(2),Ri(3,"wordShroten"),S(),D(4,"div",2),N(5),Ri(6,"wordShroten"),S()()),2&r&&(k(2),ms(Oi(3,3,i.inputTitle,i.inputTitleLimit)),k(2),F("ngClass",i.isSelect?"_selected":"_not_selected"),k(1),lr(" ",Oi(6,6,i.inputContent,i.inputContentLimit)," "))},dependencies:[vl,AM],styles:[".row[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:flex-start;align-items:center;padding:10px}.row[_ngcontent-%COMP%]   .row-txt[_ngcontent-%COMP%]{color:#661983;margin-right:30px;font-size:25px}.row[_ngcontent-%COMP%]   .select-item[_ngcontent-%COMP%]{color:#661983;background:#FBE0FF;font-size:20px;padding:10px 30px;border-radius:100px;margin-right:15px}.row[_ngcontent-%COMP%]   ._selected[_ngcontent-%COMP%]{color:#fbe0ff;background:#661983}.row[_ngcontent-%COMP%]   ._not_selected[_ngcontent-%COMP%]{color:#661983;background:#FBE0FF}"]})}return t})();const qe=function(t){return{selected:t}};function hye(t,e){if(1&t){const n=Rd();D(0,"ul")(1,"li")(2,"i",5),V("click",function(){return Ze(n),Qe(_e().selectTime(0))}),N(3,"12"),S()(),D(4,"li")(5,"i",5),V("click",function(){return Ze(n),Qe(_e().selectTime(1))}),N(6,"1"),S()(),D(7,"li")(8,"i",5),V("click",function(){return Ze(n),Qe(_e().selectTime(2))}),N(9,"2"),S()(),D(10,"li")(11,"i",5),V("click",function(){return Ze(n),Qe(_e().selectTime(3))}),N(12,"3"),S()(),D(13,"li")(14,"i",5),V("click",function(){return Ze(n),Qe(_e().selectTime(4))}),N(15,"4"),S()(),D(16,"li")(17,"i",5),V("click",function(){return Ze(n),Qe(_e().selectTime(5))}),N(18,"5"),S()(),D(19,"li")(20,"i",5),V("click",function(){return Ze(n),Qe(_e().selectTime(6))}),N(21,"6"),S()(),D(22,"li")(23,"i",5),V("click",function(){return Ze(n),Qe(_e().selectTime(7))}),N(24,"7"),S()(),D(25,"li")(26,"i",5),V("click",function(){return Ze(n),Qe(_e().selectTime(8))}),N(27,"8"),S()(),D(28,"li")(29,"i",5),V("click",function(){return Ze(n),Qe(_e().selectTime(9))}),N(30,"9"),S()(),D(31,"li")(32,"i",5),V("click",function(){return Ze(n),Qe(_e().selectTime(10))}),N(33,"10"),S()(),D(34,"li")(35,"i",5),V("click",function(){return Ze(n),Qe(_e().selectTime(11))}),N(36,"11"),S()()()}if(2&t){const n=_e();k(2),F("ngClass",Te(12,qe,0===n._selectHour)),k(3),F("ngClass",Te(14,qe,1===n._selectHour)),k(3),F("ngClass",Te(16,qe,2===n._selectHour)),k(3),F("ngClass",Te(18,qe,3===n._selectHour)),k(3),F("ngClass",Te(20,qe,4===n._selectHour)),k(3),F("ngClass",Te(22,qe,5===n._selectHour)),k(3),F("ngClass",Te(24,qe,6===n._selectHour)),k(3),F("ngClass",Te(26,qe,7===n._selectHour)),k(3),F("ngClass",Te(28,qe,8===n._selectHour)),k(3),F("ngClass",Te(30,qe,9===n._selectHour)),k(3),F("ngClass",Te(32,qe,10===n._selectHour)),k(3),F("ngClass",Te(34,qe,11===n._selectHour))}}function fye(t,e){if(1&t){const n=Rd();D(0,"ul")(1,"li")(2,"i",5),V("click",function(){return Ze(n),Qe(_e().selectTime(0))}),N(3,"00"),S()(),D(4,"li")(5,"i",5),V("click",function(){return Ze(n),Qe(_e().selectTime(5))}),N(6,"05"),S()(),D(7,"li")(8,"i",5),V("click",function(){return Ze(n),Qe(_e().selectTime(10))}),N(9,"10"),S()(),D(10,"li")(11,"i",5),V("click",function(){return Ze(n),Qe(_e().selectTime(15))}),N(12,"15"),S()(),D(13,"li")(14,"i",5),V("click",function(){return Ze(n),Qe(_e().selectTime(20))}),N(15,"20"),S()(),D(16,"li")(17,"i",5),V("click",function(){return Ze(n),Qe(_e().selectTime(25))}),N(18,"25"),S()(),D(19,"li")(20,"i",5),V("click",function(){return Ze(n),Qe(_e().selectTime(30))}),N(21,"30"),S()(),D(22,"li")(23,"i",5),V("click",function(){return Ze(n),Qe(_e().selectTime(35))}),N(24,"35"),S()(),D(25,"li")(26,"i",5),V("click",function(){return Ze(n),Qe(_e().selectTime(40))}),N(27,"40"),S()(),D(28,"li")(29,"i",5),V("click",function(){return Ze(n),Qe(_e().selectTime(45))}),N(30,"45"),S()(),D(31,"li")(32,"i",5),V("click",function(){return Ze(n),Qe(_e().selectTime(50))}),N(33,"50"),S()(),D(34,"li")(35,"i",5),V("click",function(){return Ze(n),Qe(_e().selectTime(55))}),N(36,"55"),S()()()}if(2&t){const n=_e();k(2),F("ngClass",Te(12,qe,0===n._selectMin)),k(3),F("ngClass",Te(14,qe,5===n._selectMin)),k(3),F("ngClass",Te(16,qe,10===n._selectMin)),k(3),F("ngClass",Te(18,qe,15===n._selectMin)),k(3),F("ngClass",Te(20,qe,20===n._selectMin)),k(3),F("ngClass",Te(22,qe,25===n._selectMin)),k(3),F("ngClass",Te(24,qe,30===n._selectMin)),k(3),F("ngClass",Te(26,qe,35===n._selectMin)),k(3),F("ngClass",Te(28,qe,40===n._selectMin)),k(3),F("ngClass",Te(30,qe,45===n._selectMin)),k(3),F("ngClass",Te(32,qe,50===n._selectMin)),k(3),F("ngClass",Te(34,qe,55===n._selectMin))}}function pye(t,e){if(1&t&&_t(0,"span",17),2&t){const n=_e();Ag("transform","rotate("+n.getRotationAngle(n._selectHour+1)+"deg)")}}function gye(t,e){if(1&t&&_t(0,"span",17),2&t){const n=_e();Ag("transform","rotate("+n.getRotationAngle(n._selectMin/5+1)+"deg)")}}function mye(t,e){if(1&t&&(D(0,"div"),N(1),S()),2&t){const n=e.$implicit;k(1),kg(" ",n.startTime," ~ ",n.endTime," ")}}function yye(t,e){if(1&t&&(D(0,"div",18)(1,"div"),N(2,"\u5df2\u9810\u7d04\u6642\u6bb5: "),S(),Ct(3,mye,2,2,"div",19),S()),2&t){const n=_e();k(3),F("ngForOf",n.getThisDayAllBookingRecord())}}let _ye=(()=>{class t{constructor(n,r){this.routeUrlRecordService=n,this.bookingService=r,this._selectHour=9,this.isSelectHour=!0,this._selectMin=0,this.isSelectMin=!1,this.isAm=!0,this.isPm=!1,this.isSelectStartTimeInput=!0}toggleInput(){this.isSelectStartTimeInput=!this.isSelectStartTimeInput}getHourString(){const n=this._selectHour+(this.isPm?12:0);return 2===n.toString().length?n.toString():"0"+n.toString()}getMinString(){return 2===this._selectMin.toString().length?this._selectMin.toString():"0"+this._selectMin.toString()}selectHour(){this.isSelectHour=!0,this.isSelectMin=!1,this.setSelectTime()}selectMin(){this.isSelectHour=!1,this.isSelectMin=!0,this.setSelectTime()}selectAm(){this.isAm=!0,this.isPm=!1,this.setSelectTime()}selectPm(){this.isAm=!1,this.isPm=!0,this.setSelectTime()}ngOnInit(){}getThisDayAllBookingRecord(){return this.bookingService.getThisDayAllBookingRecord()}selectTime(n){this.isSelectHour&&(this._selectHour=n),this.isSelectMin&&(this._selectMin=n),this.setSelectTime()}getStartTime(){return this.bookingService.getStartTime()}getEndTime(){return this.bookingService.getEndTime()}setSelectTime(){const n=this.getHourString()+":"+this.getMinString();this.isSelectStartTimeInput?this.bookingService.setStartTime(n):this.bookingService.setEndTime(n)}getRotationAngle(n){return 30*(n-1)}nextStep(){this.checkValidTime()&&(alert("\u9078\u64c7\u6642\u6bb5: "+this.getStartTime()+"~"+this.getEndTime()),this.routeUrlRecordService.nextPage("booking-select-type",{}))}checkValidTime(){const n=new Date(this.bookingService.getSelectDate()+" "+this.getStartTime()),r=new Date(this.bookingService.getSelectDate()+" "+this.getEndTime());if(n>=r)return alert("\u958b\u59cb\u6642\u9593\u5fc5\u9808\u65e9\u65bc\u7d50\u675f\u6642\u9593, \u8acb\u91cd\u65b0\u9078\u64c7\u6642\u6bb5\u3002"),!1;if(0===this.getThisDayAllBookingRecord().length)return!0;let i=!1,s="";return this.getThisDayAllBookingRecord().filter(o=>{const a=new Date(this.bookingService.getSelectDate()+" "+o.startTime),c=new Date(this.bookingService.getSelectDate()+" "+o.endTime);console.log(a),console.log(c),a<r&&c>n&&(i=!0,s=o.startTime+"~"+o.endTime)}),!i||(alert("\u9078\u64c7\u6bb5:"+this.getStartTime()+"~"+this.getEndTime()+"\u8207"+s+"\u91cd\u758a, \u8acb\u91cd\u65b0\u9078\u64c7\u6642\u6bb5\u3002"),!1)}static#e=this.\u0275fac=function(r){return new(r||t)($(ya),$(U_))};static#t=this.\u0275cmp=wt({type:t,selectors:[["app-booking-clock-page"]],decls:26,vars:25,consts:[[1,"clock-page-container"],[1,"input-bar"],[3,"inputContent","isSelect","inputTitle","inputClick"],[1,"clock-paicker"],[1,"clock-header"],[3,"ngClass","click"],[1,"am-pm-selector"],[1,"am",3,"ngClass","click"],[1,"pm",3,"ngClass","click"],[1,"clock-container"],[1,"clock"],[4,"ngIf"],[1,"indicator"],["class","hand",3,"transform",4,"ngIf"],["class","booking-record",4,"ngIf"],[1,"btn-bar"],["src","assets/images/icon/icon_next.png",3,"click"],[1,"hand"],[1,"booking-record"],[4,"ngFor","ngForOf"]],template:function(r,i){1&r&&(D(0,"div",0)(1,"div",1)(2,"app-input",2),V("inputClick",function(){return i.toggleInput()}),S(),D(3,"app-input",2),V("inputClick",function(){return i.toggleInput()}),S()(),D(4,"div",3)(5,"div",4)(6,"div",5),V("click",function(){return i.selectHour()}),N(7),S(),N(8," : "),D(9,"div",5),V("click",function(){return i.selectMin()}),N(10),S(),D(11,"div",6)(12,"div",7),V("click",function(){return i.selectAm()}),N(13,"AM"),S(),D(14,"div",8),V("click",function(){return i.selectPm()}),N(15,"PM"),S()()(),D(16,"div",9)(17,"section",10),Ct(18,hye,37,36,"ul",11),Ct(19,fye,37,36,"ul",11),D(20,"div",12),Ct(21,pye,1,2,"span",13),Ct(22,gye,1,2,"span",13),S()()()(),Ct(23,yye,4,1,"div",14),D(24,"div",15)(25,"img",16),V("click",function(){return i.nextStep()}),S()()()),2&r&&(k(2),F("inputContent",i.getStartTime())("isSelect",i.isSelectStartTimeInput)("inputTitle","\u958b\u59cb\u6642\u9593:"),k(1),F("inputContent",i.getEndTime())("isSelect",!i.isSelectStartTimeInput)("inputTitle","\u7d50\u675f\u6642\u9593:"),k(3),F("ngClass",Te(17,qe,i.isSelectHour)),k(1),ms(i.getHourString()),k(2),F("ngClass",Te(19,qe,i.isSelectMin)),k(1),lr(" ",i.getMinString(),""),k(2),F("ngClass",Te(21,qe,i.isAm)),k(2),F("ngClass",Te(23,qe,i.isPm)),k(4),F("ngIf",i.isSelectHour),k(1),F("ngIf",i.isSelectMin),k(2),F("ngIf",i.isSelectHour),k(1),F("ngIf",i.isSelectMin),k(1),F("ngIf",0!==i.getThisDayAllBookingRecord().length))},dependencies:[vl,om,uo,dye],styles:['@charset "UTF-8";.clock-page-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;align-items:center;height:350px;padding:20px 0}.clock-page-container[_ngcontent-%COMP%]   .input-bar[_ngcontent-%COMP%]{margin-bottom:10px}.clock-page-container[_ngcontent-%COMP%]   .btn-bar[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;width:100%;padding:20px 0}img[_ngcontent-%COMP%]{width:40px}.clock-paicker[_ngcontent-%COMP%]{width:350px;border:1px solid #cfcfcf;border-radius:1px}.clock-paicker[_ngcontent-%COMP%]   .clock-header[_ngcontent-%COMP%]{background:#661983;color:#cfcfcf;font-size:50px;padding:15px;display:flex;flex-direction:row;justify-content:center;align-items:center}.clock-paicker[_ngcontent-%COMP%]   .clock-header[_ngcontent-%COMP%]   .am-pm-selector[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;align-items:center;font-size:20px;padding:0 15px}.clock-paicker[_ngcontent-%COMP%]   .clock-header[_ngcontent-%COMP%]   .selected[_ngcontent-%COMP%]{color:#fff}.clock-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;position:relative;padding:20px}i[_ngcontent-%COMP%]{font-style:normal;font-weight:700;font-size:20px}.clock[_ngcontent-%COMP%]{background:#F0EDF1;border-radius:50%;width:300px;height:300px;display:flex;align-items:center;justify-content:center}.clock[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{height:38%;width:0;position:absolute;bottom:45%;left:50%;list-style-type:none}.clock[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{height:100%;position:absolute;top:0;left:0;transform-origin:50% 100%}.clock[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .selected[_ngcontent-%COMP%]{background:#661983;color:#fff;border-radius:50%;width:35px;height:35px;text-align:center}.clock[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-style:normal;font-weight:700;font-size:20px;position:absolute;top:0;left:45%}.clock[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(1){transform:rotate(0)}.clock[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(1)   i[_ngcontent-%COMP%]{transform:translate(-50%) rotate(0)}.clock[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(2){transform:rotate(30deg)}.clock[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(2)   i[_ngcontent-%COMP%]{transform:translate(-50%) rotate(-30deg)}.clock[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(3){transform:rotate(60deg)}.clock[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(3)   i[_ngcontent-%COMP%]{transform:translate(-50%) rotate(-60deg)}.clock[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(4){transform:rotate(90deg)}.clock[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(4)   i[_ngcontent-%COMP%]{transform:translate(-50%) rotate(-90deg)}.clock[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(5){transform:rotate(120deg)}.clock[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(5)   i[_ngcontent-%COMP%]{transform:translate(-50%) rotate(-120deg)}.clock[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(6){transform:rotate(150deg)}.clock[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(6)   i[_ngcontent-%COMP%]{transform:translate(-50%) rotate(-150deg)}.clock[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(7){transform:rotate(180deg)}.clock[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(7)   i[_ngcontent-%COMP%]{transform:translate(-50%) rotate(-180deg)}.clock[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(8){transform:rotate(210deg)}.clock[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(8)   i[_ngcontent-%COMP%]{transform:translate(-50%) rotate(-210deg)}.clock[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(9){transform:rotate(240deg)}.clock[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(9)   i[_ngcontent-%COMP%]{transform:translate(-50%) rotate(-240deg)}.clock[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(10){transform:rotate(270deg)}.clock[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(10)   i[_ngcontent-%COMP%]{transform:translate(-50%) rotate(-270deg)}.clock[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(11){transform:rotate(300deg)}.clock[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(11)   i[_ngcontent-%COMP%]{transform:translate(-50%) rotate(-300deg)}.clock[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child{transform:rotate(330deg)}.clock[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child   i[_ngcontent-%COMP%]{transform:translate(-50%) rotate(-330deg)}.clock-container[_ngcontent-%COMP%]   .indicator[_ngcontent-%COMP%]{position:absolute;height:15px;width:15px;display:flex;justify-content:center}.indicator[_ngcontent-%COMP%]:before{content:"";position:absolute;height:100%;width:100%;border-radius:50%;background:#661983}.indicator[_ngcontent-%COMP%]   .hand[_ngcontent-%COMP%]{position:absolute;height:102px;width:2px;bottom:10px;transform-origin:bottom;background:#661983;transform:rotate(0)}.booking-record[_ngcontent-%COMP%]{padding:10px;color:#661983;margin-right:30px;font-size:25px}']})}return t})(),vye=(()=>{class t{constructor(n){this.router=n}ngOnInit(){}selectForm(n){this.router.navigate(["booking-check-form"],{queryParams:{bookingType:n}})}static#e=this.\u0275fac=function(r){return new(r||t)($(en))};static#t=this.\u0275cmp=wt({type:t,selectors:[["app-booking-select-type-page"]],decls:3,vars:4,consts:[[1,"home-list-container"],[3,"imgUrl","btnText","click"]],template:function(r,i){1&r&&(D(0,"div",0)(1,"app-img-btn",1),V("click",function(){return i.selectForm("room")}),S(),D(2,"app-img-btn",1),V("click",function(){return i.selectForm("site")}),S()()),2&r&&(k(1),F("imgUrl","assets/images/button/button_main.png")("btnText","\u6559\u5ba4\u9810\u7d04"),k(1),F("imgUrl","assets/images/button/button_main.png")("btnText","\u5ea7\u4f4d\u9810\u7d04"))},dependencies:[AI],styles:[".home-list-container[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;justify-content:space-between;align-items:center;margin-bottom:40px;gap:40px}"]})}return t})();class bye{constructor(e,n,r,i){this.fireStoreId="",this.name="",this.ownerId="",this.ownerMail="",this.fireStoreId=e,this.name=n,this.ownerId=r,this.ownerMail=i}}let wye=(()=>{class t{constructor(n){this.fireStoreService=n,this.roomTable=this.fireStoreService.fireStoreTabelNameList.Room}getAllRoomList(){return this.fireStoreService.getAll(this.roomTable)}static#e=this.\u0275fac=function(r){return new(r||t)(W(SM))};static#t=this.\u0275prov=X({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const Iye=function(t){return{"row-click":t}};function Cye(t,e){if(1&t){const n=Rd();D(0,"div",9),V("click",function(){const s=Ze(n).$implicit;return Qe(_e().clickItem(s.id))}),N(1),S()}if(2&t){const n=e.$implicit,r=_e();F("ngClass",Te(2,Iye,r.selectItemId===n.id)),k(1),lr(" ",n.name," ")}}const Eye=function(t){return{display:t}};let $_=(()=>{class t{constructor(){this.dialogTitle="",this.isHiddenDialog=!1,this.itemList=[],this.selectItemId="",this.selectedItem=new Xt,this.hideDialog=new Xt}hiddenDialog(){this.isHiddenDialog=!0,this.hideDialog.emit(!0)}clickItem(n){this.selectItemId=n}emitSelectItem(){this.selectedItem.emit(this.selectItemId),this.hiddenDialog()}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=wt({type:t,selectors:[["app-dialog"]],inputs:{dialogTitle:"dialogTitle",isHiddenDialog:"isHiddenDialog",itemList:"itemList"},outputs:{selectedItem:"selectedItem",hideDialog:"hideDialog"},decls:10,vars:5,consts:[[1,"dialog-container",3,"ngStyle"],[1,"dialog-mask",3,"click"],[1,"dialog"],[1,"dialog-header"],[1,"title"],[1,"dialog-content"],["class","row",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"dialog-footer"],["src","assets/images/icon/icon_check_ok.png",1,"img-next",3,"click"],[1,"row",3,"ngClass","click"]],template:function(r,i){1&r&&(D(0,"div",0)(1,"div",1),V("click",function(){return i.hiddenDialog()}),S(),D(2,"div",2)(3,"div",3)(4,"div",4),N(5),S()(),D(6,"div",5),Ct(7,Cye,2,4,"div",6),S(),D(8,"div",7)(9,"img",8),V("click",function(){return i.emitSelectItem()}),S()()()()),2&r&&(F("ngStyle",Te(3,Eye,i.isHiddenDialog?"none":"flex")),k(5),lr(" ",i.dialogTitle," "),k(2),F("ngForOf",i.itemList))},dependencies:[vl,om,am],styles:[".dialog-container[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;justify-content:center;z-index:91}.dialog-mask[_ngcontent-%COMP%]{width:100%;height:100%;position:fixed;top:0;background:gray;opacity:.5}.dialog[_ngcontent-%COMP%]{background:white;width:300px;height:400px;position:fixed;top:10%;opacity:1;border-radius:10px;display:flex;flex-direction:column;justify-content:center;align-items:center;padding:15px;color:#661983}.dialog[_ngcontent-%COMP%]   .dialog-header[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center}.dialog[_ngcontent-%COMP%]   .dialog-header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{padding:5px;font-size:25px}.dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]{height:80%;display:flex;flex-direction:column;justify-content:center}.dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{background:#FBE0FF;padding:10px 30px;border-radius:100px;margin-bottom:10px;font-size:20px;word-break:break-all}.dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .row-click[_ngcontent-%COMP%]{color:#fbe0ff;background:#661983}.dialog[_ngcontent-%COMP%]   .dialog-footer[_ngcontent-%COMP%]   .img-next[_ngcontent-%COMP%]{width:40px;height:40px}"]})}return t})(),g3=(()=>{class t{transform(n,r){switch(new Date(n).getDay()){case 0:return"(\u65e5)";case 1:return"(\u4e00)";case 2:return"(\u4e8c)";case 3:return"(\u4e09)";case 4:return"(\u56db)";case 5:return"(\u4e94)";case 6:return"(\u516d)"}return""}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275pipe=Mn({name:"dateToDayOfWeek",type:t,pure:!0})}return t})();function Tye(t,e){1&t&&(D(0,"div",2)(1,"div",3),N(2,"\u5ea7\u4f4d"),S(),D(3,"div",12),N(4,"A105"),S()())}let Dye=(()=>{class t{constructor(n,r,i,s,o){this.routeUrlRecordService=n,this.activatedRoute=r,this.bookingService=i,this.roomSiteService=s,this.googleAuthService=o,this.bookingType="",this.roomList=new Array,this.dialogRoomList=[],this.isHiddenDialogRoom=!0,this.dialogUserInfo=[],this.isHiddenDialogUserInfo=!0}ngOnInit(){this.currentUser=this.googleAuthService.getCurrentUser(),this.currentUser||(alert("\u7121\u6cd5\u53d6\u5f97\u4f7f\u7528\u8005\u8cc7\u8a0a\uff0c\u8acb\u91cd\u65b0\u767b\u5165\u3002"),this.routeUrlRecordService.nextPage("/",{})),this.dialogUserInfo.push({id:"0",name:"\u59d3\u540d: "+this.currentUser.name}),this.dialogUserInfo.push({id:"1",name:"\u4fe1\u7bb1: "+this.currentUser.email}),this.roomSiteService.getAllRoomList().subscribe(n=>{n.forEach(r=>{this.roomList.push(new bye(r.fireStoreId,r.name,r.ownerId,r.ownerMail)),this.dialogRoomList.push({id:r.fireStoreId,name:r.name})}),this.selectRoom=this.roomList[0]},n=>{alert("\u6559\u5ba4\u8cc7\u8a0a\u7121\u6cd5\u53d6\u5f97,\u932f\u8aa4\u8cc7\u8a0a : "+n)}),this.activatedRoute.queryParams.subscribe(n=>{this.bookingType=n.bookingType})}getSelectDate(){return this.bookingService.getSelectDate()}getStartTime(){return this.bookingService.getStartTime()}getEndTime(){return this.bookingService.getEndTime()}selectedRoom(n){this.selectRoom=this.roomList.filter(r=>r.fireStoreId===n)[0]}submitBooking(){if(!this.currentUser)return void alert("\u4f7f\u7528\u8005\u8cc7\u8a0a\u4e0d\u8db3\uff0c\u8acb\u91cd\u65b0\u767b\u5165");if(""===this.currentUser.email)return void alert("\u7121\u6cd5\u53d6\u5f97\u4f7f\u7528\u8005 email\uff0c\u8acb\u91cd\u65b0\u767b\u5165");if(""===this.currentUser.id)return void alert("\u7121\u6cd5\u53d6\u5f97\u4f7f\u7528\u8005 id\uff0c\u8acb\u91cd\u65b0\u767b\u5165");const n={fireStoreId:"",userId:this.currentUser.id,mail:this.currentUser.email,startDate:this.getSelectDate(),endDatae:this.getSelectDate(),startTime:this.getStartTime(),endTime:this.getEndTime(),bookingType:this.bookingType,roomId:this.selectRoom.fireStoreId,roomName:this.selectRoom.name,siteId:"",siteName:""};this.bookingService.post(n).then(()=>{alert("\u9001\u51fa\u6210\u529f, \u9810\u7d04\u6642\u9593: "+this.getSelectDate()+" "+this.getStartTime()+"~"+this.getEndTime()+" ,\u5730\u9ede:"+this.selectRoom.name+"\u9810\u7d04\u6210\u529f\u3002"),this.routeUrlRecordService.nextPage("/home",{})}).catch(r=>{console.log(r),alert("\u8cc7\u6599\u9001\u51fa\u5931\u6557,\u8acb\u91cd\u65b0\u8f38\u5165")}),alert("\u8cc7\u6599\u50b3\u8f38\u4e2d")}selectMap(){}static#e=this.\u0275fac=function(r){return new(r||t)($(ya),$(po),$(U_),$(wye),$(Am))};static#t=this.\u0275cmp=wt({type:t,selectors:[["app-booking-check-form-page"]],decls:30,vars:24,consts:[[1,"form-container"],[1,"form"],[1,"row"],[1,"row-txt"],[1,"select-item",3,"click"],[1,"row-time"],["src","assets/images/icon/icon_map_position.png",3,"click"],["class","row",4,"ngIf"],["src","assets/images/icon/icon_submit.png",3,"click"],[1,"dialog-container"],[3,"dialogTitle","isHiddenDialog","itemList","selectedItem","hideDialog"],[3,"dialogTitle","isHiddenDialog","itemList","hideDialog"],[1,"select-item"]],template:function(r,i){1&r&&(D(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),N(4,"\u7533\u8acb\u4eba"),S(),D(5,"div",4),V("click",function(){return i.isHiddenDialogUserInfo=!1}),N(6),Ri(7,"wordShroten"),S()(),D(8,"div",2)(9,"div",3),N(10,"\u8d77\u8fc4\u65e5"),S()(),D(11,"div",5)(12,"div"),N(13),Ri(14,"dateToDayOfWeek"),S(),D(15,"div"),N(16),Ri(17,"dateToDayOfWeek"),S()(),D(18,"div",2)(19,"div",3),N(20,"\u6559\u5ba4"),S(),D(21,"div",4),V("click",function(){return i.isHiddenDialogRoom=!1}),N(22),S(),D(23,"img",6),V("click",function(){return i.selectMap()}),S()(),Ct(24,Tye,5,0,"div",7),S(),D(25,"img",8),V("click",function(){return i.submitBooking()}),S(),D(26,"div",9)(27,"app-dialog",10),V("selectedItem",function(o){return i.selectedRoom(o)})("hideDialog",function(){return i.isHiddenDialogRoom=!0}),S()(),D(28,"div",9)(29,"app-dialog",11),V("hideDialog",function(){return i.isHiddenDialogUserInfo=!0}),S()()()),2&r&&(k(6),lr(" ",Oi(7,15,i.currentUser.email,8)," "),k(7),dl(" ",i.getSelectDate()," ",Oi(14,18,i.getSelectDate(),"tw")," ",i.getStartTime()," "),k(3),dl(" ",i.getSelectDate()," ",Oi(17,21,i.getSelectDate(),"tw")," ",i.getEndTime()," "),k(6),ms(i.selectRoom?i.selectRoom.name:""),k(2),F("ngIf","site"===i.bookingType),k(3),F("dialogTitle","\u9078\u64c7\u6559\u5ba4")("isHiddenDialog",i.isHiddenDialogRoom)("itemList",i.dialogRoomList),k(2),F("dialogTitle","\u4f7f\u7528\u8005\u8cc7\u8a0a")("isHiddenDialog",i.isHiddenDialogUserInfo)("itemList",i.dialogUserInfo))},dependencies:[uo,$_,AM,g3],styles:[".form-container[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;justify-content:center;align-items:center}.dialog-container[_ngcontent-%COMP%]{z-index:91}.form[_ngcontent-%COMP%]{width:300px;display:flex;flex-direction:column;justify-content:flex-start;align-items:flex-start;padding:25px}.form[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:flex-start;align-items:center;padding:10px}.form[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .row-txt[_ngcontent-%COMP%]{color:#661983;margin-right:30px;font-size:25px}.form[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .select-item[_ngcontent-%COMP%]{color:#661983;font-size:20px;background:#FBE0FF;padding:10px 30px;border-radius:100px;margin-right:15px}.form[_ngcontent-%COMP%]   .row-time[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:flex-start;align-items:flex-start;margin-left:25px;width:80%;padding:10px;color:#661983;font-size:20px}img[_ngcontent-%COMP%]{height:40px}"]})}return t})();class Sye{constructor(){this.studio="studio",this.group="group",this.enterprise="enterprise"}}class xye{constructor(){this.year="year",this.month="month"}}class H_{}class z_{}class Zi{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?"string"==typeof e?this.lazyInit=()=>{this.headers=new Map,e.split("\n").forEach(n=>{const r=n.indexOf(":");if(r>0){const i=n.slice(0,r),s=i.toLowerCase(),o=n.slice(r+1).trim();this.maybeSetNormalizedName(i,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,r)=>{this.setHeaderEntries(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof Zi?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){const n=new Zi;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof Zi?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){const n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,n);const i=("a"===e.op?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":const s=e.value;if(s){let o=this.headers.get(n);if(!o)return;o=o.filter(a=>-1===s.indexOf(a)),0===o.length?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,o)}else this.headers.delete(n),this.normalizedNames.delete(n)}}setHeaderEntries(e,n){const r=(Array.isArray(n)?n:[n]).map(s=>s.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}}class Aye{encodeKey(e){return m3(e)}encodeValue(e){return m3(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const kye=/%(\d[a-f0-9])/gi,Pye={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function m3(t){return encodeURIComponent(t).replace(kye,(e,n)=>Pye[n]??e)}function G_(t){return`${t}`}class Bo{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new Aye,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Mye(t,e){const n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(i=>{const s=i.indexOf("="),[o,a]=-1==s?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,s)),e.decodeValue(i.slice(s+1))],c=n.get(o)||[];c.push(a),n.set(o,c)}),n}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{const r=e.fromObject[n],i=Array.isArray(r)?r.map(G_):[G_(r)];this.map.set(n,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){const n=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(s=>{n.push({param:r,value:s,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const n=this.encoder.encodeKey(e);return this.map.get(e).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const n=new Bo({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const n=("a"===e.op?this.map.get(e.param):void 0)||[];n.push(G_(e.value)),this.map.set(e.param,n);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(G_(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class Rye{constructor(){this.map=new Map}set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function y3(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function _3(t){return typeof Blob<"u"&&t instanceof Blob}function v3(t){return typeof FormData<"u"&&t instanceof FormData}class Bf{constructor(e,n,r,i){let s;if(this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function Oye(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,s=i):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new Zi),this.context||(this.context=new Rye),this.params){const o=this.params.toString();if(0===o.length)this.urlWithParams=n;else{const a=n.indexOf("?");this.urlWithParams=n+(-1===a?"?":a<n.length-1?"&":"")+o}}else this.params=new Bo,this.urlWithParams=n}serializeBody(){return null===this.body?null:y3(this.body)||_3(this.body)||v3(this.body)||function Nye(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Bo?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||v3(this.body)?null:_3(this.body)?this.body.type||null:y3(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Bo?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,s=void 0!==e.body?e.body:this.body,o=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,a=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let c=e.headers||this.headers,l=e.params||this.params;const u=e.context??this.context;return void 0!==e.setHeaders&&(c=Object.keys(e.setHeaders).reduce((d,h)=>d.set(h,e.setHeaders[h]),c)),e.setParams&&(l=Object.keys(e.setParams).reduce((d,h)=>d.set(h,e.setParams[h]),l)),new Bf(n,r,s,{params:l,headers:c,context:u,reportProgress:a,responseType:i,withCredentials:o})}}var Cu=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(Cu||{});class MM{constructor(e,n=200,r="OK"){this.headers=e.headers||new Zi,this.status=void 0!==e.status?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class kM extends MM{constructor(e={}){super(e),this.type=Cu.ResponseHeader}clone(e={}){return new kM({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class Eu extends MM{constructor(e={}){super(e),this.type=Cu.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new Eu({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class b3 extends MM{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function PM(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let RM=(()=>{class t{constructor(n){this.handler=n}request(n,r,i={}){let s;if(n instanceof Bf)s=n;else{let c,l;c=i.headers instanceof Zi?i.headers:new Zi(i.headers),i.params&&(l=i.params instanceof Bo?i.params:new Bo({fromObject:i.params})),s=new Bf(n,r,void 0!==i.body?i.body:null,{headers:c,context:i.context,params:l,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const o=ie(s).pipe(wl(c=>this.handler.handle(c)));if(n instanceof Bf||"events"===i.observe)return o;const a=o.pipe(Is(c=>c instanceof Eu));switch(i.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return a.pipe(Me(c=>{if(null!==c.body&&!(c.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return c.body}));case"blob":return a.pipe(Me(c=>{if(null!==c.body&&!(c.body instanceof Blob))throw new Error("Response is not a Blob.");return c.body}));case"text":return a.pipe(Me(c=>{if(null!==c.body&&"string"!=typeof c.body)throw new Error("Response is not a string.");return c.body}));default:return a.pipe(Me(c=>c.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(n,r={}){return this.request("DELETE",n,r)}get(n,r={}){return this.request("GET",n,r)}head(n,r={}){return this.request("HEAD",n,r)}jsonp(n,r){return this.request("JSONP",n,{params:(new Bo).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,r={}){return this.request("OPTIONS",n,r)}patch(n,r,i={}){return this.request("PATCH",n,PM(i,r))}post(n,r,i={}){return this.request("POST",n,PM(i,r))}put(n,r,i={}){return this.request("PUT",n,PM(i,r))}static#e=this.\u0275fac=function(r){return new(r||t)(W(H_))};static#t=this.\u0275prov=X({token:t,factory:t.\u0275fac})}return t})();function C3(t,e){return e(t)}function Fye(t,e){return(n,r)=>e.intercept(n,{handle:i=>t(i,r)})}const Vye=new Y(""),Vf=new Y(""),E3=new Y("");function Uye(){let t=null;return(e,n)=>{null===t&&(t=(K(Vye,{optional:!0})??[]).reduceRight(Fye,C3));const r=K(jg),i=r.add();return t(e,n).pipe(Zd(()=>r.remove(i)))}}let T3=(()=>{class t extends H_{constructor(n,r){super(),this.backend=n,this.injector=r,this.chain=null,this.pendingTasks=K(jg)}handle(n){if(null===this.chain){const i=Array.from(new Set([...this.injector.get(Vf),...this.injector.get(E3,[])]));this.chain=i.reduceRight((s,o)=>function Bye(t,e,n){return(r,i)=>n.runInContext(()=>e(r,s=>t(s,i)))}(s,o,this.injector),C3)}const r=this.pendingTasks.add();return this.chain(n,i=>this.backend.handle(i)).pipe(Zd(()=>this.pendingTasks.remove(r)))}static#e=this.\u0275fac=function(r){return new(r||t)(W(z_),W(Er))};static#t=this.\u0275prov=X({token:t,factory:t.\u0275fac})}return t})();const zye=/^\)\]\}',?\n/;let S3=(()=>{class t{constructor(n){this.xhrFactory=n}handle(n){if("JSONP"===n.method)throw new L(-2800,!1);const r=this.xhrFactory;return(r.\u0275loadImpl?on(r.\u0275loadImpl()):ie(null)).pipe(ti(()=>new J(s=>{const o=r.build();if(o.open(n.method,n.urlWithParams),n.withCredentials&&(o.withCredentials=!0),n.headers.forEach((g,m)=>o.setRequestHeader(g,m.join(","))),n.headers.has("Accept")||o.setRequestHeader("Accept","application/json, text/plain, */*"),!n.headers.has("Content-Type")){const g=n.detectContentTypeHeader();null!==g&&o.setRequestHeader("Content-Type",g)}if(n.responseType){const g=n.responseType.toLowerCase();o.responseType="json"!==g?g:"text"}const a=n.serializeBody();let c=null;const l=()=>{if(null!==c)return c;const g=o.statusText||"OK",m=new Zi(o.getAllResponseHeaders()),_=function Gye(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(o)||n.url;return c=new kM({headers:m,status:o.status,statusText:g,url:_}),c},u=()=>{let{headers:g,status:m,statusText:_,url:y}=l(),v=null;204!==m&&(v=typeof o.response>"u"?o.responseText:o.response),0===m&&(m=v?200:0);let I=m>=200&&m<300;if("json"===n.responseType&&"string"==typeof v){const w=v;v=v.replace(zye,"");try{v=""!==v?JSON.parse(v):null}catch(T){v=w,I&&(I=!1,v={error:T,text:v})}}I?(s.next(new Eu({body:v,headers:g,status:m,statusText:_,url:y||void 0})),s.complete()):s.error(new b3({error:v,headers:g,status:m,statusText:_,url:y||void 0}))},d=g=>{const{url:m}=l(),_=new b3({error:g,status:o.status||0,statusText:o.statusText||"Unknown Error",url:m||void 0});s.error(_)};let h=!1;const f=g=>{h||(s.next(l()),h=!0);let m={type:Cu.DownloadProgress,loaded:g.loaded};g.lengthComputable&&(m.total=g.total),"text"===n.responseType&&o.responseText&&(m.partialText=o.responseText),s.next(m)},p=g=>{let m={type:Cu.UploadProgress,loaded:g.loaded};g.lengthComputable&&(m.total=g.total),s.next(m)};return o.addEventListener("load",u),o.addEventListener("error",d),o.addEventListener("timeout",d),o.addEventListener("abort",d),n.reportProgress&&(o.addEventListener("progress",f),null!==a&&o.upload&&o.upload.addEventListener("progress",p)),o.send(a),s.next({type:Cu.Sent}),()=>{o.removeEventListener("error",d),o.removeEventListener("abort",d),o.removeEventListener("load",u),o.removeEventListener("timeout",d),n.reportProgress&&(o.removeEventListener("progress",f),null!==a&&o.upload&&o.upload.removeEventListener("progress",p)),o.readyState!==o.DONE&&o.abort()}})))}static#e=this.\u0275fac=function(r){return new(r||t)(W(XF))};static#t=this.\u0275prov=X({token:t,factory:t.\u0275fac})}return t})();const OM=new Y("XSRF_ENABLED"),x3=new Y("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),A3=new Y("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class M3{}let Kye=(()=>{class t{constructor(n,r,i){this.doc=n,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=HF(n,this.cookieName),this.lastCookieString=n),this.lastToken}static#e=this.\u0275fac=function(r){return new(r||t)(W(Dr),W(hs),W(x3))};static#t=this.\u0275prov=X({token:t,factory:t.\u0275fac})}return t})();function Yye(t,e){const n=t.url.toLowerCase();if(!K(OM)||"GET"===t.method||"HEAD"===t.method||n.startsWith("http://")||n.startsWith("https://"))return e(t);const r=K(M3).getToken(),i=K(A3);return null!=r&&!t.headers.has(i)&&(t=t.clone({headers:t.headers.set(i,r)})),e(t)}var Vo=function(t){return t[t.Interceptors=0]="Interceptors",t[t.LegacyInterceptors=1]="LegacyInterceptors",t[t.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",t[t.NoXsrfProtection=3]="NoXsrfProtection",t[t.JsonpSupport=4]="JsonpSupport",t[t.RequestsMadeViaParent=5]="RequestsMadeViaParent",t[t.Fetch=6]="Fetch",t}(Vo||{});function Zye(...t){const e=[RM,S3,T3,{provide:H_,useExisting:T3},{provide:z_,useExisting:S3},{provide:Vf,useValue:Yye,multi:!0},{provide:OM,useValue:!0},{provide:M3,useClass:Kye}];for(const n of t)e.push(...n.\u0275providers);return function Gb(t){return{\u0275providers:t}}(e)}const k3=new Y("LEGACY_INTERCEPTOR_FN");function Qye(){return function tc(t,e){return{\u0275kind:t,\u0275providers:e}}(Vo.LegacyInterceptors,[{provide:k3,useFactory:Uye},{provide:Vf,useExisting:k3,multi:!0}])}let Xye=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Ci({type:t});static#n=this.\u0275inj=ni({providers:[Zye(Qye())]})}return t})(),P3=(()=>{class t{constructor(n){this.httpClient=n,this.cloudFunApiList={RVIEW_ROOM_BOOKING_TREND:"https://getrviewroomchartbytimetype-querqokzna-uc.a.run.app",REVIEW_ROOM_RATE:"https://getbookingratelist-querqokzna-uc.a.run.app",ECPAY_SELECT_PAY_PAGE:"https://getecpayselectplanpage-querqokzna-uc.a.run.app",ECPAY_SELECT_PAY_RESULT:"https://getecpayresult-querqokzna-uc.a.run.app"}}getBookingTrend(n){return this.httpClient.get(this.cloudFunApiList.RVIEW_ROOM_BOOKING_TREND+"?timeType="+n)}getBookingRate(n){return this.httpClient.get(this.cloudFunApiList.REVIEW_ROOM_RATE+"?month="+n)}static#e=this.\u0275fac=function(r){return new(r||t)(W(RM))};static#t=this.\u0275prov=X({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),R3=(()=>{class t{constructor(n){this.cloudFunService=n}openECPayWindow(n,r){window.open(this.cloudFunService.cloudFunApiList.ECPAY_SELECT_PAY_PAGE+"?planType="+n+"&planTimeType="+r)}static#e=this.\u0275fac=function(r){return new(r||t)(W(P3))};static#t=this.\u0275prov=X({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),i_e=(()=>{class t{constructor(n,r){this.router=n,this.ecpayService=r,this.palnTypeModel=new Sye,this.planTimeTypeModel=new xye,this.iconCheckNo="/assets/images/icon/icon_check_no.png",this.iconCheckOk="/assets/images/icon/icon_check_ok.png",this.iconUrl1=this.iconCheckNo,this.iconUrl2=this.iconCheckNo,this.iconUrl3=this.iconCheckNo,this.selectPlanType="",this.selectPlanTimeType=""}_selectPlanType(n){switch(this.initRadioGroup(),this.selectPlanType=n,n){case this.palnTypeModel.studio:this.iconUrl1=this.iconCheckOk;break;case this.palnTypeModel.group:this.iconUrl2=this.iconCheckOk;break;case this.palnTypeModel.enterprise:this.iconUrl3=this.iconCheckOk;break;default:this.selectPlanType=""}}_selectPlanTimeType(n,r){this.selectPlanTimeType="",this.selectPlanType===n&&(this.selectPlanTimeType=r)}initRadioGroup(){this.iconUrl1=this.iconCheckNo,this.iconUrl2=this.iconCheckNo,this.iconUrl3=this.iconCheckNo}routeToECPayForm(){""!==this.selectPlanType?""!==this.selectPlanTimeType?(this.ecpayService.openECPayWindow(this.selectPlanType,this.selectPlanTimeType),this.router.navigate(["/home"])):alert("\u8acb\u9078\u64c7\u8cfc\u8cb7\u65b9\u6848\u6642\u6bb5"):alert("\u8acb\u9078\u64c7\u8cfc\u8cb7\u65b9\u6848")}static#e=this.\u0275fac=function(r){return new(r||t)($(en),$(R3))};static#t=this.\u0275cmp=wt({type:t,selectors:[["app-paid-plan-list"]],decls:51,vars:3,consts:[[1,"main-container"],[1,"pay-plan-list"],[1,"pay-plan-item"],[1,"pay-plan-title"],[3,"src","click"],[1,"pay-plan-content"],[1,"row"],["type","radio","name","radio","id","pay-month",3,"click"],["for","pay-month"],["type","radio","name","radio","id","pay-year",3,"click"],["for","pay-year"],["src","/assets/images/icon/icon_next.png",3,"click"]],template:function(r,i){1&r&&(D(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"img",4),V("click",function(){return i._selectPlanType(i.palnTypeModel.studio)}),S(),D(5,"label"),N(6,"\u5c0f\u578b\u5de5\u4f5c\u5ba4"),S()(),D(7,"div",5)(8,"div",6),N(9,"50\u7a7a\u9593"),S(),D(10,"div",6)(11,"input",7),V("click",function(){return i._selectPlanTimeType(i.palnTypeModel.studio,i.planTimeTypeModel.month)}),S(),D(12,"label",8),N(13,"\u6708\u7e73 1500/\u6708"),S()(),D(14,"div",6)(15,"input",9),V("click",function(){return i._selectPlanTimeType(i.palnTypeModel.studio,i.planTimeTypeModel.year)}),S(),D(16,"label",10),N(17,"\u5e74\u7e73 15000/\u6708"),S()()()(),D(18,"div",2)(19,"div",3)(20,"img",4),V("click",function(){return i._selectPlanType(i.palnTypeModel.group)}),S(),D(21,"label"),N(22,"\u6210\u9577\u4e2d\u5718\u968a"),S()(),D(23,"div",5)(24,"div",6),N(25,"150\u7a7a\u9593"),S(),D(26,"div",6)(27,"input",7),V("click",function(){return i._selectPlanTimeType(i.palnTypeModel.group,i.planTimeTypeModel.month)}),S(),D(28,"label",8),N(29,"\u6708\u7e73 4000/\u6708"),S()(),D(30,"div",6)(31,"input",9),V("click",function(){return i._selectPlanTimeType(i.palnTypeModel.group,i.planTimeTypeModel.year)}),S(),D(32,"label",10),N(33,"\u5e74\u7e73 41000/\u6708"),S()()()(),D(34,"div",2)(35,"div",3)(36,"img",4),V("click",function(){return i._selectPlanType(i.palnTypeModel.enterprise)}),S(),D(37,"label"),N(38,"\u5927\u578b\u7d44\u7e54\u4f01\u696d"),S()(),D(39,"div",5)(40,"div",6),N(41,"300\u7a7a\u9593"),S(),D(42,"div",6)(43,"input",7),V("click",function(){return i._selectPlanTimeType(i.palnTypeModel.enterprise,i.planTimeTypeModel.month)}),S(),D(44,"label",8),N(45,"\u6708\u7e73 6000/\u6708"),S()(),D(46,"div",6)(47,"input",9),V("click",function(){return i._selectPlanTimeType(i.palnTypeModel.enterprise,i.planTimeTypeModel.year)}),S(),D(48,"label",10),N(49,"\u5e74\u7e73 60000/\u6708"),S()()()(),D(50,"img",11),V("click",function(){return i.routeToECPayForm()}),S()()()),2&r&&(k(4),F("src",i.iconUrl1,Wc),k(16),F("src",i.iconUrl2,Wc),k(16),F("src",i.iconUrl3,Wc))},styles:["input[type=radio][_ngcontent-%COMP%]{accent-color:#661983;border:2px solid #661983;border-radius:50%}.main-container[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;justify-content:flex-start;align-items:center}.main-container[_ngcontent-%COMP%]   .pay-plan-list[_ngcontent-%COMP%]{width:350px;display:flex;flex-direction:column;justify-content:flex-start;align-items:center;color:#661983}.main-container[_ngcontent-%COMP%]   .pay-plan-list[_ngcontent-%COMP%]   .pay-plan-item[_ngcontent-%COMP%]{width:90%;padding:20px}.main-container[_ngcontent-%COMP%]   .pay-plan-list[_ngcontent-%COMP%]   .pay-plan-item[_ngcontent-%COMP%]   .pay-plan-title[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:flex-start;align-items:center;font-size:25px;gap:10px}.main-container[_ngcontent-%COMP%]   .pay-plan-list[_ngcontent-%COMP%]   .pay-plan-item[_ngcontent-%COMP%]   .pay-plan-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:flex-start;align-items:center;padding:10px}.main-container[_ngcontent-%COMP%]   .pay-plan-list[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:row;justify-content:flex-start;align-items:center;font-size:20px;gap:10px;text-align:center}.main-container[_ngcontent-%COMP%]   .pay-plan-list[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:20px;height:20px}.main-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:40px;height:40px}"]})}return t})();const s_e=["paymentPage"];let o_e=(()=>{class t{constructor(n,r,i){this.router=n,this.ecpayService=r,this.http=i}ngOnInit(){var n=this;return(0,b.Z)(function*(){const r=yield n.fetchPaymentPageHtml();n.paymentPageEl.nativeElement.innerHTML=r,console.log(document.getElementById("_form_aiochk"))})()}fetchPaymentPageHtml(){var n=this;return(0,b.Z)(function*(){return n.http.get("https://getecpayresult-querqokzna-uc.a.run.app").subscribe(i=>(console.log("success!"),console.log(i),i),i=>(console.log(" error 2 ! : "+i.error.text),n.paymentPageEl.nativeElement.innerHTML=i.error.text,i.error.text)),"\u756b\u9762\u8f09\u5165\u4e2d,\u8acb\u7a0d\u7b49\u3002"})()}openWindow(){this.ecpayService.openECPayWindow("studio","month"),this.router.navigate(["/home"])}static#e=this.\u0275fac=function(r){return new(r||t)($(en),$(R3),$(RM))};static#t=this.\u0275cmp=wt({type:t,selectors:[["app-ecpay-form"]],viewQuery:function(r,i){if(1&r&&a0(s_e,5),2&r){let s;Bg(s=Vg())&&(i.paymentPageEl=s.first)}},decls:3,vars:0,consts:[["href","https://payment-stage.ecpay.com.tw/"],["paymentPage",""]],template:function(r,i){1&r&&_t(0,"base",0)(1,"div",null,1)}})}return t})(),a_e=(()=>{class t{constructor(n,r){this.routeUrlRecordService=n,this.bookingService=r,this.selectDateInfo="",this.isHiddenDialogBookingRecord=!0,this.dialogBookingRecordItemList=new Array,this.bookingList=new Array,this.isLoading=!0}ngOnInit(){this.getAllBookingRecord()}getAllBookingRecord(){this.bookingService.getAll().subscribe(n=>{n.forEach(r=>{this.bookingList.push(new SB(r.fireStoreId,r.userId,r.mail,r.startDate,r.endDatae,r.startTime,r.endTime,r.bookingType,r.roomId,r.roomName,r.siteId,r.siteName))}),this.isLoading=!1})}updateSelectDay(n){this.dialogBookingRecordItemList=[],this.selectDateInfo=n,this.bookingList.forEach(r=>{new Date(this.selectDateInfo).getTime()===new Date(r.startDate).getTime()&&this.dialogBookingRecordItemList.push({id:r.fireStoreId,name:r.startTime+"~"+r.endTime})}),this.dialogBookingRecordItemList.length>0&&(this.isHiddenDialogBookingRecord=!1)}selectBookingToCancle(n){this.bookingList.forEach(r=>{r.fireStoreId===n&&this.routeUrlRecordService.nextPage("review-booking-form",r)})}static#e=this.\u0275fac=function(r){return new(r||t)($(ya),$(U_))};static#t=this.\u0275cmp=wt({type:t,selectors:[["app-review-booking-calendar"]],decls:6,vars:5,consts:[[1,"container"],[3,"bookingList","selectDatInfo"],[1,"dialog-container"],[3,"dialogTitle","isHiddenDialog","itemList","selectedItem","hideDialog"],[1,"loading-container"],[3,"isLoading"]],template:function(r,i){1&r&&(D(0,"div",0)(1,"app-calendar-picker",1),V("selectDatInfo",function(o){return i.updateSelectDay(o)}),S(),D(2,"div",2)(3,"app-dialog",3),V("selectedItem",function(o){return i.selectBookingToCancle(o)})("hideDialog",function(){return i.isHiddenDialogBookingRecord=!0}),S()(),D(4,"div",4),_t(5,"app-loading-basic",5),S()()),2&r&&(k(1),F("bookingList",i.bookingList),k(2),F("dialogTitle","\u6aa2\u8996\u9810\u7d04\u6642\u6bb5")("isHiddenDialog",i.isHiddenDialogBookingRecord)("itemList",i.dialogBookingRecordItemList),k(2),F("isLoading",i.isLoading))},dependencies:[xM,$_,j_],styles:[".container[_ngcontent-%COMP%]{display:flex;height:450px;flex-direction:column;justify-content:space-between;align-items:center;padding:20px 0}.dialog-container[_ngcontent-%COMP%], .loading-container[_ngcontent-%COMP%]{z-index:91}"]})}return t})(),c_e=(()=>{class t{constructor(n){this.fireStoreService=n,this.bookingTableName=this.fireStoreService.fireStoreTabelNameList.Booking}getAllBookingDayByUserId(){return this.fireStoreService.getAll(this.bookingTableName)}deleteBookingById(n){this.fireStoreService.deleteById(this.bookingTableName,n)}static#e=this.\u0275fac=function(r){return new(r||t)(W(SM))};static#t=this.\u0275prov=X({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function l_e(t,e){1&t&&(D(0,"div",2)(1,"label"),N(2,"\u5ea7\u4f4d"),S(),D(3,"div",3),N(4,"A105"),S()())}let u_e=(()=>{class t{constructor(n,r,i,s){this.routeUrlRecordService=n,this.activatedRoute=r,this.reviewBookingService=i,this.googleAuthService=s,this.fireStoreId="",this.selectDate="",this.startTime="",this.endTime="",this.bookingType="",this.userMail="",this.selectRoom=""}ngOnInit(){this.googleAuthService.getCurrentUser()||alert("\u7121\u6cd5\u53d6\u5f97\u4f7f\u7528\u8005\u8cc7\u8a0a"),this.googleAuthUser=this.googleAuthService.getCurrentUser(),this.userMail=this.googleAuthUser.email,this.activatedRoute.queryParams.subscribe(n=>{this.fireStoreId=n.fireStoreId,this.selectDate=n.startDate,this.startTime=n.startTime,this.endTime=n.endTime,this.bookingType=n.bookingType,this.selectRoom=n.roomName})}deleteBooking(){alert("\u53d6\u6d88\u501f\u7528"),console.log(this.fireStoreId),this.reviewBookingService.deleteBookingById(this.fireStoreId),this.routeUrlRecordService.nextPage("review-booking-calendar",{})}static#e=this.\u0275fac=function(r){return new(r||t)($(ya),$(po),$(c_e),$(Am))};static#t=this.\u0275cmp=wt({type:t,selectors:[["app-review-booking-form"]],decls:27,vars:21,consts:[[1,"form-container"],[1,"form"],[1,"row"],[1,"select-item"],[1,"row-time"],["class","row",4,"ngIf"],[1,"deleteBookingBtn",3,"click"]],template:function(r,i){1&r&&(D(0,"div",0)(1,"div",1)(2,"div",2)(3,"label"),N(4,"\u7533\u8acb\u4eba"),S(),D(5,"div",3),N(6),Ri(7,"wordShroten"),S()(),D(8,"div",2)(9,"label"),N(10,"\u8d77\u8fc4\u65e5"),S()(),D(11,"div",4)(12,"div"),N(13),Ri(14,"dateToDayOfWeek"),S(),D(15,"div"),N(16),Ri(17,"dateToDayOfWeek"),S()(),D(18,"div",2)(19,"label"),N(20,"\u6559\u5ba4"),S(),D(21,"div",3),N(22),Ri(23,"wordShroten"),S()(),Ct(24,l_e,5,0,"div",5),S(),D(25,"p",6),V("click",function(){return i.deleteBooking()}),N(26," \u53d6\u6d88\u501f\u7528 "),S()()),2&r&&(k(6),lr(" ",Oi(7,9,i.userMail,8)," "),k(7),dl(" ",i.selectDate," ",Oi(14,12,i.selectDate,"tw")," ",i.startTime," "),k(3),dl(" ",i.selectDate," ",Oi(17,15,i.selectDate,"tw")," ",i.endTime," "),k(6),ms(Oi(23,18,i.selectRoom,6)),k(2),F("ngIf","site"===i.bookingType))},dependencies:[uo,AM,g3],styles:[".form-container[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;align-items:center}.title[_ngcontent-%COMP%]{color:#661983;font-size:25px;padding:10px}.form[_ngcontent-%COMP%]{width:350px;display:flex;flex-direction:column;justify-content:flex-start;align-items:flex-start;padding:25px}.form[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:flex-start;align-items:center;padding:10px}.form[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#661983;margin-right:30px;font-size:25px}.form[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .select-item[_ngcontent-%COMP%]{color:#661983;font-size:20px;background:#FBE0FF;padding:10px 30px;border-radius:100px;margin-right:15px}.form[_ngcontent-%COMP%]   .row-time[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:flex-start;align-items:flex-start;margin-left:25px;width:80%;padding:10px;color:#661983;font-size:20px}img[_ngcontent-%COMP%]{height:40px}.deleteBookingBtn[_ngcontent-%COMP%]{background:#661983;color:#fff;padding:20px 40px;font-size:25px;border-radius:10px}"]})}return t})();class d_e{constructor(){this.BOOKING_TREND="BOOKING_TREND",this.REMANET_RATE="REMANET_RATE"}}function Tu(t){return t+.5|0}const $s=(t,e,n)=>Math.max(Math.min(t,n),e);function Uf(t){return $s(Tu(2.55*t),0,255)}function Uo(t){return $s(Tu(255*t),0,255)}function Hs(t){return $s(Tu(t/2.55)/100,0,1)}function O3(t){return $s(Tu(100*t),0,100)}const Kr={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},NM=[..."0123456789ABCDEF"],h_e=t=>NM[15&t],f_e=t=>NM[(240&t)>>4]+NM[15&t],q_=t=>(240&t)>>4==(15&t);const __e=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function N3(t,e,n){const r=e*Math.min(n,1-n),i=(s,o=(s+t/30)%12)=>n-r*Math.max(Math.min(o-3,9-o,1),-1);return[i(0),i(8),i(4)]}function v_e(t,e,n){const r=(i,s=(i+t/60)%6)=>n-n*e*Math.max(Math.min(s,4-s,1),0);return[r(5),r(3),r(1)]}function b_e(t,e,n){const r=N3(t,1,.5);let i;for(e+n>1&&(i=1/(e+n),e*=i,n*=i),i=0;i<3;i++)r[i]*=1-e-n,r[i]+=e;return r}function LM(t){const n=t.r/255,r=t.g/255,i=t.b/255,s=Math.max(n,r,i),o=Math.min(n,r,i),a=(s+o)/2;let c,l,u;return s!==o&&(u=s-o,l=a>.5?u/(2-s-o):u/(s+o),c=function w_e(t,e,n,r,i){return t===i?(e-n)/r+(e<n?6:0):e===i?(n-t)/r+2:(t-e)/r+4}(n,r,i,u,s),c=60*c+.5),[0|c,l||0,a]}function FM(t,e,n,r){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,r)).map(Uo)}function BM(t,e,n){return FM(N3,t,e,n)}function L3(t){return(t%360+360)%360}const F3={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},B3={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};let K_;const A_e=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/,VM=t=>t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055,Du=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function Y_(t,e,n){if(t){let r=LM(t);r[e]=Math.max(0,Math.min(r[e]+r[e]*n,0===e?360:1)),r=BM(r),t.r=r[0],t.g=r[1],t.b=r[2]}}function V3(t,e){return t&&Object.assign(e||{},t)}function U3(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=Uo(t[3]))):(e=V3(t,{r:0,g:0,b:0,a:1})).a=Uo(e.a),e}function R_e(t){return"r"===t.charAt(0)?function M_e(t){const e=A_e.exec(t);let r,i,s,n=255;if(e){if(e[7]!==r){const o=+e[7];n=e[8]?Uf(o):$s(255*o,0,255)}return r=+e[1],i=+e[3],s=+e[5],r=255&(e[2]?Uf(r):$s(r,0,255)),i=255&(e[4]?Uf(i):$s(i,0,255)),s=255&(e[6]?Uf(s):$s(s,0,255)),{r,g:i,b:s,a:n}}}(t):function E_e(t){const e=__e.exec(t);let r,n=255;if(!e)return;e[5]!==r&&(n=e[6]?Uf(+e[5]):Uo(+e[5]));const i=L3(+e[2]),s=+e[3]/100,o=+e[4]/100;return r="hwb"===e[1]?function I_e(t,e,n){return FM(b_e,t,e,n)}(i,s,o):"hsv"===e[1]?function C_e(t,e,n){return FM(v_e,t,e,n)}(i,s,o):BM(i,s,o),{r:r[0],g:r[1],b:r[2],a:n}}(t)}class Su{constructor(e){if(e instanceof Su)return e;const n=typeof e;let r;"object"===n?r=U3(e):"string"===n&&(r=function g_e(t){var n,e=t.length;return"#"===t[0]&&(4===e||5===e?n={r:255&17*Kr[t[1]],g:255&17*Kr[t[2]],b:255&17*Kr[t[3]],a:5===e?17*Kr[t[4]]:255}:(7===e||9===e)&&(n={r:Kr[t[1]]<<4|Kr[t[2]],g:Kr[t[3]]<<4|Kr[t[4]],b:Kr[t[5]]<<4|Kr[t[6]],a:9===e?Kr[t[7]]<<4|Kr[t[8]]:255})),n}(e)||function x_e(t){K_||(K_=function S_e(){const t={},e=Object.keys(B3),n=Object.keys(F3);let r,i,s,o,a;for(r=0;r<e.length;r++){for(o=a=e[r],i=0;i<n.length;i++)s=n[i],a=a.replace(s,F3[s]);s=parseInt(B3[o],16),t[a]=[s>>16&255,s>>8&255,255&s]}return t}(),K_.transparent=[0,0,0,0]);const e=K_[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:4===e.length?e[3]:255}}(e)||R_e(e)),this._rgb=r,this._valid=!!r}get valid(){return this._valid}get rgb(){var e=V3(this._rgb);return e&&(e.a=Hs(e.a)),e}set rgb(e){this._rgb=U3(e)}rgbString(){return this._valid?function k_e(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${Hs(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}(this._rgb):void 0}hexString(){return this._valid?function y_e(t){var e=(t=>q_(t.r)&&q_(t.g)&&q_(t.b)&&q_(t.a))(t)?h_e:f_e;return t?"#"+e(t.r)+e(t.g)+e(t.b)+((t,e)=>t<255?e(t):"")(t.a,e):void 0}(this._rgb):void 0}hslString(){return this._valid?function D_e(t){if(!t)return;const e=LM(t),n=e[0],r=O3(e[1]),i=O3(e[2]);return t.a<255?`hsla(${n}, ${r}%, ${i}%, ${Hs(t.a)})`:`hsl(${n}, ${r}%, ${i}%)`}(this._rgb):void 0}mix(e,n){if(e){const r=this.rgb,i=e.rgb;let s;const o=n===s?.5:n,a=2*o-1,c=r.a-i.a,l=((a*c==-1?a:(a+c)/(1+a*c))+1)/2;s=1-l,r.r=255&l*r.r+s*i.r+.5,r.g=255&l*r.g+s*i.g+.5,r.b=255&l*r.b+s*i.b+.5,r.a=o*r.a+(1-o)*i.a,this.rgb=r}return this}interpolate(e,n){return e&&(this._rgb=function P_e(t,e,n){const r=Du(Hs(t.r)),i=Du(Hs(t.g)),s=Du(Hs(t.b));return{r:Uo(VM(r+n*(Du(Hs(e.r))-r))),g:Uo(VM(i+n*(Du(Hs(e.g))-i))),b:Uo(VM(s+n*(Du(Hs(e.b))-s))),a:t.a+n*(e.a-t.a)}}(this._rgb,e._rgb,n)),this}clone(){return new Su(this.rgb)}alpha(e){return this._rgb.a=Uo(e),this}clearer(e){return this._rgb.a*=1-e,this}greyscale(){const e=this._rgb,n=Tu(.3*e.r+.59*e.g+.11*e.b);return e.r=e.g=e.b=n,this}opaquer(e){return this._rgb.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Y_(this._rgb,2,e),this}darken(e){return Y_(this._rgb,2,-e),this}saturate(e){return Y_(this._rgb,1,e),this}desaturate(e){return Y_(this._rgb,1,-e),this}rotate(e){return function T_e(t,e){var n=LM(t);n[0]=L3(n[0]+e),n=BM(n),t.r=n[0],t.g=n[1],t.b=n[2]}(this._rgb,e),this}}function zs(){}const O_e=(()=>{let t=0;return()=>t++})();function Le(t){return null===t||typeof t>"u"}function ut(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return"[object"===e.slice(0,7)&&"Array]"===e.slice(-6)}function Se(t){return null!==t&&"[object Object]"===Object.prototype.toString.call(t)}function At(t){return("number"==typeof t||t instanceof Number)&&isFinite(+t)}function Pr(t,e){return At(t)?t:e}function we(t,e){return typeof t>"u"?e:t}const j3=(t,e)=>"string"==typeof t&&t.endsWith("%")?parseFloat(t)/100*e:+t;function st(t,e,n){if(t&&"function"==typeof t.call)return t.apply(n,e)}function We(t,e,n,r){let i,s,o;if(ut(t))if(s=t.length,r)for(i=s-1;i>=0;i--)e.call(n,t[i],i);else for(i=0;i<s;i++)e.call(n,t[i],i);else if(Se(t))for(o=Object.keys(t),s=o.length,i=0;i<s;i++)e.call(n,t[o[i]],o[i])}function Z_(t,e){let n,r,i,s;if(!t||!e||t.length!==e.length)return!1;for(n=0,r=t.length;n<r;++n)if(i=t[n],s=e[n],i.datasetIndex!==s.datasetIndex||i.index!==s.index)return!1;return!0}function Q_(t){if(ut(t))return t.map(Q_);if(Se(t)){const e=Object.create(null),n=Object.keys(t),r=n.length;let i=0;for(;i<r;++i)e[n[i]]=Q_(t[n[i]]);return e}return t}function $3(t){return-1===["__proto__","prototype","constructor"].indexOf(t)}function L_e(t,e,n,r){if(!$3(t))return;const i=e[t],s=n[t];Se(i)&&Se(s)?jf(i,s,r):e[t]=Q_(s)}function jf(t,e,n){const r=ut(e)?e:[e],i=r.length;if(!Se(t))return t;const s=(n=n||{}).merger||L_e;let o;for(let a=0;a<i;++a){if(o=r[a],!Se(o))continue;const c=Object.keys(o);for(let l=0,u=c.length;l<u;++l)s(c[l],t,o,n)}return t}function $f(t,e){return jf(t,e,{merger:F_e})}function F_e(t,e,n){if(!$3(t))return;const r=e[t],i=n[t];Se(r)&&Se(i)?$f(r,i):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=Q_(i))}const H3={"":t=>t,x:t=>t.x,y:t=>t.y};function jo(t,e){return(H3[e]||(H3[e]=function V_e(t){const e=function B_e(t){const e=t.split("."),n=[];let r="";for(const i of e)r+=i,r.endsWith("\\")?r=r.slice(0,-1)+".":(n.push(r),r="");return n}(t);return n=>{for(const r of e){if(""===r)break;n=n&&n[r]}return n}}(e)))(t)}function UM(t){return t.charAt(0).toUpperCase()+t.slice(1)}const Hf=t=>typeof t<"u",$o=t=>"function"==typeof t,z3=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0},dt=Math.PI,ht=2*dt,j_e=ht+dt,X_=Number.POSITIVE_INFINITY,$_e=dt/180,jt=dt/2,nc=dt/4,G3=2*dt/3,Ho=Math.log10,Qi=Math.sign;function zf(t,e,n){return Math.abs(t-e)<n}function W3(t){const e=Math.round(t);t=zf(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(Ho(t))),r=t/n;return(r<=1?1:r<=2?2:r<=5?5:10)*n}function xu(t){return!isNaN(parseFloat(t))&&isFinite(t)}function q3(t,e,n){let r,i,s;for(r=0,i=t.length;r<i;r++)s=t[r][n],isNaN(s)||(e.min=Math.min(e.min,s),e.max=Math.max(e.max,s))}function _i(t){return t*(dt/180)}function jM(t){return t*(180/dt)}function K3(t){if(!At(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function Y3(t,e){const n=e.x-t.x,r=e.y-t.y,i=Math.sqrt(n*n+r*r);let s=Math.atan2(r,n);return s<-.5*dt&&(s+=ht),{angle:s,distance:i}}function $M(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function G_e(t,e){return(t-e+j_e)%ht-dt}function Rr(t){return(t%ht+ht)%ht}function Gf(t,e,n,r){const i=Rr(t),s=Rr(e),o=Rr(n),a=Rr(s-i),c=Rr(o-i),l=Rr(i-s),u=Rr(i-o);return i===s||i===o||r&&s===o||a>c&&l<u}function pn(t,e,n){return Math.max(e,Math.min(n,t))}function Gs(t,e,n,r=1e-6){return t>=Math.min(e,n)-r&&t<=Math.max(e,n)+r}function HM(t,e,n){n=n||(o=>t[o]<e);let s,r=t.length-1,i=0;for(;r-i>1;)s=i+r>>1,n(s)?i=s:r=s;return{lo:i,hi:r}}const Ws=(t,e,n,r)=>HM(t,n,r?i=>{const s=t[i][e];return s<n||s===n&&t[i+1][e]===n}:i=>t[i][e]<n),q_e=(t,e,n)=>HM(t,n,r=>t[r][e]>=n),Z3=["push","pop","shift","splice","unshift"];function Q3(t,e){const n=t._chartjs;if(!n)return;const r=n.listeners,i=r.indexOf(e);-1!==i&&r.splice(i,1),!(r.length>0)&&(Z3.forEach(s=>{delete t[s]}),delete t._chartjs)}function X3(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const J3=typeof window>"u"?function(t){return t()}:window.requestAnimationFrame;function e5(t,e){let n=[],r=!1;return function(...i){n=i,r||(r=!0,J3.call(window,()=>{r=!1,t.apply(e,n)}))}}const zM=t=>"start"===t?"left":"end"===t?"right":"center",Un=(t,e,n)=>"start"===t?e:"end"===t?n:(e+n)/2;function t5(t,e,n){const r=e.length;let i=0,s=r;if(t._sorted){const{iScale:o,_parsed:a}=t,c=o.axis,{min:l,max:u,minDefined:d,maxDefined:h}=o.getUserBounds();d&&(i=pn(Math.min(Ws(a,c,l).lo,n?r:Ws(e,c,o.getPixelForValue(l)).lo),0,r-1)),s=h?pn(Math.max(Ws(a,o.axis,u,!0).hi+1,n?0:Ws(e,c,o.getPixelForValue(u),!0).hi+1),i,r)-i:r-i}return{start:i,count:s}}function n5(t){const{xScale:e,yScale:n,_scaleRanges:r}=t,i={xmin:e.min,xmax:e.max,ymin:n.min,ymax:n.max};if(!r)return t._scaleRanges=i,!0;const s=r.xmin!==e.min||r.xmax!==e.max||r.ymin!==n.min||r.ymax!==n.max;return Object.assign(r,i),s}const J_=t=>0===t||1===t,r5=(t,e,n)=>-Math.pow(2,10*(t-=1))*Math.sin((t-e)*ht/n),i5=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*ht/n)+1,Wf={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>1-Math.cos(t*jt),easeOutSine:t=>Math.sin(t*jt),easeInOutSine:t=>-.5*(Math.cos(dt*t)-1),easeInExpo:t=>0===t?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>1===t?1:1-Math.pow(2,-10*t),easeInOutExpo:t=>J_(t)?t:t<.5?.5*Math.pow(2,10*(2*t-1)):.5*(2-Math.pow(2,-10*(2*t-1))),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>J_(t)?t:r5(t,.075,.3),easeOutElastic:t=>J_(t)?t:i5(t,.075,.3),easeInOutElastic:t=>J_(t)?t:t<.5?.5*r5(2*t,.1125,.45):.5+.5*i5(2*t-1,.1125,.45),easeInBack:t=>t*t*(2.70158*t-1.70158),easeOutBack:t=>(t-=1)*t*(2.70158*t+1.70158)+1,easeInOutBack(t){let e=1.70158;return(t/=.5)<1?t*t*((1+(e*=1.525))*t-e)*.5:.5*((t-=2)*t*((1+(e*=1.525))*t+e)+2)},easeInBounce:t=>1-Wf.easeOutBounce(1-t),easeOutBounce:t=>t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375,easeInOutBounce:t=>t<.5?.5*Wf.easeInBounce(2*t):.5*Wf.easeOutBounce(2*t-1)+.5};function GM(t){if(t&&"object"==typeof t){const e=t.toString();return"[object CanvasPattern]"===e||"[object CanvasGradient]"===e}return!1}function s5(t){return GM(t)?t:new Su(t)}function WM(t){return GM(t)?t:new Su(t).saturate(.5).darken(.1).hexString()}const X_e=["x","y","borderWidth","radius","tension"],J_e=["color","borderColor","backgroundColor"],o5=new Map;function qf(t,e,n){return function nve(t,e){e=e||{};const n=t+JSON.stringify(e);let r=o5.get(n);return r||(r=new Intl.NumberFormat(t,e),o5.set(n,r)),r}(e,n).format(t)}const a5={values:t=>ut(t)?t:""+t,numeric(t,e,n){if(0===t)return"0";const r=this.chart.options.locale;let i,s=t;if(n.length>1){const l=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(l<1e-4||l>1e15)&&(i="scientific"),s=function rve(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}(t,n)}const o=Ho(Math.abs(s)),a=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),c={notation:i,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(c,this.options.ticks.format),qf(t,r,c)},logarithmic(t,e,n){if(0===t)return"0";const r=n[e].significand||t/Math.pow(10,Math.floor(Ho(t)));return[1,2,3,5,10,15].includes(r)||e>.8*n.length?a5.numeric.call(this,t,e,n):""}};var ev={formatters:a5};const rc=Object.create(null),qM=Object.create(null);function Kf(t,e){if(!e)return t;const n=e.split(".");for(let r=0,i=n.length;r<i;++r){const s=n[r];t=t[s]||(t[s]=Object.create(null))}return t}function KM(t,e,n){return"string"==typeof e?jf(Kf(t,e),n):jf(Kf(t,""),e)}class sve{constructor(e,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=r=>r.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(r,i)=>WM(i.backgroundColor),this.hoverBorderColor=(r,i)=>WM(i.borderColor),this.hoverColor=(r,i)=>WM(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(n)}set(e,n){return KM(this,e,n)}get(e){return Kf(this,e)}describe(e,n){return KM(qM,e,n)}override(e,n){return KM(rc,e,n)}route(e,n,r,i){const s=Kf(this,e),o=Kf(this,r),a="_"+n;Object.defineProperties(s,{[a]:{value:s[n],writable:!0},[n]:{enumerable:!0,get(){const c=this[a],l=o[i];return Se(c)?Object.assign({},l,c):we(c,l)},set(c){this[a]=c}}})}apply(e){e.forEach(n=>n(this))}}var Mt=new sve({_scriptable:t=>!t.startsWith("on"),_indexable:t=>"events"!==t,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[function eve(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>"onProgress"!==e&&"onComplete"!==e&&"fn"!==e}),t.set("animations",{colors:{type:"color",properties:J_e},numbers:{type:"number",properties:X_e}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>0|e}}}})},function tve(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})},function ive(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:ev.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&"callback"!==e&&"parser"!==e,_indexable:e=>"borderDash"!==e&&"tickBorderDash"!==e&&"dash"!==e}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>"backdropPadding"!==e&&"callback"!==e,_indexable:e=>"backdropPadding"!==e})}]);function tv(t,e,n,r,i){let s=e[i];return s||(s=e[i]=t.measureText(i).width,n.push(i)),s>r&&(r=s),r}function ave(t,e,n,r){let i=(r=r||{}).data=r.data||{},s=r.garbageCollect=r.garbageCollect||[];r.font!==e&&(i=r.data={},s=r.garbageCollect=[],r.font=e),t.save(),t.font=e;let o=0;const a=n.length;let c,l,u,d,h;for(c=0;c<a;c++)if(d=n[c],null==d||ut(d)){if(ut(d))for(l=0,u=d.length;l<u;l++)h=d[l],null!=h&&!ut(h)&&(o=tv(t,i,s,o,h))}else o=tv(t,i,s,o,d);t.restore();const f=s.length/2;if(f>n.length){for(c=0;c<f;c++)delete i[s[c]];s.splice(0,f)}return o}function ic(t,e,n){const r=t.currentDevicePixelRatio,i=0!==n?Math.max(n/2,.5):0;return Math.round((e-i)*r)/r+i}function c5(t,e){(e=e||t.getContext("2d")).save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore()}function YM(t,e,n,r){l5(t,e,n,r,null)}function l5(t,e,n,r,i){let s,o,a,c,l,u,d,h;const f=e.pointStyle,p=e.rotation,g=e.radius;let m=(p||0)*$_e;if(f&&"object"==typeof f&&(s=f.toString(),"[object HTMLImageElement]"===s||"[object HTMLCanvasElement]"===s))return t.save(),t.translate(n,r),t.rotate(m),t.drawImage(f,-f.width/2,-f.height/2,f.width,f.height),void t.restore();if(!(isNaN(g)||g<=0)){switch(t.beginPath(),f){default:i?t.ellipse(n,r,i/2,g,0,0,ht):t.arc(n,r,g,0,ht),t.closePath();break;case"triangle":u=i?i/2:g,t.moveTo(n+Math.sin(m)*u,r-Math.cos(m)*g),m+=G3,t.lineTo(n+Math.sin(m)*u,r-Math.cos(m)*g),m+=G3,t.lineTo(n+Math.sin(m)*u,r-Math.cos(m)*g),t.closePath();break;case"rectRounded":l=.516*g,c=g-l,o=Math.cos(m+nc)*c,d=Math.cos(m+nc)*(i?i/2-l:c),a=Math.sin(m+nc)*c,h=Math.sin(m+nc)*(i?i/2-l:c),t.arc(n-d,r-a,l,m-dt,m-jt),t.arc(n+h,r-o,l,m-jt,m),t.arc(n+d,r+a,l,m,m+jt),t.arc(n-h,r+o,l,m+jt,m+dt),t.closePath();break;case"rect":if(!p){c=Math.SQRT1_2*g,u=i?i/2:c,t.rect(n-u,r-c,2*u,2*c);break}m+=nc;case"rectRot":d=Math.cos(m)*(i?i/2:g),o=Math.cos(m)*g,a=Math.sin(m)*g,h=Math.sin(m)*(i?i/2:g),t.moveTo(n-d,r-a),t.lineTo(n+h,r-o),t.lineTo(n+d,r+a),t.lineTo(n-h,r+o),t.closePath();break;case"crossRot":m+=nc;case"cross":d=Math.cos(m)*(i?i/2:g),o=Math.cos(m)*g,a=Math.sin(m)*g,h=Math.sin(m)*(i?i/2:g),t.moveTo(n-d,r-a),t.lineTo(n+d,r+a),t.moveTo(n+h,r-o),t.lineTo(n-h,r+o);break;case"star":d=Math.cos(m)*(i?i/2:g),o=Math.cos(m)*g,a=Math.sin(m)*g,h=Math.sin(m)*(i?i/2:g),t.moveTo(n-d,r-a),t.lineTo(n+d,r+a),t.moveTo(n+h,r-o),t.lineTo(n-h,r+o),m+=nc,d=Math.cos(m)*(i?i/2:g),o=Math.cos(m)*g,a=Math.sin(m)*g,h=Math.sin(m)*(i?i/2:g),t.moveTo(n-d,r-a),t.lineTo(n+d,r+a),t.moveTo(n+h,r-o),t.lineTo(n-h,r+o);break;case"line":o=i?i/2:Math.cos(m)*g,a=Math.sin(m)*g,t.moveTo(n-o,r-a),t.lineTo(n+o,r+a);break;case"dash":t.moveTo(n,r),t.lineTo(n+Math.cos(m)*(i?i/2:g),r+Math.sin(m)*g);break;case!1:t.closePath()}t.fill(),e.borderWidth>0&&t.stroke()}}function qs(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function nv(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function rv(t){t.restore()}function cve(t,e,n,r,i){if(!e)return t.lineTo(n.x,n.y);if("middle"===i){const s=(e.x+n.x)/2;t.lineTo(s,e.y),t.lineTo(s,n.y)}else"after"===i!=!!r?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}function lve(t,e,n,r){if(!e)return t.lineTo(n.x,n.y);t.bezierCurveTo(r?e.cp1x:e.cp2x,r?e.cp1y:e.cp2y,r?n.cp2x:n.cp1x,r?n.cp2y:n.cp1y,n.x,n.y)}function dve(t,e,n,r,i){if(i.strikethrough||i.underline){const s=t.measureText(r),o=e-s.actualBoundingBoxLeft,a=e+s.actualBoundingBoxRight,l=n+s.actualBoundingBoxDescent,u=i.strikethrough?(n-s.actualBoundingBoxAscent+l)/2:l;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=i.decorationWidth||2,t.moveTo(o,u),t.lineTo(a,u),t.stroke()}}function hve(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function sc(t,e,n,r,i,s={}){const o=ut(e)?e:[e],a=s.strokeWidth>0&&""!==s.strokeColor;let c,l;for(t.save(),t.font=i.string,function uve(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),Le(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}(t,s),c=0;c<o.length;++c)l=o[c],s.backdrop&&hve(t,s.backdrop),a&&(s.strokeColor&&(t.strokeStyle=s.strokeColor),Le(s.strokeWidth)||(t.lineWidth=s.strokeWidth),t.strokeText(l,n,r,s.maxWidth)),t.fillText(l,n,r,s.maxWidth),dve(t,n,r,l,s),r+=Number(i.lineHeight);t.restore()}function Yf(t,e){const{x:n,y:r,w:i,h:s,radius:o}=e;t.arc(n+o.topLeft,r+o.topLeft,o.topLeft,1.5*dt,dt,!0),t.lineTo(n,r+s-o.bottomLeft),t.arc(n+o.bottomLeft,r+s-o.bottomLeft,o.bottomLeft,dt,jt,!0),t.lineTo(n+i-o.bottomRight,r+s),t.arc(n+i-o.bottomRight,r+s-o.bottomRight,o.bottomRight,jt,0,!0),t.lineTo(n+i,r+o.topRight),t.arc(n+i-o.topRight,r+o.topRight,o.topRight,0,-jt,!0),t.lineTo(n+o.topLeft,r)}const fve=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,pve=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function gve(t,e){const n=(""+t).match(fve);if(!n||"normal"===n[1])return 1.2*e;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100}return e*t}const mve=t=>+t||0;function ZM(t,e){const n={},r=Se(e),i=r?Object.keys(e):e,s=Se(t)?r?o=>we(t[o],t[e[o]]):o=>t[o]:()=>t;for(const o of i)n[o]=mve(s(o));return n}function u5(t){return ZM(t,{top:"y",right:"x",bottom:"y",left:"x"})}function oc(t){return ZM(t,["topLeft","topRight","bottomLeft","bottomRight"])}function jn(t){const e=u5(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function rn(t,e){let n=we((t=t||{}).size,(e=e||Mt.font).size);"string"==typeof n&&(n=parseInt(n,10));let r=we(t.style,e.style);r&&!(""+r).match(pve)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);const i={family:we(t.family,e.family),lineHeight:gve(we(t.lineHeight,e.lineHeight),n),size:n,style:r,weight:we(t.weight,e.weight),string:""};return i.string=function ove(t){return!t||Le(t.size)||Le(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}(i),i}function Zf(t,e,n,r){let s,o,a,i=!0;for(s=0,o=t.length;s<o;++s)if(a=t[s],void 0!==a&&(void 0!==e&&"function"==typeof a&&(a=a(e),i=!1),void 0!==n&&ut(a)&&(a=a[n%a.length],i=!1),void 0!==a))return r&&!i&&(r.cacheable=!1),a}function zo(t,e){return Object.assign(Object.create(t),e)}function QM(t,e=[""],n,r,i=(()=>t[0])){const s=n||t;typeof r>"u"&&(r=g5("_fallback",t));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:s,_fallback:r,_getTarget:i,override:a=>QM([a,...t],e,s,r)};return new Proxy(o,{deleteProperty:(a,c)=>(delete a[c],delete a._keys,delete t[0][c],!0),get:(a,c)=>h5(a,c,()=>function Tve(t,e,n,r){let i;for(const s of e)if(i=g5(_ve(s,t),n),typeof i<"u")return XM(t,i)?JM(n,r,t,i):i}(c,e,t,a)),getOwnPropertyDescriptor:(a,c)=>Reflect.getOwnPropertyDescriptor(a._scopes[0],c),getPrototypeOf:()=>Reflect.getPrototypeOf(t[0]),has:(a,c)=>m5(a).includes(c),ownKeys:a=>m5(a),set(a,c,l){const u=a._storage||(a._storage=i());return a[c]=u[c]=l,delete a._keys,!0}})}function Au(t,e,n,r){const i={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:d5(t,r),setContext:s=>Au(t,s,n,r),override:s=>Au(t.override(s),e,n,r)};return new Proxy(i,{deleteProperty:(s,o)=>(delete s[o],delete t[o],!0),get:(s,o,a)=>h5(s,o,()=>function vve(t,e,n){const{_proxy:r,_context:i,_subProxy:s,_descriptors:o}=t;let a=r[e];return $o(a)&&o.isScriptable(e)&&(a=function bve(t,e,n,r){const{_proxy:i,_context:s,_subProxy:o,_stack:a}=n;if(a.has(t))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+t);a.add(t);let c=e(s,o||r);return a.delete(t),XM(t,c)&&(c=JM(i._scopes,i,t,c)),c}(e,a,t,n)),ut(a)&&a.length&&(a=function wve(t,e,n,r){const{_proxy:i,_context:s,_subProxy:o,_descriptors:a}=n;if(typeof s.index<"u"&&r(t))return e[s.index%e.length];if(Se(e[0])){const c=e,l=i._scopes.filter(u=>u!==c);e=[];for(const u of c){const d=JM(l,i,t,u);e.push(Au(d,s,o&&o[t],a))}}return e}(e,a,t,o.isIndexable)),XM(e,a)&&(a=Au(a,i,s&&s[e],o)),a}(s,o,a)),getOwnPropertyDescriptor:(s,o)=>s._descriptors.allKeys?Reflect.has(t,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,o),getPrototypeOf:()=>Reflect.getPrototypeOf(t),has:(s,o)=>Reflect.has(t,o),ownKeys:()=>Reflect.ownKeys(t),set:(s,o,a)=>(t[o]=a,delete s[o],!0)})}function d5(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:r=e.indexable,_allKeys:i=e.allKeys}=t;return{allKeys:i,scriptable:n,indexable:r,isScriptable:$o(n)?n:()=>n,isIndexable:$o(r)?r:()=>r}}const _ve=(t,e)=>t?t+UM(e):e,XM=(t,e)=>Se(e)&&"adapters"!==t&&(null===Object.getPrototypeOf(e)||e.constructor===Object);function h5(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e))return t[e];const r=n();return t[e]=r,r}function f5(t,e,n){return $o(t)?t(e,n):t}const Ive=(t,e)=>!0===t?e:"string"==typeof t?jo(e,t):void 0;function Cve(t,e,n,r,i){for(const s of e){const o=Ive(n,s);if(o){t.add(o);const a=f5(o._fallback,n,i);if(typeof a<"u"&&a!==n&&a!==r)return a}else if(!1===o&&typeof r<"u"&&n!==r)return null}return!1}function JM(t,e,n,r){const i=e._rootScopes,s=f5(e._fallback,n,r),o=[...t,...i],a=new Set;a.add(r);let c=p5(a,o,n,s||n,r);return!(null===c||typeof s<"u"&&s!==n&&(c=p5(a,o,s,c,r),null===c))&&QM(Array.from(a),[""],i,s,()=>function Eve(t,e,n){const r=t._getTarget();e in r||(r[e]={});const i=r[e];return ut(i)&&Se(n)?n:i||{}}(e,n,r))}function p5(t,e,n,r,i){for(;n;)n=Cve(t,e,n,r,i);return n}function g5(t,e){for(const n of e){if(!n)continue;const r=n[t];if(typeof r<"u")return r}}function m5(t){let e=t._keys;return e||(e=t._keys=function Dve(t){const e=new Set;for(const n of t)for(const r of Object.keys(n).filter(i=>!i.startsWith("_")))e.add(r);return Array.from(e)}(t._scopes)),e}function y5(t,e,n,r){const{iScale:i}=t,{key:s="r"}=this._parsing,o=new Array(r);let a,c,l,u;for(a=0,c=r;a<c;++a)l=a+n,u=e[l],o[a]={r:i.parse(jo(u,s),l)};return o}const Sve=Number.EPSILON||1e-14,Mu=(t,e)=>e<t.length&&!t[e].skip&&t[e],_5=t=>"x"===t?"y":"x";function xve(t,e,n,r){const i=t.skip?e:t,s=e,o=n.skip?e:n,a=$M(s,i),c=$M(o,s);let l=a/(a+c),u=c/(a+c);l=isNaN(l)?0:l,u=isNaN(u)?0:u;const d=r*l,h=r*u;return{previous:{x:s.x-d*(o.x-i.x),y:s.y-d*(o.y-i.y)},next:{x:s.x+h*(o.x-i.x),y:s.y+h*(o.y-i.y)}}}function iv(t,e,n){return Math.max(Math.min(t,n),e)}function Rve(t,e,n,r,i){let s,o,a,c;if(e.spanGaps&&(t=t.filter(l=>!l.skip)),"monotone"===e.cubicInterpolationMode)!function kve(t,e="x"){const n=_5(e),r=t.length,i=Array(r).fill(0),s=Array(r);let o,a,c,l=Mu(t,0);for(o=0;o<r;++o)if(a=c,c=l,l=Mu(t,o+1),c){if(l){const u=l[e]-c[e];i[o]=0!==u?(l[n]-c[n])/u:0}s[o]=a?l?Qi(i[o-1])!==Qi(i[o])?0:(i[o-1]+i[o])/2:i[o-1]:i[o]}(function Ave(t,e,n){const r=t.length;let i,s,o,a,c,l=Mu(t,0);for(let u=0;u<r-1;++u)if(c=l,l=Mu(t,u+1),c&&l){if(zf(e[u],0,Sve)){n[u]=n[u+1]=0;continue}i=n[u]/e[u],s=n[u+1]/e[u],a=Math.pow(i,2)+Math.pow(s,2),!(a<=9)&&(o=3/Math.sqrt(a),n[u]=i*o*e[u],n[u+1]=s*o*e[u])}})(t,i,s),function Mve(t,e,n="x"){const r=_5(n),i=t.length;let s,o,a,c=Mu(t,0);for(let l=0;l<i;++l){if(o=a,a=c,c=Mu(t,l+1),!a)continue;const u=a[n],d=a[r];o&&(s=(u-o[n])/3,a[`cp1${n}`]=u-s,a[`cp1${r}`]=d-s*e[l]),c&&(s=(c[n]-u)/3,a[`cp2${n}`]=u+s,a[`cp2${r}`]=d+s*e[l])}}(t,s,e)}(t,i);else{let l=r?t[t.length-1]:t[0];for(s=0,o=t.length;s<o;++s)a=t[s],c=xve(l,a,t[Math.min(s+1,o-(r?0:1))%o],e.tension),a.cp1x=c.previous.x,a.cp1y=c.previous.y,a.cp2x=c.next.x,a.cp2y=c.next.y,l=a}e.capBezierPoints&&function Pve(t,e){let n,r,i,s,o,a=qs(t[0],e);for(n=0,r=t.length;n<r;++n)o=s,s=a,a=n<r-1&&qs(t[n+1],e),s&&(i=t[n],o&&(i.cp1x=iv(i.cp1x,e.left,e.right),i.cp1y=iv(i.cp1y,e.top,e.bottom)),a&&(i.cp2x=iv(i.cp2x,e.left,e.right),i.cp2y=iv(i.cp2y,e.top,e.bottom)))}(t,n)}function ek(){return typeof window<"u"&&typeof document<"u"}function tk(t){let e=t.parentNode;return e&&"[object ShadowRoot]"===e.toString()&&(e=e.host),e}function sv(t,e,n){let r;return"string"==typeof t?(r=parseInt(t,10),-1!==t.indexOf("%")&&(r=r/100*e.parentNode[n])):r=t,r}const ov=t=>t.ownerDocument.defaultView.getComputedStyle(t,null),Nve=["top","right","bottom","left"];function ac(t,e,n){const r={};n=n?"-"+n:"";for(let i=0;i<4;i++){const s=Nve[i];r[s]=parseFloat(t[e+"-"+s+n])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}const Lve=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function cc(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:r}=e,i=ov(n),s="border-box"===i.boxSizing,o=ac(i,"padding"),a=ac(i,"border","width"),{x:c,y:l,box:u}=function Fve(t,e){const n=t.touches,r=n&&n.length?n[0]:t,{offsetX:i,offsetY:s}=r;let a,c,o=!1;if(Lve(i,s,t.target))a=i,c=s;else{const l=e.getBoundingClientRect();a=r.clientX-l.left,c=r.clientY-l.top,o=!0}return{x:a,y:c,box:o}}(t,n),d=o.left+(u&&a.left),h=o.top+(u&&a.top);let{width:f,height:p}=e;return s&&(f-=o.width+a.width,p-=o.height+a.height),{x:Math.round((c-d)/f*n.width/r),y:Math.round((l-h)/p*n.height/r)}}const av=t=>Math.round(10*t)/10;function v5(t,e,n){const r=e||1,i=Math.floor(t.height*r),s=Math.floor(t.width*r);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const o=t.canvas;return o.style&&(n||!o.style.height&&!o.style.width)&&(o.style.height=`${t.height}px`,o.style.width=`${t.width}px`),(t.currentDevicePixelRatio!==r||o.height!==i||o.width!==s)&&(t.currentDevicePixelRatio=r,o.height=i,o.width=s,t.ctx.setTransform(r,0,0,r,0,0),!0)}const Uve=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};ek()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t}();function b5(t,e){const n=function Ove(t,e){return ov(t).getPropertyValue(e)}(t,e),r=n&&n.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function lc(t,e,n,r){return{x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}}function jve(t,e,n,r){return{x:t.x+n*(e.x-t.x),y:"middle"===r?n<.5?t.y:e.y:"after"===r?n<1?t.y:e.y:n>0?e.y:t.y}}function $ve(t,e,n,r){const i={x:t.cp2x,y:t.cp2y},s={x:e.cp1x,y:e.cp1y},o=lc(t,i,n),a=lc(i,s,n),c=lc(s,e,n),l=lc(o,a,n),u=lc(a,c,n);return lc(l,u,n)}function ku(t,e,n){return t?function(t,e){return{x:n=>t+t+e-n,setWidth(n){e=n},textAlign:n=>"center"===n?n:"right"===n?"left":"right",xPlus:(n,r)=>n-r,leftForLtr:(n,r)=>n-r}}(e,n):{x:t=>t,setWidth(t){},textAlign:t=>t,xPlus:(t,e)=>t+e,leftForLtr:(t,e)=>t}}function w5(t,e){let n,r;("ltr"===e||"rtl"===e)&&(n=t.canvas.style,r=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=r)}function I5(t,e){void 0!==e&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function C5(t){return"angle"===t?{between:Gf,compare:G_e,normalize:Rr}:{between:Gs,compare:(e,n)=>e-n,normalize:e=>e}}function E5({start:t,end:e,count:n,loop:r,style:i}){return{start:t%n,end:e%n,loop:r&&(e-t+1)%n==0,style:i}}function T5(t,e,n){if(!n)return[t];const{property:r,start:i,end:s}=n,o=e.length,{compare:a,between:c,normalize:l}=C5(r),{start:u,end:d,loop:h,style:f}=function Gve(t,e,n){const{property:r,start:i,end:s}=n,{between:o,normalize:a}=C5(r),c=e.length;let h,f,{start:l,end:u,loop:d}=t;if(d){for(l+=c,u+=c,h=0,f=c;h<f&&o(a(e[l%c][r]),i,s);++h)l--,u--;l%=c,u%=c}return u<l&&(u+=c),{start:l,end:u,loop:d,style:t.style}}(t,e,n),p=[];let _,y,v,g=!1,m=null;for(let P=u,q=u;P<=d;++P)y=e[P%o],!y.skip&&(_=l(y[r]),_!==v&&(g=c(_,i,s),null===m&&(g||c(i,v,_)&&0!==a(i,v))&&(m=0===a(_,i)?P:q),null!==m&&(!g||0===a(s,_)||c(s,v,_))&&(p.push(E5({start:m,end:P,loop:h,count:o,style:f})),m=null),q=P,v=_));return null!==m&&p.push(E5({start:m,end:d,loop:h,count:o,style:f})),p}function D5(t,e){const n=[],r=t.segments;for(let i=0;i<r.length;i++){const s=T5(r[i],t.points,e);s.length&&n.push(...s)}return n}function x5(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function Zve(t,e){if(!e)return!1;const n=[],r=function(i,s){return GM(s)?(n.includes(s)||n.push(s),n.indexOf(s)):s};return JSON.stringify(t,r)!==JSON.stringify(e,r)}class Qve{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,r,i){const o=n.duration;n.listeners[i].forEach(a=>a({chart:e,initial:n.initial,numSteps:o,currentStep:Math.min(r-n.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=J3.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((r,i)=>{if(!r.running||!r.items.length)return;const s=r.items;let c,o=s.length-1,a=!1;for(;o>=0;--o)c=s[o],c._active?(c._total>r.duration&&(r.duration=c._total),c.tick(e),a=!0):(s[o]=s[s.length-1],s.pop());a&&(i.draw(),this._notify(i,r,e,"progress")),s.length||(r.running=!1,this._notify(i,r,e,"complete"),r.initial=!1),n+=s.length}),this._lastDate=e,0===n&&(this._running=!1)}_getAnims(e){const n=this._charts;let r=n.get(e);return r||(r={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,r)),r}listen(e,n,r){this._getAnims(e).listeners[n].push(r)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){const n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((r,i)=>Math.max(r,i._duration),0),this._refresh())}running(e){if(!this._running)return!1;const n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){const n=this._charts.get(e);if(!n||!n.items.length)return;const r=n.items;let i=r.length-1;for(;i>=0;--i)r[i].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var Ks=new Qve;const A5="transparent",Xve={boolean:(t,e,n)=>n>.5?e:t,color(t,e,n){const r=s5(t||A5),i=r.valid&&s5(e||A5);return i&&i.valid?i.mix(r,n).hexString():e},number:(t,e,n)=>t+(e-t)*n};class Jve{constructor(e,n,r,i){const s=n[r];i=Zf([e.to,i,s,e.from]);const o=Zf([e.from,s,i]);this._active=!0,this._fn=e.fn||Xve[e.type||typeof o],this._easing=Wf[e.easing]||Wf.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=r,this._from=o,this._to=i,this._promises=void 0}active(){return this._active}update(e,n,r){if(this._active){this._notify(!1);const i=this._target[this._prop],s=r-this._start,o=this._duration-s;this._start=r,this._duration=Math.floor(Math.max(o,e.duration)),this._total+=s,this._loop=!!e.loop,this._to=Zf([e.to,n,i,e.from]),this._from=Zf([e.from,i,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const n=e-this._start,r=this._duration,i=this._prop,s=this._from,o=this._loop,a=this._to;let c;if(this._active=s!==a&&(o||n<r),!this._active)return this._target[i]=a,void this._notify(!0);n<0?this._target[i]=s:(c=n/r%2,c=o&&c>1?2-c:c,c=this._easing(Math.min(1,Math.max(0,c))),this._target[i]=this._fn(s,a,c))}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,r)=>{e.push({res:n,rej:r})})}_notify(e){const n=e?"res":"rej",r=this._promises||[];for(let i=0;i<r.length;i++)r[i][n]()}}class M5{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!Se(e))return;const n=Object.keys(Mt.animation),r=this._properties;Object.getOwnPropertyNames(e).forEach(i=>{const s=e[i];if(!Se(s))return;const o={};for(const a of n)o[a]=s[a];(ut(s.properties)&&s.properties||[i]).forEach(a=>{(a===i||!r.has(a))&&r.set(a,o)})})}_animateOptions(e,n){const r=n.options,i=function tbe(t,e){if(!e)return;let n=t.options;if(n)return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n;t.options=e}(e,r);if(!i)return[];const s=this._createAnimations(i,r);return r.$shared&&function ebe(t,e){const n=[],r=Object.keys(e);for(let i=0;i<r.length;i++){const s=t[r[i]];s&&s.active()&&n.push(s.wait())}return Promise.all(n)}(e.options.$animations,r).then(()=>{e.options=r},()=>{}),s}_createAnimations(e,n){const r=this._properties,i=[],s=e.$animations||(e.$animations={}),o=Object.keys(n),a=Date.now();let c;for(c=o.length-1;c>=0;--c){const l=o[c];if("$"===l.charAt(0))continue;if("options"===l){i.push(...this._animateOptions(e,n));continue}const u=n[l];let d=s[l];const h=r.get(l);if(d){if(h&&d.active()){d.update(h,u,a);continue}d.cancel()}h&&h.duration?(s[l]=d=new Jve(h,e,l,u),i.push(d)):e[l]=u}return i}update(e,n){if(0===this._properties.size)return void Object.assign(e,n);const r=this._createAnimations(e,n);return r.length?(Ks.add(this._chart,r),!0):void 0}}function k5(t,e){const n=t&&t.options||{},r=n.reverse,i=void 0===n.min?e:0,s=void 0===n.max?e:0;return{start:r?s:i,end:r?i:s}}function P5(t,e){const n=[],r=t._getSortedDatasetMetas(e);let i,s;for(i=0,s=r.length;i<s;++i)n.push(r[i].index);return n}function R5(t,e,n,r={}){const i=t.keys,s="single"===r.mode;let o,a,c,l;if(null!==e){for(o=0,a=i.length;o<a;++o){if(c=+i[o],c===n){if(r.all)continue;break}l=t.values[c],At(l)&&(s||0===e||Qi(e)===Qi(l))&&(e+=l)}return e}}function O5(t,e){const n=t&&t.options.stacked;return n||void 0===n&&void 0!==e.stack}function abe(t,e,n){const r=t[e]||(t[e]={});return r[n]||(r[n]={})}function N5(t,e,n,r){for(const i of e.getMatchingVisibleMetas(r).reverse()){const s=t[i.index];if(n&&s>0||!n&&s<0)return i.index}return null}function L5(t,e){const{chart:n,_cachedMeta:r}=t,i=n._stacks||(n._stacks={}),{iScale:s,vScale:o,index:a}=r,c=s.axis,l=o.axis,u=function sbe(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}(s,o,r),d=e.length;let h;for(let f=0;f<d;++f){const p=e[f],{[c]:g,[l]:m}=p;h=(p._stacks||(p._stacks={}))[l]=abe(i,u,g),h[a]=m,h._top=N5(h,o,!0,r.type),h._bottom=N5(h,o,!1,r.type),(h._visualValues||(h._visualValues={}))[a]=m}}function nk(t,e){const n=t.scales;return Object.keys(n).filter(r=>n[r].axis===e).shift()}function Qf(t,e){const n=t.controller.index,r=t.vScale&&t.vScale.axis;if(r){e=e||t._parsed;for(const i of e){const s=i._stacks;if(!s||void 0===s[r]||void 0===s[r][n])return;delete s[r][n],void 0!==s[r]._visualValues&&void 0!==s[r]._visualValues[n]&&delete s[r]._visualValues[n]}}}const rk=t=>"reset"===t||"none"===t,F5=(t,e)=>e?t:Object.assign({},t);let Go=(()=>class t{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(n,r){this.chart=n,this._ctx=n.ctx,this.index=r,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const n=this._cachedMeta;this.configure(),this.linkScales(),n._stacked=O5(n.vScale,n),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(n){this.index!==n&&Qf(this._cachedMeta),this.index=n}linkScales(){const n=this.chart,r=this._cachedMeta,i=this.getDataset(),s=(h,f,p,g)=>"x"===h?f:"r"===h?g:p,o=r.xAxisID=we(i.xAxisID,nk(n,"x")),a=r.yAxisID=we(i.yAxisID,nk(n,"y")),c=r.rAxisID=we(i.rAxisID,nk(n,"r")),l=r.indexAxis,u=r.iAxisID=s(l,o,a,c),d=r.vAxisID=s(l,a,o,c);r.xScale=this.getScaleForId(o),r.yScale=this.getScaleForId(a),r.rScale=this.getScaleForId(c),r.iScale=this.getScaleForId(u),r.vScale=this.getScaleForId(d)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(n){return this.chart.scales[n]}_getOtherScale(n){const r=this._cachedMeta;return n===r.iScale?r.vScale:r.iScale}reset(){this._update("reset")}_destroy(){const n=this._cachedMeta;this._data&&Q3(this._data,this),n._stacked&&Qf(n)}_dataCheck(){const n=this.getDataset(),r=n.data||(n.data=[]),i=this._data;if(Se(r))this._data=function ibe(t){const e=Object.keys(t),n=new Array(e.length);let r,i,s;for(r=0,i=e.length;r<i;++r)s=e[r],n[r]={x:s,y:t[s]};return n}(r);else if(i!==r){if(i){Q3(i,this);const s=this._cachedMeta;Qf(s),s._parsed=[]}r&&Object.isExtensible(r)&&function Y_e(t,e){t._chartjs?t._chartjs.listeners.push(e):(Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),Z3.forEach(n=>{const r="_onData"+UM(n),i=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...s){const o=i.apply(this,s);return t._chartjs.listeners.forEach(a=>{"function"==typeof a[r]&&a[r](...s)}),o}})}))}(r,this),this._syncList=[],this._data=r}}addElements(){const n=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(n.dataset=new this.datasetElementType)}buildOrUpdateElements(n){const r=this._cachedMeta,i=this.getDataset();let s=!1;this._dataCheck();const o=r._stacked;r._stacked=O5(r.vScale,r),r.stack!==i.stack&&(s=!0,Qf(r),r.stack=i.stack),this._resyncElements(n),(s||o!==r._stacked)&&L5(this,r._parsed)}configure(){const n=this.chart.config,r=n.datasetScopeKeys(this._type),i=n.getOptionScopes(this.getDataset(),r,!0);this.options=n.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(n,r){const{_cachedMeta:i,_data:s}=this,{iScale:o,_stacked:a}=i,c=o.axis;let d,h,f,l=0===n&&r===s.length||i._sorted,u=n>0&&i._parsed[n-1];if(!1===this._parsing)i._parsed=s,i._sorted=!0,f=s;else{f=ut(s[n])?this.parseArrayData(i,s,n,r):Se(s[n])?this.parseObjectData(i,s,n,r):this.parsePrimitiveData(i,s,n,r);const p=()=>null===h[c]||u&&h[c]<u[c];for(d=0;d<r;++d)i._parsed[d+n]=h=f[d],l&&(p()&&(l=!1),u=h);i._sorted=l}a&&L5(this,f)}parsePrimitiveData(n,r,i,s){const{iScale:o,vScale:a}=n,c=o.axis,l=a.axis,u=o.getLabels(),d=o===a,h=new Array(s);let f,p,g;for(f=0,p=s;f<p;++f)g=f+i,h[f]={[c]:d||o.parse(u[g],g),[l]:a.parse(r[g],g)};return h}parseArrayData(n,r,i,s){const{xScale:o,yScale:a}=n,c=new Array(s);let l,u,d,h;for(l=0,u=s;l<u;++l)d=l+i,h=r[d],c[l]={x:o.parse(h[0],d),y:a.parse(h[1],d)};return c}parseObjectData(n,r,i,s){const{xScale:o,yScale:a}=n,{xAxisKey:c="x",yAxisKey:l="y"}=this._parsing,u=new Array(s);let d,h,f,p;for(d=0,h=s;d<h;++d)f=d+i,p=r[f],u[d]={x:o.parse(jo(p,c),f),y:a.parse(jo(p,l),f)};return u}getParsed(n){return this._cachedMeta._parsed[n]}getDataElement(n){return this._cachedMeta.data[n]}applyStack(n,r,i){const o=this._cachedMeta,a=r[n.axis];return R5({keys:P5(this.chart,!0),values:r._stacks[n.axis]._visualValues},a,o.index,{mode:i})}updateRangeFromParsed(n,r,i,s){const o=i[r.axis];let a=null===o?NaN:o;const c=s&&i._stacks[r.axis];s&&c&&(s.values=c,a=R5(s,o,this._cachedMeta.index)),n.min=Math.min(n.min,a),n.max=Math.max(n.max,a)}getMinMax(n,r){const i=this._cachedMeta,s=i._parsed,o=i._sorted&&n===i.iScale,a=s.length,c=this._getOtherScale(n),l=((t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:P5(this.chart,!0),values:null})(r,i),u={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:d,max:h}=function obe(t){const{min:e,max:n,minDefined:r,maxDefined:i}=t.getUserBounds();return{min:r?e:Number.NEGATIVE_INFINITY,max:i?n:Number.POSITIVE_INFINITY}}(c);let f,p;function g(){p=s[f];const m=p[c.axis];return!At(p[n.axis])||d>m||h<m}for(f=0;f<a&&(g()||(this.updateRangeFromParsed(u,n,p,l),!o));++f);if(o)for(f=a-1;f>=0;--f)if(!g()){this.updateRangeFromParsed(u,n,p,l);break}return u}getAllParsedValues(n){const r=this._cachedMeta._parsed,i=[];let s,o,a;for(s=0,o=r.length;s<o;++s)a=r[s][n.axis],At(a)&&i.push(a);return i}getMaxOverflow(){return!1}getLabelAndValue(n){const r=this._cachedMeta,i=r.iScale,s=r.vScale,o=this.getParsed(n);return{label:i?""+i.getLabelForValue(o[i.axis]):"",value:s?""+s.getLabelForValue(o[s.axis]):""}}_update(n){const r=this._cachedMeta;this.update(n||"default"),r._clip=function rbe(t){let e,n,r,i;return Se(t)?(e=t.top,n=t.right,r=t.bottom,i=t.left):e=n=r=i=t,{top:e,right:n,bottom:r,left:i,disabled:!1===t}}(we(this.options.clip,function nbe(t,e,n){if(!1===n)return!1;const r=k5(t,n),i=k5(e,n);return{top:i.end,right:r.end,bottom:i.start,left:r.start}}(r.xScale,r.yScale,this.getMaxOverflow())))}update(n){}draw(){const n=this._ctx,i=this._cachedMeta,s=i.data||[],o=this.chart.chartArea,a=[],c=this._drawStart||0,l=this._drawCount||s.length-c,u=this.options.drawActiveElementsOnTop;let d;for(i.dataset&&i.dataset.draw(n,o,c,l),d=c;d<c+l;++d){const h=s[d];h.hidden||(h.active&&u?a.push(h):h.draw(n,o))}for(d=0;d<a.length;++d)a[d].draw(n,o)}getStyle(n,r){const i=r?"active":"default";return void 0===n&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(n||0,i)}getContext(n,r,i){const s=this.getDataset();let o;if(n>=0&&n<this._cachedMeta.data.length){const a=this._cachedMeta.data[n];o=a.$context||(a.$context=function lbe(t,e,n){return zo(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}(this.getContext(),n,a)),o.parsed=this.getParsed(n),o.raw=s.data[n],o.index=o.dataIndex=n}else o=this.$context||(this.$context=function cbe(t,e){return zo(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}(this.chart.getContext(),this.index)),o.dataset=s,o.index=o.datasetIndex=this.index;return o.active=!!r,o.mode=i,o}resolveDatasetElementOptions(n){return this._resolveElementOptions(this.datasetElementType.id,n)}resolveDataElementOptions(n,r){return this._resolveElementOptions(this.dataElementType.id,r,n)}_resolveElementOptions(n,r="default",i){const s="active"===r,o=this._cachedDataOpts,a=n+"-"+r,c=o[a],l=this.enableOptionSharing&&Hf(i);if(c)return F5(c,l);const u=this.chart.config,d=u.datasetElementScopeKeys(this._type,n),h=s?[`${n}Hover`,"hover",n,""]:[n,""],f=u.getOptionScopes(this.getDataset(),d),p=Object.keys(Mt.elements[n]),m=u.resolveNamedOptions(f,p,()=>this.getContext(i,s,r),h);return m.$shared&&(m.$shared=l,o[a]=Object.freeze(F5(m,l))),m}_resolveAnimations(n,r,i){const s=this.chart,o=this._cachedDataOpts,a=`animation-${r}`,c=o[a];if(c)return c;let l;if(!1!==s.options.animation){const d=this.chart.config,h=d.datasetAnimationScopeKeys(this._type,r),f=d.getOptionScopes(this.getDataset(),h);l=d.createResolver(f,this.getContext(n,i,r))}const u=new M5(s,l&&l.animations);return l&&l._cacheable&&(o[a]=Object.freeze(u)),u}getSharedOptions(n){if(n.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},n))}includeOptions(n,r){return!r||rk(n)||this.chart._animationsDisabled}_getSharedOptions(n,r){const i=this.resolveDataElementOptions(n,r),s=this._sharedOptions,o=this.getSharedOptions(i),a=this.includeOptions(r,o)||o!==s;return this.updateSharedOptions(o,r,i),{sharedOptions:o,includeOptions:a}}updateElement(n,r,i,s){rk(s)?Object.assign(n,i):this._resolveAnimations(r,s).update(n,i)}updateSharedOptions(n,r,i){n&&!rk(r)&&this._resolveAnimations(void 0,r).update(n,i)}_setStyle(n,r,i,s){n.active=s;const o=this.getStyle(r,s);this._resolveAnimations(r,i,s).update(n,{options:!s&&this.getSharedOptions(o)||o})}removeHoverStyle(n,r,i){this._setStyle(n,i,"active",!1)}setHoverStyle(n,r,i){this._setStyle(n,i,"active",!0)}_removeDatasetHoverStyle(){const n=this._cachedMeta.dataset;n&&this._setStyle(n,void 0,"active",!1)}_setDatasetHoverStyle(){const n=this._cachedMeta.dataset;n&&this._setStyle(n,void 0,"active",!0)}_resyncElements(n){const r=this._data,i=this._cachedMeta.data;for(const[c,l,u]of this._syncList)this[c](l,u);this._syncList=[];const s=i.length,o=r.length,a=Math.min(o,s);a&&this.parse(0,a),o>s?this._insertElements(s,o-s,n):o<s&&this._removeElements(o,s-o)}_insertElements(n,r,i=!0){const s=this._cachedMeta,o=s.data,a=n+r;let c;const l=u=>{for(u.length+=r,c=u.length-1;c>=a;c--)u[c]=u[c-r]};for(l(o),c=n;c<a;++c)o[c]=new this.dataElementType;this._parsing&&l(s._parsed),this.parse(n,r),i&&this.updateElements(o,n,r,"reset")}updateElements(n,r,i,s){}_removeElements(n,r){const i=this._cachedMeta;if(this._parsing){const s=i._parsed.splice(n,r);i._stacked&&Qf(i,s)}i.data.splice(n,r)}_sync(n){if(this._parsing)this._syncList.push(n);else{const[r,i,s]=n;this[r](i,s)}this.chart._dataChanges.push([this.index,...n])}_onDataPush(){const n=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-n,n])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(n,r){r&&this._sync(["_removeElements",n,r]);const i=arguments.length-2;i&&this._sync(["_insertElements",n,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}})();function hbe(t){const e=t.iScale,n=function dbe(t,e){if(!t._cache.$bar){const n=t.getMatchingVisibleMetas(e);let r=[];for(let i=0,s=n.length;i<s;i++)r=r.concat(n[i].controller.getAllParsedValues(t));t._cache.$bar=X3(r.sort((i,s)=>i-s))}return t._cache.$bar}(e,t.type);let i,s,o,a,r=e._length;const c=()=>{32767===o||-32768===o||(Hf(a)&&(r=Math.min(r,Math.abs(o-a)||r)),a=o)};for(i=0,s=n.length;i<s;++i)o=e.getPixelForValue(n[i]),c();for(a=void 0,i=0,s=e.ticks.length;i<s;++i)o=e.getPixelForTick(i),c();return r}function B5(t,e,n,r){return ut(t)?function gbe(t,e,n,r){const i=n.parse(t[0],r),s=n.parse(t[1],r),o=Math.min(i,s),a=Math.max(i,s);let c=o,l=a;Math.abs(o)>Math.abs(a)&&(c=a,l=o),e[n.axis]=l,e._custom={barStart:c,barEnd:l,start:i,end:s,min:o,max:a}}(t,e,n,r):e[n.axis]=n.parse(t,r),e}function V5(t,e,n,r){const i=t.iScale,s=t.vScale,o=i.getLabels(),a=i===s,c=[];let l,u,d,h;for(l=n,u=n+r;l<u;++l)h=e[l],d={},d[i.axis]=a||i.parse(o[l],l),c.push(B5(h,d,s,l));return c}function ik(t){return t&&void 0!==t.barStart&&void 0!==t.barEnd}function _be(t,e,n,r){let i=e.borderSkipped;const s={};if(!i)return void(t.borderSkipped=s);if(!0===i)return void(t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0});const{start:o,end:a,reverse:c,top:l,bottom:u}=function ybe(t){let e,n,r,i,s;return t.horizontal?(e=t.base>t.x,n="left",r="right"):(e=t.base<t.y,n="bottom",r="top"),e?(i="end",s="start"):(i="start",s="end"),{start:n,end:r,reverse:e,top:i,bottom:s}}(t);"middle"===i&&n&&(t.enableBorderRadius=!0,(n._top||0)===r?i=l:(n._bottom||0)===r?i=u:(s[U5(u,o,a,c)]=!0,i=l)),s[U5(i,o,a,c)]=!0,t.borderSkipped=s}function U5(t,e,n,r){return r?(t=function vbe(t,e,n){return t===e?n:t===n?e:t}(t,e,n),t=j5(t,n,e)):t=j5(t,e,n),t}function j5(t,e,n){return"start"===t?e:"end"===t?n:t}function bbe(t,{inflateAmount:e},n){t.inflateAmount="auto"===e?1===n?.33:0:e}let wbe=(()=>class t extends Go{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(n,r,i,s){return V5(n,r,i,s)}parseArrayData(n,r,i,s){return V5(n,r,i,s)}parseObjectData(n,r,i,s){const{iScale:o,vScale:a}=n,{xAxisKey:c="x",yAxisKey:l="y"}=this._parsing,u="x"===o.axis?c:l,d="x"===a.axis?c:l,h=[];let f,p,g,m;for(f=i,p=i+s;f<p;++f)m=r[f],g={},g[o.axis]=o.parse(jo(m,u),f),h.push(B5(jo(m,d),g,a,f));return h}updateRangeFromParsed(n,r,i,s){super.updateRangeFromParsed(n,r,i,s);const o=i._custom;o&&r===this._cachedMeta.vScale&&(n.min=Math.min(n.min,o.min),n.max=Math.max(n.max,o.max))}getMaxOverflow(){return 0}getLabelAndValue(n){const r=this._cachedMeta,{iScale:i,vScale:s}=r,o=this.getParsed(n),a=o._custom,c=ik(a)?"["+a.start+", "+a.end+"]":""+s.getLabelForValue(o[s.axis]);return{label:""+i.getLabelForValue(o[i.axis]),value:c}}initialize(){this.enableOptionSharing=!0,super.initialize(),this._cachedMeta.stack=this.getDataset().stack}update(n){const r=this._cachedMeta;this.updateElements(r.data,0,r.data.length,n)}updateElements(n,r,i,s){const o="reset"===s,{index:a,_cachedMeta:{vScale:c}}=this,l=c.getBasePixel(),u=c.isHorizontal(),d=this._getRuler(),{sharedOptions:h,includeOptions:f}=this._getSharedOptions(r,s);for(let p=r;p<r+i;p++){const g=this.getParsed(p),m=o||Le(g[c.axis])?{base:l,head:l}:this._calculateBarValuePixels(p),_=this._calculateBarIndexPixels(p,d),y=(g._stacks||{})[c.axis],v={horizontal:u,base:m.base,enableBorderRadius:!y||ik(g._custom)||a===y._top||a===y._bottom,x:u?m.head:_.center,y:u?_.center:m.head,height:u?_.size:Math.abs(m.size),width:u?Math.abs(m.size):_.size};f&&(v.options=h||this.resolveDataElementOptions(p,n[p].active?"active":s));const I=v.options||n[p].options;_be(v,I,y,a),bbe(v,I,d.ratio),this.updateElement(n[p],p,v,s)}}_getStacks(n,r){const{iScale:i}=this._cachedMeta,s=i.getMatchingVisibleMetas(this._type).filter(l=>l.controller.options.grouped),o=i.options.stacked,a=[],c=l=>{const u=l.controller.getParsed(r),d=u&&u[l.vScale.axis];if(Le(d)||isNaN(d))return!0};for(const l of s)if((void 0===r||!c(l))&&((!1===o||-1===a.indexOf(l.stack)||void 0===o&&void 0===l.stack)&&a.push(l.stack),l.index===n))break;return a.length||a.push(void 0),a}_getStackCount(n){return this._getStacks(void 0,n).length}_getStackIndex(n,r,i){const s=this._getStacks(n,i),o=void 0!==r?s.indexOf(r):-1;return-1===o?s.length-1:o}_getRuler(){const n=this.options,r=this._cachedMeta,i=r.iScale,s=[];let o,a;for(o=0,a=r.data.length;o<a;++o)s.push(i.getPixelForValue(this.getParsed(o)[i.axis],o));const c=n.barThickness;return{min:c||hbe(r),pixels:s,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:n.grouped,ratio:c?1:n.categoryPercentage*n.barPercentage}}_calculateBarValuePixels(n){const{_cachedMeta:{vScale:r,_stacked:i,index:s},options:{base:o,minBarLength:a}}=this,c=o||0,l=this.getParsed(n),u=l._custom,d=ik(u);let g,m,h=l[r.axis],f=0,p=i?this.applyStack(r,l,i):h;p!==h&&(f=p-h,p=h),d&&(h=u.barStart,p=u.barEnd-u.barStart,0!==h&&Qi(h)!==Qi(u.barEnd)&&(f=0),f+=h);const _=Le(o)||d?f:o;let y=r.getPixelForValue(_);if(g=this.chart.getDataVisibility(n)?r.getPixelForValue(f+p):y,m=g-y,Math.abs(m)<a){m=function mbe(t,e,n){return 0!==t?Qi(t):(e.isHorizontal()?1:-1)*(e.min>=n?1:-1)}(m,r,c)*a,h===c&&(y-=m/2);const v=r.getPixelForDecimal(0),I=r.getPixelForDecimal(1),w=Math.min(v,I),T=Math.max(v,I);y=Math.max(Math.min(y,T),w),g=y+m,i&&!d&&(l._stacks[r.axis]._visualValues[s]=r.getValueForPixel(g)-r.getValueForPixel(y))}if(y===r.getPixelForValue(c)){const v=Qi(m)*r.getLineWidthForValue(c)/2;y+=v,m-=v}return{size:m,base:y,head:g,center:g+m/2}}_calculateBarIndexPixels(n,r){const i=r.scale,s=this.options,o=s.skipNull,a=we(s.maxBarThickness,1/0);let c,l;if(r.grouped){const u=o?this._getStackCount(n):r.stackCount,d="flex"===s.barThickness?function pbe(t,e,n,r){const i=e.pixels,s=i[t];let o=t>0?i[t-1]:null,a=t<i.length-1?i[t+1]:null;const c=n.categoryPercentage;null===o&&(o=s-(null===a?e.end-e.start:a-s)),null===a&&(a=s+s-o);const l=s-(s-Math.min(o,a))/2*c;return{chunk:Math.abs(a-o)/2*c/r,ratio:n.barPercentage,start:l}}(n,r,s,u):function fbe(t,e,n,r){const i=n.barThickness;let s,o;return Le(i)?(s=e.min*n.categoryPercentage,o=n.barPercentage):(s=i*r,o=1),{chunk:s/r,ratio:o,start:e.pixels[t]-s/2}}(n,r,s,u),h=this._getStackIndex(this.index,this._cachedMeta.stack,o?n:void 0);c=d.start+d.chunk*h+d.chunk/2,l=Math.min(a,d.chunk*d.ratio)}else c=i.getPixelForValue(this.getParsed(n)[i.axis],n),l=Math.min(a,r.min*r.ratio);return{base:c-l/2,head:c+l/2,center:c,size:l}}draw(){const n=this._cachedMeta,r=n.vScale,i=n.data,s=i.length;let o=0;for(;o<s;++o)null!==this.getParsed(o)[r.axis]&&i[o].draw(this._ctx)}})(),Ibe=(()=>class t extends Go{static id="bubble";static defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};static overrides={scales:{x:{type:"linear"},y:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(n,r,i,s){const o=super.parsePrimitiveData(n,r,i,s);for(let a=0;a<o.length;a++)o[a]._custom=this.resolveDataElementOptions(a+i).radius;return o}parseArrayData(n,r,i,s){const o=super.parseArrayData(n,r,i,s);for(let a=0;a<o.length;a++)o[a]._custom=we(r[i+a][2],this.resolveDataElementOptions(a+i).radius);return o}parseObjectData(n,r,i,s){const o=super.parseObjectData(n,r,i,s);for(let a=0;a<o.length;a++){const c=r[i+a];o[a]._custom=we(c&&c.r&&+c.r,this.resolveDataElementOptions(a+i).radius)}return o}getMaxOverflow(){const n=this._cachedMeta.data;let r=0;for(let i=n.length-1;i>=0;--i)r=Math.max(r,n[i].size(this.resolveDataElementOptions(i))/2);return r>0&&r}getLabelAndValue(n){const r=this._cachedMeta,i=this.chart.data.labels||[],{xScale:s,yScale:o}=r,a=this.getParsed(n),c=s.getLabelForValue(a.x),l=o.getLabelForValue(a.y),u=a._custom;return{label:i[n]||"",value:"("+c+", "+l+(u?", "+u:"")+")"}}update(n){const r=this._cachedMeta.data;this.updateElements(r,0,r.length,n)}updateElements(n,r,i,s){const o="reset"===s,{iScale:a,vScale:c}=this._cachedMeta,{sharedOptions:l,includeOptions:u}=this._getSharedOptions(r,s),d=a.axis,h=c.axis;for(let f=r;f<r+i;f++){const p=n[f],g=!o&&this.getParsed(f),m={},_=m[d]=o?a.getPixelForDecimal(.5):a.getPixelForValue(g[d]),y=m[h]=o?c.getBasePixel():c.getPixelForValue(g[h]);m.skip=isNaN(_)||isNaN(y),u&&(m.options=l||this.resolveDataElementOptions(f,p.active?"active":s),o&&(m.options.radius=0)),this.updateElement(p,f,m,s)}}resolveDataElementOptions(n,r){const i=this.getParsed(n);let s=super.resolveDataElementOptions(n,r);s.$shared&&(s=Object.assign({},s,{$shared:!1}));const o=s.radius;return"active"!==r&&(s.radius=0),s.radius+=we(i&&i._custom,o),s}})(),sk=(()=>class t extends Go{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:n=>"spacing"!==n,_indexable:n=>"spacing"!==n&&!n.startsWith("borderDash")&&!n.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(n){const r=n.data;if(r.labels.length&&r.datasets.length){const{labels:{pointStyle:i,color:s}}=n.legend.options;return r.labels.map((o,a)=>{const l=n.getDatasetMeta(0).controller.getStyle(a);return{text:o,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:s,lineWidth:l.borderWidth,pointStyle:i,hidden:!n.getDataVisibility(a),index:a}})}return[]}},onClick(n,r,i){i.chart.toggleDataVisibility(r.index),i.chart.update()}}}};constructor(n,r){super(n,r),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(n,r){const i=this.getDataset().data,s=this._cachedMeta;if(!1===this._parsing)s._parsed=i;else{let a,c,o=l=>+i[l];if(Se(i[n])){const{key:l="value"}=this._parsing;o=u=>+jo(i[u],l)}for(a=n,c=n+r;a<c;++a)s._parsed[a]=o(a)}}_getRotation(){return _i(this.options.rotation-90)}_getCircumference(){return _i(this.options.circumference)}_getRotationExtents(){let n=ht,r=-ht;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)&&this.chart.getDatasetMeta(i).type===this._type){const s=this.chart.getDatasetMeta(i).controller,o=s._getRotation(),a=s._getCircumference();n=Math.min(n,o),r=Math.max(r,o+a)}return{rotation:n,circumference:r-n}}update(n){const r=this.chart,{chartArea:i}=r,s=this._cachedMeta,o=s.data,a=this.getMaxBorderWidth()+this.getMaxOffset(o)+this.options.spacing,c=Math.max((Math.min(i.width,i.height)-a)/2,0),l=Math.min(((t,e)=>"string"==typeof t&&t.endsWith("%")?parseFloat(t)/100:+t/e)(this.options.cutout,c),1),u=this._getRingWeight(this.index),{circumference:d,rotation:h}=this._getRotationExtents(),{ratioX:f,ratioY:p,offsetX:g,offsetY:m}=function Cbe(t,e,n){let r=1,i=1,s=0,o=0;if(e<ht){const a=t,c=a+e,l=Math.cos(a),u=Math.sin(a),d=Math.cos(c),h=Math.sin(c),f=(v,I,w)=>Gf(v,a,c,!0)?1:Math.max(I,I*n,w,w*n),p=(v,I,w)=>Gf(v,a,c,!0)?-1:Math.min(I,I*n,w,w*n),g=f(0,l,d),m=f(jt,u,h),_=p(dt,l,d),y=p(dt+jt,u,h);r=(g-_)/2,i=(m-y)/2,s=-(g+_)/2,o=-(m+y)/2}return{ratioX:r,ratioY:i,offsetX:s,offsetY:o}}(h,d,l),v=Math.max(Math.min((i.width-a)/f,(i.height-a)/p)/2,0),I=j3(this.options.radius,v),T=(I-Math.max(I*l,0))/this._getVisibleDatasetWeightTotal();this.offsetX=g*I,this.offsetY=m*I,s.total=this.calculateTotal(),this.outerRadius=I-T*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-T*u,0),this.updateElements(o,0,o.length,n)}_circumference(n,r){const i=this.options,s=this._cachedMeta,o=this._getCircumference();return r&&i.animation.animateRotate||!this.chart.getDataVisibility(n)||null===s._parsed[n]||s.data[n].hidden?0:this.calculateCircumference(s._parsed[n]*o/ht)}updateElements(n,r,i,s){const o="reset"===s,a=this.chart,c=a.chartArea,d=(c.left+c.right)/2,h=(c.top+c.bottom)/2,f=o&&a.options.animation.animateScale,p=f?0:this.innerRadius,g=f?0:this.outerRadius,{sharedOptions:m,includeOptions:_}=this._getSharedOptions(r,s);let v,y=this._getRotation();for(v=0;v<r;++v)y+=this._circumference(v,o);for(v=r;v<r+i;++v){const I=this._circumference(v,o),w=n[v],T={x:d+this.offsetX,y:h+this.offsetY,startAngle:y,endAngle:y+I,circumference:I,outerRadius:g,innerRadius:p};_&&(T.options=m||this.resolveDataElementOptions(v,w.active?"active":s)),y+=I,this.updateElement(w,v,T,s)}}calculateTotal(){const n=this._cachedMeta,r=n.data;let s,i=0;for(s=0;s<r.length;s++){const o=n._parsed[s];null!==o&&!isNaN(o)&&this.chart.getDataVisibility(s)&&!r[s].hidden&&(i+=Math.abs(o))}return i}calculateCircumference(n){const r=this._cachedMeta.total;return r>0&&!isNaN(n)?ht*(Math.abs(n)/r):0}getLabelAndValue(n){const i=this.chart,s=i.data.labels||[],o=qf(this._cachedMeta._parsed[n],i.options.locale);return{label:s[n]||"",value:o}}getMaxBorderWidth(n){let r=0;const i=this.chart;let s,o,a,c,l;if(!n)for(s=0,o=i.data.datasets.length;s<o;++s)if(i.isDatasetVisible(s)){a=i.getDatasetMeta(s),n=a.data,c=a.controller;break}if(!n)return 0;for(s=0,o=n.length;s<o;++s)l=c.resolveDataElementOptions(s),"inner"!==l.borderAlign&&(r=Math.max(r,l.borderWidth||0,l.hoverBorderWidth||0));return r}getMaxOffset(n){let r=0;for(let i=0,s=n.length;i<s;++i){const o=this.resolveDataElementOptions(i);r=Math.max(r,o.offset||0,o.hoverOffset||0)}return r}_getRingWeightOffset(n){let r=0;for(let i=0;i<n;++i)this.chart.isDatasetVisible(i)&&(r+=this._getRingWeight(i));return r}_getRingWeight(n){return Math.max(we(this.chart.data.datasets[n].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}})(),Ebe=(()=>class t extends Go{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(n){const r=this._cachedMeta,{dataset:i,data:s=[],_dataset:o}=r,a=this.chart._animationsDisabled;let{start:c,count:l}=t5(r,s,a);this._drawStart=c,this._drawCount=l,n5(r)&&(c=0,l=s.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!o._decimated,i.points=s;const u=this.resolveDatasetElementOptions(n);this.options.showLine||(u.borderWidth=0),u.segment=this.options.segment,this.updateElement(i,void 0,{animated:!a,options:u},n),this.updateElements(s,c,l,n)}updateElements(n,r,i,s){const o="reset"===s,{iScale:a,vScale:c,_stacked:l,_dataset:u}=this._cachedMeta,{sharedOptions:d,includeOptions:h}=this._getSharedOptions(r,s),f=a.axis,p=c.axis,{spanGaps:g,segment:m}=this.options,_=xu(g)?g:Number.POSITIVE_INFINITY,y=this.chart._animationsDisabled||o||"none"===s,v=r+i,I=n.length;let w=r>0&&this.getParsed(r-1);for(let T=0;T<I;++T){const O=n[T],P=y?O:{};if(T<r||T>=v){P.skip=!0;continue}const q=this.getParsed(T),pe=Le(q[p]),ye=P[f]=a.getPixelForValue(q[f],T),xe=P[p]=o||pe?c.getBasePixel():c.getPixelForValue(l?this.applyStack(c,q,l):q[p],T);P.skip=isNaN(ye)||isNaN(xe)||pe,P.stop=T>0&&Math.abs(q[f]-w[f])>_,m&&(P.parsed=q,P.raw=u.data[T]),h&&(P.options=d||this.resolveDataElementOptions(T,O.active?"active":s)),y||this.updateElement(O,T,P,s),w=q}}getMaxOverflow(){const n=this._cachedMeta,r=n.dataset,i=r.options&&r.options.borderWidth||0,s=n.data||[];if(!s.length)return i;const o=s[0].size(this.resolveDataElementOptions(0)),a=s[s.length-1].size(this.resolveDataElementOptions(s.length-1));return Math.max(i,o,a)/2}draw(){const n=this._cachedMeta;n.dataset.updateControlPoints(this.chart.chartArea,n.iScale.axis),super.draw()}})(),$5=(()=>class t extends Go{static id="polarArea";static defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(n){const r=n.data;if(r.labels.length&&r.datasets.length){const{labels:{pointStyle:i,color:s}}=n.legend.options;return r.labels.map((o,a)=>{const l=n.getDatasetMeta(0).controller.getStyle(a);return{text:o,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:s,lineWidth:l.borderWidth,pointStyle:i,hidden:!n.getDataVisibility(a),index:a}})}return[]}},onClick(n,r,i){i.chart.toggleDataVisibility(r.index),i.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};constructor(n,r){super(n,r),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(n){const i=this.chart,s=i.data.labels||[],o=qf(this._cachedMeta._parsed[n].r,i.options.locale);return{label:s[n]||"",value:o}}parseObjectData(n,r,i,s){return y5.bind(this)(n,r,i,s)}update(n){const r=this._cachedMeta.data;this._updateRadius(),this.updateElements(r,0,r.length,n)}getMinMax(){const r={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return this._cachedMeta.data.forEach((i,s)=>{const o=this.getParsed(s).r;!isNaN(o)&&this.chart.getDataVisibility(s)&&(o<r.min&&(r.min=o),o>r.max&&(r.max=o))}),r}_updateRadius(){const n=this.chart,r=n.chartArea,i=n.options,s=Math.min(r.right-r.left,r.bottom-r.top),o=Math.max(s/2,0),c=(o-Math.max(i.cutoutPercentage?o/100*i.cutoutPercentage:1,0))/n.getVisibleDatasetCount();this.outerRadius=o-c*this.index,this.innerRadius=this.outerRadius-c}updateElements(n,r,i,s){const o="reset"===s,a=this.chart,l=a.options.animation,u=this._cachedMeta.rScale,d=u.xCenter,h=u.yCenter,f=u.getIndexAngle(0)-.5*dt;let g,p=f;const m=360/this.countVisibleElements();for(g=0;g<r;++g)p+=this._computeAngle(g,s,m);for(g=r;g<r+i;g++){const _=n[g];let y=p,v=p+this._computeAngle(g,s,m),I=a.getDataVisibility(g)?u.getDistanceFromCenterForValue(this.getParsed(g).r):0;p=v,o&&(l.animateScale&&(I=0),l.animateRotate&&(y=v=f));const w={x:d,y:h,innerRadius:0,outerRadius:I,startAngle:y,endAngle:v,options:this.resolveDataElementOptions(g,_.active?"active":s)};this.updateElement(_,g,w,s)}}countVisibleElements(){let r=0;return this._cachedMeta.data.forEach((i,s)=>{!isNaN(this.getParsed(s).r)&&this.chart.getDataVisibility(s)&&r++}),r}_computeAngle(n,r,i){return this.chart.getDataVisibility(n)?_i(this.resolveDataElementOptions(n,r).angle||i):0}})();var Tbe=Object.freeze({__proto__:null,BarController:wbe,BubbleController:Ibe,DoughnutController:sk,LineController:Ebe,PieController:(()=>class t extends sk{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}})(),PolarAreaController:$5,RadarController:(()=>class t extends Go{static id="radar";static defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};static overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};getLabelAndValue(n){const r=this._cachedMeta.vScale,i=this.getParsed(n);return{label:r.getLabels()[n],value:""+r.getLabelForValue(i[r.axis])}}parseObjectData(n,r,i,s){return y5.bind(this)(n,r,i,s)}update(n){const r=this._cachedMeta,i=r.dataset,s=r.data||[],o=r.iScale.getLabels();if(i.points=s,"resize"!==n){const a=this.resolveDatasetElementOptions(n);this.options.showLine||(a.borderWidth=0),this.updateElement(i,void 0,{_loop:!0,_fullLoop:o.length===s.length,options:a},n)}this.updateElements(s,0,s.length,n)}updateElements(n,r,i,s){const o=this._cachedMeta.rScale,a="reset"===s;for(let c=r;c<r+i;c++){const l=n[c],u=this.resolveDataElementOptions(c,l.active?"active":s),d=o.getPointPositionForValue(c,this.getParsed(c).r),h=a?o.xCenter:d.x,f=a?o.yCenter:d.y,p={x:h,y:f,angle:d.angle,skip:isNaN(h)||isNaN(f),options:u};this.updateElement(l,c,p,s)}}})(),ScatterController:(()=>class t extends Go{static id="scatter";static defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1};static overrides={interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}};getLabelAndValue(n){const r=this._cachedMeta,i=this.chart.data.labels||[],{xScale:s,yScale:o}=r,a=this.getParsed(n),c=s.getLabelForValue(a.x),l=o.getLabelForValue(a.y);return{label:i[n]||"",value:"("+c+", "+l+")"}}update(n){const r=this._cachedMeta,{data:i=[]}=r,s=this.chart._animationsDisabled;let{start:o,count:a}=t5(r,i,s);if(this._drawStart=o,this._drawCount=a,n5(r)&&(o=0,a=i.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:c,_dataset:l}=r;c._chart=this.chart,c._datasetIndex=this.index,c._decimated=!!l._decimated,c.points=i;const u=this.resolveDatasetElementOptions(n);u.segment=this.options.segment,this.updateElement(c,void 0,{animated:!s,options:u},n)}else this.datasetElementType&&(delete r.dataset,this.datasetElementType=!1);this.updateElements(i,o,a,n)}addElements(){const{showLine:n}=this.options;!this.datasetElementType&&n&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(n,r,i,s){const o="reset"===s,{iScale:a,vScale:c,_stacked:l,_dataset:u}=this._cachedMeta,d=this.resolveDataElementOptions(r,s),h=this.getSharedOptions(d),f=this.includeOptions(s,h),p=a.axis,g=c.axis,{spanGaps:m,segment:_}=this.options,y=xu(m)?m:Number.POSITIVE_INFINITY,v=this.chart._animationsDisabled||o||"none"===s;let I=r>0&&this.getParsed(r-1);for(let w=r;w<r+i;++w){const T=n[w],O=this.getParsed(w),P=v?T:{},q=Le(O[g]),pe=P[p]=a.getPixelForValue(O[p],w),ye=P[g]=o||q?c.getBasePixel():c.getPixelForValue(l?this.applyStack(c,O,l):O[g],w);P.skip=isNaN(pe)||isNaN(ye)||q,P.stop=w>0&&Math.abs(O[p]-I[p])>y,_&&(P.parsed=O,P.raw=u.data[w]),f&&(P.options=h||this.resolveDataElementOptions(w,T.active?"active":s)),v||this.updateElement(T,w,P,s),I=O}this.updateSharedOptions(h,s,d)}getMaxOverflow(){const n=this._cachedMeta,r=n.data||[];if(!this.options.showLine){let c=0;for(let l=r.length-1;l>=0;--l)c=Math.max(c,r[l].size(this.resolveDataElementOptions(l))/2);return c>0&&c}const i=n.dataset,s=i.options&&i.options.borderWidth||0;if(!r.length)return s;const o=r[0].size(this.resolveDataElementOptions(0)),a=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(s,o,a)/2}})()});function uc(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class ok{static override(e){Object.assign(ok.prototype,e)}options;constructor(e){this.options=e||{}}init(){}formats(){return uc()}parse(){return uc()}format(){return uc()}add(){return uc()}diff(){return uc()}startOf(){return uc()}endOf(){return uc()}}var Dbe__date=ok;function Sbe(t,e,n,r){const{controller:i,data:s,_sorted:o}=t,a=i._cachedMeta.iScale;if(a&&e===a.axis&&"r"!==e&&o&&s.length){const c=a._reversePixels?q_e:Ws;if(!r)return c(s,e,n);if(i._sharedOptions){const l=s[0],u="function"==typeof l.getRange&&l.getRange(e);if(u){const d=c(s,e,n-u),h=c(s,e,n+u);return{lo:d.lo,hi:h.hi}}}}return{lo:0,hi:s.length-1}}function Xf(t,e,n,r,i){const s=t.getSortedVisibleDatasetMetas(),o=n[e];for(let a=0,c=s.length;a<c;++a){const{index:l,data:u}=s[a],{lo:d,hi:h}=Sbe(s[a],e,o,i);for(let f=d;f<=h;++f){const p=u[f];p.skip||r(p,l,f)}}}function ak(t,e,n,r,i){const s=[];return!i&&!t.isPointInArea(e)||Xf(t,n,e,function(a,c,l){!i&&!qs(a,t.chartArea,0)||a.inRange(e.x,e.y,r)&&s.push({element:a,datasetIndex:c,index:l})},!0),s}function ck(t,e,n,r,i,s){return s||t.isPointInArea(e)?"r"!==n||r?function Mbe(t,e,n,r,i,s){let o=[];const a=function xbe(t){const e=-1!==t.indexOf("x"),n=-1!==t.indexOf("y");return function(r,i){const s=e?Math.abs(r.x-i.x):0,o=n?Math.abs(r.y-i.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(o,2))}}(n);let c=Number.POSITIVE_INFINITY;return Xf(t,n,e,function l(u,d,h){const f=u.inRange(e.x,e.y,i);if(r&&!f)return;const p=u.getCenterPoint(i);if(!s&&!t.isPointInArea(p)&&!f)return;const m=a(e,p);m<c?(o=[{element:u,datasetIndex:d,index:h}],c=m):m===c&&o.push({element:u,datasetIndex:d,index:h})}),o}(t,e,n,r,i,s):function Abe(t,e,n,r){let i=[];return Xf(t,n,e,function s(o,a,c){const{startAngle:l,endAngle:u}=o.getProps(["startAngle","endAngle"],r),{angle:d}=Y3(o,{x:e.x,y:e.y});Gf(d,l,u)&&i.push({element:o,datasetIndex:a,index:c})}),i}(t,e,n,i):[]}function H5(t,e,n,r,i){const s=[],o="x"===n?"inXRange":"inYRange";let a=!1;return Xf(t,n,e,(c,l,u)=>{c[o](e[n],i)&&(s.push({element:c,datasetIndex:l,index:u}),a=a||c.inRange(e.x,e.y,i))}),r&&!a?[]:s}var kbe={evaluateInteractionItems:Xf,modes:{index(t,e,n,r){const i=cc(e,t),s=n.axis||"x",o=n.includeInvisible||!1,a=n.intersect?ak(t,i,s,r,o):ck(t,i,s,!1,r,o),c=[];return a.length?(t.getSortedVisibleDatasetMetas().forEach(l=>{const u=a[0].index,d=l.data[u];d&&!d.skip&&c.push({element:d,datasetIndex:l.index,index:u})}),c):[]},dataset(t,e,n,r){const i=cc(e,t),s=n.axis||"xy",o=n.includeInvisible||!1;let a=n.intersect?ak(t,i,s,r,o):ck(t,i,s,!1,r,o);if(a.length>0){const c=a[0].datasetIndex,l=t.getDatasetMeta(c).data;a=[];for(let u=0;u<l.length;++u)a.push({element:l[u],datasetIndex:c,index:u})}return a},point:(t,e,n,r)=>ak(t,cc(e,t),n.axis||"xy",r,n.includeInvisible||!1),nearest:(t,e,n,r)=>ck(t,cc(e,t),n.axis||"xy",n.intersect,r,n.includeInvisible||!1),x:(t,e,n,r)=>H5(t,cc(e,t),"x",n.intersect,r),y:(t,e,n,r)=>H5(t,cc(e,t),"y",n.intersect,r)}};const z5=["left","top","right","bottom"];function Jf(t,e){return t.filter(n=>n.pos===e)}function G5(t,e){return t.filter(n=>-1===z5.indexOf(n.pos)&&n.box.axis===e)}function ep(t,e){return t.sort((n,r)=>{const i=e?r:n,s=e?n:r;return i.weight===s.weight?i.index-s.index:i.weight-s.weight})}function W5(t,e,n,r){return Math.max(t[n],e[n])+Math.max(t[r],e[r])}function q5(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function Lbe(t,e,n,r){const{pos:i,box:s}=n,o=t.maxPadding;if(!Se(i)){n.size&&(t[i]-=n.size);const d=r[n.stack]||{size:0,count:1};d.size=Math.max(d.size,n.horizontal?s.height:s.width),n.size=d.size/d.count,t[i]+=n.size}s.getPadding&&q5(o,s.getPadding());const a=Math.max(0,e.outerWidth-W5(o,t,"left","right")),c=Math.max(0,e.outerHeight-W5(o,t,"top","bottom")),l=a!==t.w,u=c!==t.h;return t.w=a,t.h=c,n.horizontal?{same:l,other:u}:{same:u,other:l}}function Bbe(t,e){const n=e.maxPadding;return function r(i){const s={left:0,top:0,right:0,bottom:0};return i.forEach(o=>{s[o]=Math.max(e[o],n[o])}),s}(t?["left","right"]:["top","bottom"])}function tp(t,e,n,r){const i=[];let s,o,a,c,l,u;for(s=0,o=t.length,l=0;s<o;++s){a=t[s],c=a.box,c.update(a.width||e.w,a.height||e.h,Bbe(a.horizontal,e));const{same:d,other:h}=Lbe(e,n,a,r);l|=d&&i.length,u=u||h,c.fullSize||i.push(a)}return l&&tp(i,e,n,r)||u}function cv(t,e,n,r,i){t.top=n,t.left=e,t.right=e+r,t.bottom=n+i,t.width=r,t.height=i}function K5(t,e,n,r){const i=n.padding;let{x:s,y:o}=e;for(const a of t){const c=a.box,l=r[a.stack]||{count:1,placed:0,weight:1},u=a.stackWeight/l.weight||1;if(a.horizontal){const d=e.w*u,h=l.size||c.height;Hf(l.start)&&(o=l.start),c.fullSize?cv(c,i.left,o,n.outerWidth-i.right-i.left,h):cv(c,e.left+l.placed,o,d,h),l.start=o,l.placed+=d,o=c.bottom}else{const d=e.h*u,h=l.size||c.width;Hf(l.start)&&(s=l.start),c.fullSize?cv(c,s,i.top,h,n.outerHeight-i.bottom-i.top):cv(c,s,e.top+l.placed,h,d),l.start=s,l.placed+=d,s=c.right}}e.x=s,e.y=o}var $n={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;-1!==n&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,r){if(!t)return;const i=jn(t.options.layout.padding),s=Math.max(e-i.width,0),o=Math.max(n-i.height,0),a=function Nbe(t){const e=function Pbe(t){const e=[];let n,r,i,s,o,a;for(n=0,r=(t||[]).length;n<r;++n)i=t[n],({position:s,options:{stack:o,stackWeight:a=1}}=i),e.push({index:n,box:i,pos:s,horizontal:i.isHorizontal(),weight:i.weight,stack:o&&s+o,stackWeight:a});return e}(t),n=ep(e.filter(l=>l.box.fullSize),!0),r=ep(Jf(e,"left"),!0),i=ep(Jf(e,"right")),s=ep(Jf(e,"top"),!0),o=ep(Jf(e,"bottom")),a=G5(e,"x"),c=G5(e,"y");return{fullSize:n,leftAndTop:r.concat(s),rightAndBottom:i.concat(c).concat(o).concat(a),chartArea:Jf(e,"chartArea"),vertical:r.concat(i).concat(c),horizontal:s.concat(o).concat(a)}}(t.boxes),c=a.vertical,l=a.horizontal;We(t.boxes,g=>{"function"==typeof g.beforeLayout&&g.beforeLayout()});const u=c.reduce((g,m)=>m.box.options&&!1===m.box.options.display?g:g+1,0)||1,d=Object.freeze({outerWidth:e,outerHeight:n,padding:i,availableWidth:s,availableHeight:o,vBoxMaxWidth:s/2/u,hBoxMaxHeight:o/2}),h=Object.assign({},i);q5(h,jn(r));const f=Object.assign({maxPadding:h,w:s,h:o,x:i.left,y:i.top},i),p=function Obe(t,e){const n=function Rbe(t){const e={};for(const n of t){const{stack:r,pos:i,stackWeight:s}=n;if(!r||!z5.includes(i))continue;const o=e[r]||(e[r]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=s}return e}(t),{vBoxMaxWidth:r,hBoxMaxHeight:i}=e;let s,o,a;for(s=0,o=t.length;s<o;++s){a=t[s];const{fullSize:c}=a.box,l=n[a.stack],u=l&&a.stackWeight/l.weight;a.horizontal?(a.width=u?u*r:c&&e.availableWidth,a.height=i):(a.width=r,a.height=u?u*i:c&&e.availableHeight)}return n}(c.concat(l),d);tp(a.fullSize,f,d,p),tp(c,f,d,p),tp(l,f,d,p)&&tp(c,f,d,p),function Fbe(t){const e=t.maxPadding;function n(r){const i=Math.max(e[r]-t[r],0);return t[r]+=i,i}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}(f),K5(a.leftAndTop,f,d,p),f.x+=f.w,f.y+=f.h,K5(a.rightAndBottom,f,d,p),t.chartArea={left:f.left,top:f.top,right:f.left+f.w,bottom:f.top+f.h,height:f.h,width:f.w},We(a.chartArea,g=>{const m=g.box;Object.assign(m,t.chartArea),m.update(f.w,f.h,{left:0,top:0,right:0,bottom:0})})}};class Y5{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,r){}removeEventListener(e,n,r){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,r,i){return n=Math.max(0,n||e.width),r=r||e.height,{width:n,height:Math.max(0,i?Math.floor(n/i):r)}}isAttached(e){return!0}updateConfig(e){}}class Vbe extends Y5{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const lv="$chartjs",Ube={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Z5=t=>null===t||""===t,Q5=!!Uve&&{passive:!0};function Hbe(t,e,n){t&&t.canvas&&t.canvas.removeEventListener(e,n,Q5)}function uv(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function Gbe(t,e,n){const r=t.canvas,i=new MutationObserver(s=>{let o=!1;for(const a of s)o=o||uv(a.addedNodes,r),o=o&&!uv(a.removedNodes,r);o&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}function Wbe(t,e,n){const r=t.canvas,i=new MutationObserver(s=>{let o=!1;for(const a of s)o=o||uv(a.removedNodes,r),o=o&&!uv(a.addedNodes,r);o&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}const np=new Map;let X5=0;function J5(){const t=window.devicePixelRatio;t!==X5&&(X5=t,np.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function Ybe(t,e,n){const r=t.canvas,i=r&&tk(r);if(!i)return;const s=e5((a,c)=>{const l=i.clientWidth;n(a,c),l<i.clientWidth&&n()},window),o=new ResizeObserver(a=>{const c=a[0],l=c.contentRect.width,u=c.contentRect.height;0===l&&0===u||s(l,u)});return o.observe(i),function qbe(t,e){np.size||window.addEventListener("resize",J5),np.set(t,e)}(t,s),o}function lk(t,e,n){n&&n.disconnect(),"resize"===e&&function Kbe(t){np.delete(t),np.size||window.removeEventListener("resize",J5)}(t)}function Zbe(t,e,n){const r=t.canvas,i=e5(s=>{null!==t.ctx&&n(function zbe(t,e){const n=Ube[t.type]||t.type,{x:r,y:i}=cc(t,e);return{type:n,chart:e,native:t,x:void 0!==r?r:null,y:void 0!==i?i:null}}(s,t))},t);return function $be(t,e,n){t&&t.addEventListener(e,n,Q5)}(r,e,i),i}class Qbe extends Y5{acquireContext(e,n){const r=e&&e.getContext&&e.getContext("2d");return r&&r.canvas===e?(function jbe(t,e){const n=t.style,r=t.getAttribute("height"),i=t.getAttribute("width");if(t[lv]={initial:{height:r,width:i,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",Z5(i)){const s=b5(t,"width");void 0!==s&&(t.width=s)}if(Z5(r))if(""===t.style.height)t.height=t.width/(e||2);else{const s=b5(t,"height");void 0!==s&&(t.height=s)}}(e,n),r):null}releaseContext(e){const n=e.canvas;if(!n[lv])return!1;const r=n[lv].initial;["height","width"].forEach(s=>{const o=r[s];Le(o)?n.removeAttribute(s):n.setAttribute(s,o)});const i=r.style||{};return Object.keys(i).forEach(s=>{n.style[s]=i[s]}),n.width=n.width,delete n[lv],!0}addEventListener(e,n,r){this.removeEventListener(e,n),(e.$proxies||(e.$proxies={}))[n]=({attach:Gbe,detach:Wbe,resize:Ybe}[n]||Zbe)(e,n,r)}removeEventListener(e,n){const r=e.$proxies||(e.$proxies={}),i=r[n];i&&(({attach:lk,detach:lk,resize:lk}[n]||Hbe)(e,n,i),r[n]=void 0)}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,r,i){return function Vve(t,e,n,r){const i=ov(t),s=ac(i,"margin"),o=sv(i.maxWidth,t,"clientWidth")||X_,a=sv(i.maxHeight,t,"clientHeight")||X_,c=function Bve(t,e,n){let r,i;if(void 0===e||void 0===n){const s=tk(t);if(s){const o=s.getBoundingClientRect(),a=ov(s),c=ac(a,"border","width"),l=ac(a,"padding");e=o.width-l.width-c.width,n=o.height-l.height-c.height,r=sv(a.maxWidth,s,"clientWidth"),i=sv(a.maxHeight,s,"clientHeight")}else e=t.clientWidth,n=t.clientHeight}return{width:e,height:n,maxWidth:r||X_,maxHeight:i||X_}}(t,e,n);let{width:l,height:u}=c;if("content-box"===i.boxSizing){const h=ac(i,"border","width"),f=ac(i,"padding");l-=f.width+h.width,u-=f.height+h.height}return l=Math.max(0,l-s.width),u=Math.max(0,r?l/r:u-s.height),l=av(Math.min(l,o,c.maxWidth)),u=av(Math.min(u,a,c.maxHeight)),l&&!u&&(u=av(l/2)),(void 0!==e||void 0!==n)&&r&&c.height&&u>c.height&&(u=c.height,l=av(Math.floor(u*r))),{width:l,height:u}}(e,n,r,i)}isAttached(e){const n=tk(e);return!(!n||!n.isConnected)}}class Ys{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(e){const{x:n,y:r}=this.getProps(["x","y"],e);return{x:n,y:r}}hasValue(){return xu(this.x)&&xu(this.y)}getProps(e,n){const r=this.$animations;if(!n||!r)return this;const i={};return e.forEach(s=>{i[s]=r[s]&&r[s].active()?r[s]._to:this[s]}),i}}function dv(t,e,n,r,i){const s=we(r,0),o=Math.min(we(i,t.length),t.length);let c,l,u,a=0;for(n=Math.ceil(n),i&&(c=i-r,n=c/Math.floor(c/n)),u=s;u<0;)a++,u=Math.round(s+a*n);for(l=Math.max(s,0);l<o;l++)l===u&&(e.push(t[l]),a++,u=Math.round(s+a*n))}const e6=(t,e,n)=>"top"===e||"left"===e?t[e]+n:t[e]-n,t6=(t,e)=>Math.min(e||t,t);function n6(t,e){const n=[],r=t.length/e,i=t.length;let s=0;for(;s<i;s+=r)n.push(t[Math.floor(s)]);return n}function owe(t,e,n){const r=t.ticks.length,i=Math.min(e,r-1),s=t._startPixel,o=t._endPixel,a=1e-6;let l,c=t.getPixelForTick(i);if(!(n&&(l=1===r?Math.max(c-s,o-c):0===e?(t.getPixelForTick(1)-c)/2:(c-t.getPixelForTick(i-1))/2,c+=i<e?l:-l,c<s-a||c>o+a)))return c}function rp(t){return t.drawTicks?t.tickLength:0}function r6(t,e){if(!t.display)return 0;const n=rn(t.font,e),r=jn(t.padding);return(ut(t.text)?t.text.length:1)*n.lineHeight+r.height}function uwe(t,e,n){let r=zM(t);return(n&&"right"!==e||!n&&"right"===e)&&(r=(t=>"left"===t?"right":"right"===t?"left":t)(r)),r}class dc extends Ys{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:r,_suggestedMax:i}=this;return e=Pr(e,Number.POSITIVE_INFINITY),n=Pr(n,Number.NEGATIVE_INFINITY),r=Pr(r,Number.POSITIVE_INFINITY),i=Pr(i,Number.NEGATIVE_INFINITY),{min:Pr(e,r),max:Pr(n,i),minDefined:At(e),maxDefined:At(n)}}getMinMax(e){let o,{min:n,max:r,minDefined:i,maxDefined:s}=this.getUserBounds();if(i&&s)return{min:n,max:r};const a=this.getMatchingVisibleMetas();for(let c=0,l=a.length;c<l;++c)o=a[c].controller.getMinMax(this,e),i||(n=Math.min(n,o.min)),s||(r=Math.max(r,o.max));return n=s&&n>r?r:n,r=i&&n>r?n:r,{min:Pr(n,Pr(r,n)),max:Pr(r,Pr(n,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){st(this.options.beforeUpdate,[this])}update(e,n,r){const{beginAtZero:i,grace:s,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=r=Object.assign({left:0,right:0,top:0,bottom:0},r),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+r.left+r.right:this.height+r.top+r.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=function yve(t,e,n){const{min:r,max:i}=t,s=j3(e,(i-r)/2),o=(a,c)=>n&&0===a?0:a+c;return{min:o(r,-Math.abs(s)),max:o(i,s)}}(this,s,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const c=a<this.ticks.length;this._convertTicksToLabels(c?n6(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||"auto"===o.source)&&(this.ticks=function Jbe(t,e){const n=t.options.ticks,r=function ewe(t){const e=t.options.offset,n=t._tickSize();return Math.floor(Math.min(t._length/n+(e?0:1),t._maxLength/n))}(t),i=Math.min(n.maxTicksLimit||r,r),s=n.major.enabled?function nwe(t){const e=[];let n,r;for(n=0,r=t.length;n<r;n++)t[n].major&&e.push(n);return e}(e):[],o=s.length,a=s[0],c=s[o-1],l=[];if(o>i)return function rwe(t,e,n,r){let o,i=0,s=n[0];for(r=Math.ceil(r),o=0;o<t.length;o++)o===s&&(e.push(t[o]),i++,s=n[i*r])}(e,l,s,o/i),l;const u=function twe(t,e,n){const r=function iwe(t){const e=t.length;let n,r;if(e<2)return!1;for(r=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==r)return!1;return r}(t),i=e.length/n;if(!r)return Math.max(i,1);const s=function H_e(t){const e=[],n=Math.sqrt(t);let r;for(r=1;r<n;r++)t%r==0&&(e.push(r),e.push(t/r));return n===(0|n)&&e.push(n),e.sort((i,s)=>i-s).pop(),e}(r);for(let o=0,a=s.length-1;o<a;o++){const c=s[o];if(c>i)return c}return Math.max(i,1)}(s,e,i);if(o>0){let d,h;const f=o>1?Math.round((c-a)/(o-1)):null;for(dv(e,l,u,Le(f)?0:a-f,a),d=0,h=o-1;d<h;d++)dv(e,l,u,s[d],s[d+1]);return dv(e,l,u,c,Le(f)?e.length:c+f),l}return dv(e,l,u),l}(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),c&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let n,r,e=this.options.reverse;this.isHorizontal()?(n=this.left,r=this.right):(n=this.top,r=this.bottom,e=!e),this._startPixel=n,this._endPixel=r,this._reversePixels=e,this._length=r-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){st(this.options.afterUpdate,[this])}beforeSetDimensions(){st(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){st(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),st(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){st(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this.options.ticks;let r,i,s;for(r=0,i=e.length;r<i;r++)s=e[r],s.label=st(n.callback,[s.value,r,e],this)}afterTickToLabelConversion(){st(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){st(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,n=e.ticks,r=t6(this.ticks.length,e.ticks.maxTicksLimit),i=n.minRotation||0,s=n.maxRotation;let a,c,l,o=i;if(!this._isVisible()||!n.display||i>=s||r<=1||!this.isHorizontal())return void(this.labelRotation=i);const u=this._getLabelSizes(),d=u.widest.width,h=u.highest.height,f=pn(this.chart.width-d,0,this.maxWidth);a=e.offset?this.maxWidth/r:f/(r-1),d+6>a&&(a=f/(r-(e.offset?.5:1)),c=this.maxHeight-rp(e.grid)-n.padding-r6(e.title,this.chart.options.font),l=Math.sqrt(d*d+h*h),o=jM(Math.min(Math.asin(pn((u.highest.height+6)/a,-1,1)),Math.asin(pn(c/l,-1,1))-Math.asin(pn(h/l,-1,1)))),o=Math.max(i,Math.min(s,o))),this.labelRotation=o}afterCalculateLabelRotation(){st(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){st(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:n,options:{ticks:r,title:i,grid:s}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){const c=r6(i,n.options.font);if(a?(e.width=this.maxWidth,e.height=rp(s)+c):(e.height=this.maxHeight,e.width=rp(s)+c),r.display&&this.ticks.length){const{first:l,last:u,widest:d,highest:h}=this._getLabelSizes(),f=2*r.padding,p=_i(this.labelRotation),g=Math.cos(p),m=Math.sin(p);a?e.height=Math.min(this.maxHeight,e.height+(r.mirror?0:m*d.width+g*h.height)+f):e.width=Math.min(this.maxWidth,e.width+(r.mirror?0:g*d.width+m*h.height)+f),this._calculatePadding(l,u,m,g)}}this._handleMargins(),a?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,r,i){const{ticks:{align:s,padding:o},position:a}=this.options,c=0!==this.labelRotation,l="top"!==a&&"x"===this.axis;if(this.isHorizontal()){const u=this.getPixelForTick(0)-this.left,d=this.right-this.getPixelForTick(this.ticks.length-1);let h=0,f=0;c?l?(h=i*e.width,f=r*n.height):(h=r*e.height,f=i*n.width):"start"===s?f=n.width:"end"===s?h=e.width:"inner"!==s&&(h=e.width/2,f=n.width/2),this.paddingLeft=Math.max((h-u+o)*this.width/(this.width-u),0),this.paddingRight=Math.max((f-d+o)*this.width/(this.width-d),0)}else{let u=n.height/2,d=e.height/2;"start"===s?(u=0,d=e.height):"end"===s&&(u=n.height,d=0),this.paddingTop=u+o,this.paddingBottom=d+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){st(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return"top"===n||"bottom"===n||"x"===e}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){let n,r;for(this.beforeTickToLabelConversion(),this.generateTickLabels(e),n=0,r=e.length;n<r;n++)Le(e[n].label)&&(e.splice(n,1),r--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const n=this.options.ticks.sampleSize;let r=this.ticks;n<r.length&&(r=n6(r,n)),this._labelSizes=e=this._computeLabelSizes(r,r.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,n,r){const{ctx:i,_longestTextCache:s}=this,o=[],a=[],c=Math.floor(n/t6(n,r));let d,h,f,p,g,m,_,y,v,I,w,l=0,u=0;for(d=0;d<n;d+=c){if(p=e[d].label,g=this._resolveTickFontOptions(d),i.font=m=g.string,_=s[m]=s[m]||{data:{},gc:[]},y=g.lineHeight,v=I=0,Le(p)||ut(p)){if(ut(p))for(h=0,f=p.length;h<f;++h)w=p[h],!Le(w)&&!ut(w)&&(v=tv(i,_.data,_.gc,v,w),I+=y)}else v=tv(i,_.data,_.gc,v,p),I=y;o.push(v),a.push(I),l=Math.max(v,l),u=Math.max(I,u)}!function awe(t,e){We(t,n=>{const r=n.gc,i=r.length/2;let s;if(i>e){for(s=0;s<i;++s)delete n.data[r[s]];r.splice(0,i)}})}(s,n);const T=o.indexOf(l),O=a.indexOf(u),P=q=>({width:o[q]||0,height:a[q]||0});return{first:P(0),last:P(n-1),widest:P(T),highest:P(O),widths:o,heights:a}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const n=this._startPixel+e*this._length;return function W_e(t){return pn(t,-32768,32767)}(this._alignToPixels?ic(this.chart,n,0):n)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this.ticks||[];if(e>=0&&e<n.length){const r=n[e];return r.$context||(r.$context=function lwe(t,e,n){return zo(t,{tick:n,index:e,type:"tick"})}(this.getContext(),e,r))}return this.$context||(this.$context=function cwe(t,e){return zo(t,{scale:e,type:"scale"})}(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,n=_i(this.labelRotation),r=Math.abs(Math.cos(n)),i=Math.abs(Math.sin(n)),s=this._getLabelSizes(),o=e.autoSkipPadding||0,a=s?s.widest.width+o:0,c=s?s.highest.height+o:0;return this.isHorizontal()?c*r>a*i?a/r:c/i:c*i<a*r?c/r:a/i}_isVisible(){const e=this.options.display;return"auto"!==e?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this.axis,r=this.chart,i=this.options,{grid:s,position:o,border:a}=i,c=s.offset,l=this.isHorizontal(),d=this.ticks.length+(c?1:0),h=rp(s),f=[],p=a.setContext(this.getContext()),g=p.display?p.width:0,m=g/2,_=function(gt){return ic(r,gt,g)};let y,v,I,w,T,O,P,q,pe,ye,xe,An;if("top"===o)y=_(this.bottom),O=this.bottom-h,q=y-m,ye=_(e.top)+m,An=e.bottom;else if("bottom"===o)y=_(this.top),ye=e.top,An=_(e.bottom)-m,O=y+m,q=this.top+h;else if("left"===o)y=_(this.right),T=this.right-h,P=y-m,pe=_(e.left)+m,xe=e.right;else if("right"===o)y=_(this.left),pe=e.left,xe=_(e.right)-m,T=y+m,P=this.left+h;else if("x"===n){if("center"===o)y=_((e.top+e.bottom)/2+.5);else if(Se(o)){const gt=Object.keys(o)[0];y=_(this.chart.scales[gt].getPixelForValue(o[gt]))}ye=e.top,An=e.bottom,O=y+m,q=O+h}else if("y"===n){if("center"===o)y=_((e.left+e.right)/2);else if(Se(o)){const gt=Object.keys(o)[0];y=_(this.chart.scales[gt].getPixelForValue(o[gt]))}T=y-m,P=T-h,pe=e.left,xe=e.right}const Or=we(i.ticks.maxTicksLimit,d),Ke=Math.max(1,Math.ceil(d/Or));for(v=0;v<d;v+=Ke){const gt=this.getContext(v),$t=s.setContext(gt),vi=a.setContext(gt),Hn=$t.lineWidth,Ru=$t.color,Cv=vi.dash||[],Ou=vi.dashOffset,ap=$t.tickWidth,fc=$t.tickColor,cp=$t.tickBorderDash||[],pc=$t.tickBorderDashOffset;I=owe(this,v,c),void 0!==I&&(w=ic(r,I,Hn),l?T=P=pe=xe=w:O=q=ye=An=w,f.push({tx1:T,ty1:O,tx2:P,ty2:q,x1:pe,y1:ye,x2:xe,y2:An,width:Hn,color:Ru,borderDash:Cv,borderDashOffset:Ou,tickWidth:ap,tickColor:fc,tickBorderDash:cp,tickBorderDashOffset:pc}))}return this._ticksLength=d,this._borderValue=y,f}_computeLabelItems(e){const n=this.axis,r=this.options,{position:i,ticks:s}=r,o=this.isHorizontal(),a=this.ticks,{align:c,crossAlign:l,padding:u,mirror:d}=s,h=rp(r.grid),f=h+u,p=d?-u:f,g=-_i(this.labelRotation),m=[];let _,y,v,I,w,T,O,P,q,pe,ye,xe,An="middle";if("top"===i)T=this.bottom-p,O=this._getXAxisLabelAlignment();else if("bottom"===i)T=this.top+p,O=this._getXAxisLabelAlignment();else if("left"===i){const Ke=this._getYAxisLabelAlignment(h);O=Ke.textAlign,w=Ke.x}else if("right"===i){const Ke=this._getYAxisLabelAlignment(h);O=Ke.textAlign,w=Ke.x}else if("x"===n){if("center"===i)T=(e.top+e.bottom)/2+f;else if(Se(i)){const Ke=Object.keys(i)[0];T=this.chart.scales[Ke].getPixelForValue(i[Ke])+f}O=this._getXAxisLabelAlignment()}else if("y"===n){if("center"===i)w=(e.left+e.right)/2-f;else if(Se(i)){const Ke=Object.keys(i)[0];w=this.chart.scales[Ke].getPixelForValue(i[Ke])}O=this._getYAxisLabelAlignment(h).textAlign}"y"===n&&("start"===c?An="top":"end"===c&&(An="bottom"));const Or=this._getLabelSizes();for(_=0,y=a.length;_<y;++_){v=a[_],I=v.label;const Ke=s.setContext(this.getContext(_));P=this.getPixelForTick(_)+s.labelOffset,q=this._resolveTickFontOptions(_),pe=q.lineHeight,ye=ut(I)?I.length:1;const gt=ye/2,$t=Ke.color,vi=Ke.textStrokeColor,Hn=Ke.textStrokeWidth;let Cv,Ru=O;if(o?(w=P,"inner"===O&&(Ru=_===y-1?this.options.reverse?"left":"right":0===_?this.options.reverse?"right":"left":"center"),xe="top"===i?"near"===l||0!==g?-ye*pe+pe/2:"center"===l?-Or.highest.height/2-gt*pe+pe:pe/2-Or.highest.height:"near"===l||0!==g?pe/2:"center"===l?Or.highest.height/2-gt*pe:Or.highest.height-ye*pe,d&&(xe*=-1),0!==g&&!Ke.showLabelBackdrop&&(w+=pe/2*Math.sin(g))):(T=P,xe=(1-ye)*pe/2),Ke.showLabelBackdrop){const Ou=jn(Ke.backdropPadding),ap=Or.heights[_],fc=Or.widths[_];let cp=xe-Ou.top,pc=0-Ou.left;switch(An){case"middle":cp-=ap/2;break;case"bottom":cp-=ap}switch(O){case"center":pc-=fc/2;break;case"right":pc-=fc;break;case"inner":_===y-1?pc-=fc:_>0&&(pc-=fc/2)}Cv={left:pc,top:cp,width:fc+Ou.width,height:ap+Ou.height,color:Ke.backdropColor}}m.push({label:I,font:q,textOffset:xe,options:{rotation:g,color:$t,strokeColor:vi,strokeWidth:Hn,textAlign:Ru,textBaseline:An,translation:[w,T],backdrop:Cv}})}return m}_getXAxisLabelAlignment(){const{position:e,ticks:n}=this.options;if(-_i(this.labelRotation))return"top"===e?"left":"right";let i="center";return"start"===n.align?i="left":"end"===n.align?i="right":"inner"===n.align&&(i="inner"),i}_getYAxisLabelAlignment(e){const{position:n,ticks:{crossAlign:r,mirror:i,padding:s}}=this.options,a=e+s,c=this._getLabelSizes().widest.width;let l,u;return"left"===n?i?(u=this.right+s,"near"===r?l="left":"center"===r?(l="center",u+=c/2):(l="right",u+=c)):(u=this.right-a,"near"===r?l="right":"center"===r?(l="center",u-=c/2):(l="left",u=this.left)):"right"===n?i?(u=this.left+s,"near"===r?l="right":"center"===r?(l="center",u-=c/2):(l="left",u-=c)):(u=this.left+a,"near"===r?l="left":"center"===r?(l="center",u+=c/2):(l="right",u=this.right)):l="right",{textAlign:l,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,n=this.options.position;return"left"===n||"right"===n?{top:0,left:this.left,bottom:e.height,right:this.right}:"top"===n||"bottom"===n?{top:this.top,left:0,bottom:this.bottom,right:e.width}:void 0}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:r,top:i,width:s,height:o}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(r,i,s,o),e.restore())}getLineWidthForValue(e){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const i=this.ticks.findIndex(s=>s.value===e);return i>=0?n.setContext(this.getContext(i)).lineWidth:0}drawGrid(e){const n=this.options.grid,r=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let s,o;const a=(c,l,u)=>{!u.width||!u.color||(r.save(),r.lineWidth=u.width,r.strokeStyle=u.color,r.setLineDash(u.borderDash||[]),r.lineDashOffset=u.borderDashOffset,r.beginPath(),r.moveTo(c.x,c.y),r.lineTo(l.x,l.y),r.stroke(),r.restore())};if(n.display)for(s=0,o=i.length;s<o;++s){const c=i[s];n.drawOnChartArea&&a({x:c.x1,y:c.y1},{x:c.x2,y:c.y2},c),n.drawTicks&&a({x:c.tx1,y:c.ty1},{x:c.tx2,y:c.ty2},{color:c.tickColor,width:c.tickWidth,borderDash:c.tickBorderDash,borderDashOffset:c.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:n,options:{border:r,grid:i}}=this,s=r.setContext(this.getContext()),o=r.display?s.width:0;if(!o)return;const a=i.setContext(this.getContext(0)).lineWidth,c=this._borderValue;let l,u,d,h;this.isHorizontal()?(l=ic(e,this.left,o)-o/2,u=ic(e,this.right,a)+a/2,d=h=c):(d=ic(e,this.top,o)-o/2,h=ic(e,this.bottom,a)+a/2,l=u=c),n.save(),n.lineWidth=s.width,n.strokeStyle=s.color,n.beginPath(),n.moveTo(l,d),n.lineTo(u,h),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;const r=this.ctx,i=this._computeLabelArea();i&&nv(r,i);const s=this.getLabelItems(e);for(const o of s)sc(r,o.label,0,o.textOffset,o.font,o.options);i&&rv(r)}drawTitle(){const{ctx:e,options:{position:n,title:r,reverse:i}}=this;if(!r.display)return;const s=rn(r.font),o=jn(r.padding),a=r.align;let c=s.lineHeight/2;"bottom"===n||"center"===n||Se(n)?(c+=o.bottom,ut(r.text)&&(c+=s.lineHeight*(r.text.length-1))):c+=o.top;const{titleX:l,titleY:u,maxWidth:d,rotation:h}=function dwe(t,e,n,r){const{top:i,left:s,bottom:o,right:a,chart:c}=t,{chartArea:l,scales:u}=c;let h,f,p,d=0;const g=o-i,m=a-s;if(t.isHorizontal()){if(f=Un(r,s,a),Se(n)){const _=Object.keys(n)[0];p=u[_].getPixelForValue(n[_])+g-e}else p="center"===n?(l.bottom+l.top)/2+g-e:e6(t,n,e);h=a-s}else{if(Se(n)){const _=Object.keys(n)[0];f=u[_].getPixelForValue(n[_])-m+e}else f="center"===n?(l.left+l.right)/2-m+e:e6(t,n,e);p=Un(r,o,i),d="left"===n?-jt:jt}return{titleX:f,titleY:p,maxWidth:h,rotation:d}}(this,c,n,a);sc(e,r.text,0,0,s,{color:r.color,maxWidth:d,rotation:h,textAlign:uwe(a,n,i),textBaseline:"middle",translation:[l,u]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,n=e.ticks&&e.ticks.z||0,r=we(e.grid&&e.grid.z,-1),i=we(e.border&&e.border.z,0);return this._isVisible()&&this.draw===dc.prototype.draw?[{z:r,draw:s=>{this.drawBackground(),this.drawGrid(s),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:n,draw:s=>{this.drawLabels(s)}}]:[{z:n,draw:s=>{this.draw(s)}}]}getMatchingVisibleMetas(e){const n=this.chart.getSortedVisibleDatasetMetas(),r=this.axis+"AxisID",i=[];let s,o;for(s=0,o=n.length;s<o;++s){const a=n[s];a[r]===this.id&&(!e||a.type===e)&&i.push(a)}return i}_resolveTickFontOptions(e){return rn(this.options.ticks.setContext(this.getContext(e)).font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class hv{constructor(e,n,r){this.type=e,this.scope=n,this.override=r,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=Object.getPrototypeOf(e);let r;(function pwe(t){return"id"in t&&"defaults"in t})(n)&&(r=this.register(n));const i=this.items,s=e.id,o=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+e);return s in i||(i[s]=e,function hwe(t,e,n){const r=jf(Object.create(null),[n?Mt.get(n):{},Mt.get(e),t.defaults]);Mt.set(e,r),t.defaultRoutes&&function fwe(t,e){Object.keys(e).forEach(n=>{const r=n.split("."),i=r.pop(),s=[t].concat(r).join("."),o=e[n].split("."),a=o.pop(),c=o.join(".");Mt.route(s,i,c,a)})}(e,t.defaultRoutes),t.descriptors&&Mt.describe(e,t.descriptors)}(e,o,r),this.override&&Mt.override(e.id,e.overrides)),o}get(e){return this.items[e]}unregister(e){const n=this.items,r=e.id,i=this.scope;r in n&&delete n[r],i&&r in Mt[i]&&(delete Mt[i][r],this.override&&delete rc[r])}}class gwe{constructor(){this.controllers=new hv(Go,"datasets",!0),this.elements=new hv(Ys,"elements"),this.plugins=new hv(Object,"plugins"),this.scales=new hv(dc,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,r){[...n].forEach(i=>{const s=r||this._getRegistryForType(i);r||s.isForType(i)||s===this.plugins&&i.id?this._exec(e,s,i):We(i,o=>{const a=r||this._getRegistryForType(o);this._exec(e,a,o)})})}_exec(e,n,r){const i=UM(e);st(r["before"+i],[],r),n[e](r),st(r["after"+i],[],r)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){const r=this._typedRegistries[n];if(r.isForType(e))return r}return this.plugins}_get(e,n,r){const i=n.get(e);if(void 0===i)throw new Error('"'+e+'" is not a registered '+r+".");return i}}var Xi=new gwe;class mwe{constructor(){this._init=[]}notify(e,n,r,i){"beforeInit"===n&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const s=i?this._descriptors(e).filter(i):this._descriptors(e),o=this._notify(s,e,n,r);return"afterDestroy"===n&&(this._notify(s,e,"stop"),this._notify(this._init,e,"uninstall")),o}_notify(e,n,r,i){i=i||{};for(const s of e){const o=s.plugin;if(!1===st(o[r],[n,i,s.options],o)&&i.cancelable)return!1}return!0}invalidate(){Le(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const r=e&&e.config,i=we(r.options&&r.options.plugins,{}),s=function ywe(t){const e={},n=[],r=Object.keys(Xi.plugins.items);for(let s=0;s<r.length;s++)n.push(Xi.getPlugin(r[s]));const i=t.plugins||[];for(let s=0;s<i.length;s++){const o=i[s];-1===n.indexOf(o)&&(n.push(o),e[o.id]=!0)}return{plugins:n,localIds:e}}(r);return!1!==i||n?function vwe(t,{plugins:e,localIds:n},r,i){const s=[],o=t.getContext();for(const a of e){const c=a.id,l=_we(r[c],i);null!==l&&s.push({plugin:a,options:bwe(t.config,{plugin:a,local:n[c]},l,o)})}return s}(e,s,i,n):[]}_notifyStateChanges(e){const n=this._oldCache||[],r=this._cache,i=(s,o)=>s.filter(a=>!o.some(c=>a.plugin.id===c.plugin.id));this._notify(i(n,r),e,"stop"),this._notify(i(r,n),e,"start")}}function _we(t,e){return e||!1!==t?!0===t?{}:t:null}function bwe(t,{plugin:e,local:n},r,i){const s=t.pluginScopeKeys(e),o=t.getOptionScopes(r,s);return n&&e.defaults&&o.push(e.defaults),t.createResolver(o,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function uk(t,e){return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||(Mt.datasets[t]||{}).indexAxis||"x"}function i6(t){if("x"===t||"y"===t||"r"===t)return t}function Cwe(t){return"top"===t||"bottom"===t?"x":"left"===t||"right"===t?"y":void 0}function dk(t,...e){if(i6(t))return t;for(const n of e){const r=n.axis||Cwe(n.position)||t.length>1&&i6(t[0].toLowerCase());if(r)return r}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function s6(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function o6(t){const e=t.options||(t.options={});e.plugins=we(e.plugins,{}),e.scales=function Twe(t,e){const n=rc[t.type]||{scales:{}},r=e.scales||{},i=uk(t.type,e),s=Object.create(null);return Object.keys(r).forEach(o=>{const a=r[o];if(!Se(a))return console.error(`Invalid scale configuration for scale: ${o}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const c=dk(o,a,function Ewe(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter(r=>r.xAxisID===t||r.yAxisID===t);if(n.length)return s6(t,"x",n[0])||s6(t,"y",n[0])}return{}}(o,t),Mt.scales[a.type]),l=function Iwe(t,e){return t===e?"_index_":"_value_"}(c,i),u=n.scales||{};s[o]=$f(Object.create(null),[{axis:c},a,u[c],u[l]])}),t.data.datasets.forEach(o=>{const a=o.type||t.type,c=o.indexAxis||uk(a,e),u=(rc[a]||{}).scales||{};Object.keys(u).forEach(d=>{const h=function wwe(t,e){let n=t;return"_index_"===t?n=e:"_value_"===t&&(n="x"===e?"y":"x"),n}(d,c),f=o[h+"AxisID"]||h;s[f]=s[f]||Object.create(null),$f(s[f],[{axis:h},r[f],u[d]])})}),Object.keys(s).forEach(o=>{const a=s[o];$f(a,[Mt.scales[a.type],Mt.scale])}),s}(t,e)}function a6(t){return(t=t||{}).datasets=t.datasets||[],t.labels=t.labels||[],t}const c6=new Map,l6=new Set;function fv(t,e){let n=c6.get(t);return n||(n=e(),c6.set(t,n),l6.add(n)),n}const ip=(t,e,n)=>{const r=jo(e,n);void 0!==r&&t.add(r)};class Swe{constructor(e){this._config=function Dwe(t){return(t=t||{}).data=a6(t.data),o6(t),t}(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=a6(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),o6(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return fv(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return fv(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return fv(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){const n=e.id;return fv(`${this.type}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const r=this._scopeCache;let i=r.get(e);return(!i||n)&&(i=new Map,r.set(e,i)),i}getOptionScopes(e,n,r){const{options:i,type:s}=this,o=this._cachedScopes(e,r),a=o.get(n);if(a)return a;const c=new Set;n.forEach(u=>{e&&(c.add(e),u.forEach(d=>ip(c,e,d))),u.forEach(d=>ip(c,i,d)),u.forEach(d=>ip(c,rc[s]||{},d)),u.forEach(d=>ip(c,Mt,d)),u.forEach(d=>ip(c,qM,d))});const l=Array.from(c);return 0===l.length&&l.push(Object.create(null)),l6.has(n)&&o.set(n,l),l}chartOptionScopes(){const{options:e,type:n}=this;return[e,rc[n]||{},Mt.datasets[n]||{},{type:n},Mt,qM]}resolveNamedOptions(e,n,r,i=[""]){const s={$shared:!0},{resolver:o,subPrefixes:a}=u6(this._resolverCache,e,i);let c=o;(function Awe(t,e){const{isScriptable:n,isIndexable:r}=d5(t);for(const i of e){const s=n(i),o=r(i),a=(o||s)&&t[i];if(s&&($o(a)||xwe(a))||o&&ut(a))return!0}return!1})(o,n)&&(s.$shared=!1,c=Au(o,r=$o(r)?r():r,this.createResolver(e,r,a)));for(const l of n)s[l]=c[l];return s}createResolver(e,n,r=[""],i){const{resolver:s}=u6(this._resolverCache,e,r);return Se(n)?Au(s,n,void 0,i):s}}function u6(t,e,n){let r=t.get(e);r||(r=new Map,t.set(e,r));const i=n.join();let s=r.get(i);return s||(s={resolver:QM(e,n),subPrefixes:n.filter(a=>!a.toLowerCase().includes("hover"))},r.set(i,s)),s}const xwe=t=>Se(t)&&Object.getOwnPropertyNames(t).some(e=>$o(t[e])),kwe=["top","bottom","left","right","chartArea"];function d6(t,e){return"top"===t||"bottom"===t||-1===kwe.indexOf(t)&&"x"===e}function h6(t,e){return function(n,r){return n[t]===r[t]?n[e]-r[e]:n[t]-r[t]}}function f6(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),st(n&&n.onComplete,[t],e)}function Pwe(t){const e=t.chart,n=e.options.animation;st(n&&n.onProgress,[t],e)}function p6(t){return ek()&&"string"==typeof t?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const pv={},g6=t=>{const e=p6(t);return Object.values(pv).filter(n=>n.canvas===e).pop()};function Rwe(t,e,n){const r=Object.keys(t);for(const i of r){const s=+i;if(s>=e){const o=t[i];delete t[i],(n>0||s>e)&&(t[s+n]=o)}}}function gv(t,e,n){return t.options.clip?t[n]:e[n]}let hk=(()=>class t{static defaults=Mt;static instances=pv;static overrides=rc;static registry=Xi;static version="4.4.2";static getChart=g6;static register(...n){Xi.add(...n),m6()}static unregister(...n){Xi.remove(...n),m6()}constructor(n,r){const i=this.config=new Swe(r),s=p6(n),o=g6(s);if(o)throw new Error("Canvas is already in use. Chart with ID '"+o.id+"' must be destroyed before the canvas with ID '"+o.canvas.id+"' can be reused.");const a=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||function Xbe(t){return!ek()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?Vbe:Qbe}(s)),this.platform.updateConfig(i);const c=this.platform.acquireContext(s,a.aspectRatio),l=c&&c.canvas,u=l&&l.height,d=l&&l.width;this.id=O_e(),this.ctx=c,this.canvas=l,this.width=d,this.height=u,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new mwe,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=function Z_e(t,e){let n;return function(...r){return e?(clearTimeout(n),n=setTimeout(t,e,r)):t.apply(this,r),e}}(h=>this.update(h),a.resizeDelay||0),this._dataChanges=[],pv[this.id]=this,c&&l?(Ks.listen(this,"complete",f6),Ks.listen(this,"progress",Pwe),this._initialize(),this.attached&&this.update()):console.error("Failed to create chart: can't acquire context from the given item")}get aspectRatio(){const{options:{aspectRatio:n,maintainAspectRatio:r},width:i,height:s,_aspectRatio:o}=this;return Le(n)?r&&o?o:s?i/s:null:n}get data(){return this.config.data}set data(n){this.config.data=n}get options(){return this._options}set options(n){this.config.options=n}get registry(){return Xi}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():v5(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return c5(this.canvas,this.ctx),this}stop(){return Ks.stop(this),this}resize(n,r){Ks.running(this)?this._resizeBeforeDraw={width:n,height:r}:this._resize(n,r)}_resize(n,r){const i=this.options,a=this.platform.getMaximumSize(this.canvas,n,r,i.maintainAspectRatio&&this.aspectRatio),c=i.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=a.width,this.height=a.height,this._aspectRatio=this.aspectRatio,v5(this,c,!0)&&(this.notifyPlugins("resize",{size:a}),st(i.onResize,[this,a],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){We(this.options.scales||{},(i,s)=>{i.id=s})}buildOrUpdateScales(){const n=this.options,r=n.scales,i=this.scales,s=Object.keys(i).reduce((a,c)=>(a[c]=!1,a),{});let o=[];r&&(o=o.concat(Object.keys(r).map(a=>{const c=r[a],l=dk(a,c),u="r"===l,d="x"===l;return{options:c,dposition:u?"chartArea":d?"bottom":"left",dtype:u?"radialLinear":d?"category":"linear"}}))),We(o,a=>{const c=a.options,l=c.id,u=dk(l,c),d=we(c.type,a.dtype);(void 0===c.position||d6(c.position,u)!==d6(a.dposition))&&(c.position=a.dposition),s[l]=!0;let h=null;l in i&&i[l].type===d?h=i[l]:(h=new(Xi.getScale(d))({id:l,type:d,ctx:this.ctx,chart:this}),i[h.id]=h),h.init(c,n)}),We(s,(a,c)=>{a||delete i[c]}),We(i,a=>{$n.configure(this,a,a.options),$n.addBox(this,a)})}_updateMetasets(){const n=this._metasets,r=this.data.datasets.length,i=n.length;if(n.sort((s,o)=>s.index-o.index),i>r){for(let s=r;s<i;++s)this._destroyDatasetMeta(s);n.splice(r,i-r)}this._sortedMetasets=n.slice(0).sort(h6("order","index"))}_removeUnreferencedMetasets(){const{_metasets:n,data:{datasets:r}}=this;n.length>r.length&&delete this._stacks,n.forEach((i,s)=>{0===r.filter(o=>o===i._dataset).length&&this._destroyDatasetMeta(s)})}buildOrUpdateControllers(){const n=[],r=this.data.datasets;let i,s;for(this._removeUnreferencedMetasets(),i=0,s=r.length;i<s;i++){const o=r[i];let a=this.getDatasetMeta(i);const c=o.type||this.config.type;if(a.type&&a.type!==c&&(this._destroyDatasetMeta(i),a=this.getDatasetMeta(i)),a.type=c,a.indexAxis=o.indexAxis||uk(c,this.options),a.order=o.order||0,a.index=i,a.label=""+o.label,a.visible=this.isDatasetVisible(i),a.controller)a.controller.updateIndex(i),a.controller.linkScales();else{const l=Xi.getController(c),{datasetElementType:u,dataElementType:d}=Mt.datasets[c];Object.assign(l,{dataElementType:Xi.getElement(d),datasetElementType:u&&Xi.getElement(u)}),a.controller=new l(this,i),n.push(a.controller)}}return this._updateMetasets(),n}_resetElements(){We(this.data.datasets,(n,r)=>{this.getDatasetMeta(r).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(n){const r=this.config;r.update();const i=this._options=r.createResolver(r.chartOptionScopes(),this.getContext()),s=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1===this.notifyPlugins("beforeUpdate",{mode:n,cancelable:!0}))return;const o=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let a=0;for(let u=0,d=this.data.datasets.length;u<d;u++){const{controller:h}=this.getDatasetMeta(u),f=!s&&-1===o.indexOf(h);h.buildOrUpdateElements(f),a=Math.max(+h.getMaxOverflow(),a)}a=this._minPadding=i.layout.autoPadding?a:0,this._updateLayout(a),s||We(o,u=>{u.reset()}),this._updateDatasets(n),this.notifyPlugins("afterUpdate",{mode:n}),this._layers.sort(h6("z","_idx"));const{_active:c,_lastEvent:l}=this;l?this._eventHandler(l,!0):c.length&&this._updateHoverStyles(c,c,!0),this.render()}_updateScales(){We(this.scales,n=>{$n.removeBox(this,n)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const n=this.options,r=new Set(Object.keys(this._listeners)),i=new Set(n.events);(!z3(r,i)||!!this._responsiveListeners!==n.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:n}=this,r=this._getUniformDataChanges()||[];for(const{method:i,start:s,count:o}of r)Rwe(n,s,"_removeElements"===i?-o:o)}_getUniformDataChanges(){const n=this._dataChanges;if(!n||!n.length)return;this._dataChanges=[];const r=this.data.datasets.length,i=o=>new Set(n.filter(a=>a[0]===o).map((a,c)=>c+","+a.splice(1).join(","))),s=i(0);for(let o=1;o<r;o++)if(!z3(s,i(o)))return;return Array.from(s).map(o=>o.split(",")).map(o=>({method:o[1],start:+o[2],count:+o[3]}))}_updateLayout(n){if(!1===this.notifyPlugins("beforeLayout",{cancelable:!0}))return;$n.update(this,this.width,this.height,n);const r=this.chartArea,i=r.width<=0||r.height<=0;this._layers=[],We(this.boxes,s=>{i&&"chartArea"===s.position||(s.configure&&s.configure(),this._layers.push(...s._layers()))},this),this._layers.forEach((s,o)=>{s._idx=o}),this.notifyPlugins("afterLayout")}_updateDatasets(n){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:n,cancelable:!0})){for(let r=0,i=this.data.datasets.length;r<i;++r)this.getDatasetMeta(r).controller.configure();for(let r=0,i=this.data.datasets.length;r<i;++r)this._updateDataset(r,$o(n)?n({datasetIndex:r}):n);this.notifyPlugins("afterDatasetsUpdate",{mode:n})}}_updateDataset(n,r){const i=this.getDatasetMeta(n),s={meta:i,index:n,mode:r,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",s)&&(i.controller._update(r),s.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",s))}render(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(Ks.has(this)?this.attached&&!Ks.running(this)&&Ks.start(this):(this.draw(),f6({chart:this})))}draw(){let n;if(this._resizeBeforeDraw){const{width:i,height:s}=this._resizeBeforeDraw;this._resize(i,s),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0||!1===this.notifyPlugins("beforeDraw",{cancelable:!0}))return;const r=this._layers;for(n=0;n<r.length&&r[n].z<=0;++n)r[n].draw(this.chartArea);for(this._drawDatasets();n<r.length;++n)r[n].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(n){const r=this._sortedMetasets,i=[];let s,o;for(s=0,o=r.length;s<o;++s){const a=r[s];(!n||a.visible)&&i.push(a)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(!1===this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0}))return;const n=this.getSortedVisibleDatasetMetas();for(let r=n.length-1;r>=0;--r)this._drawDataset(n[r]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(n){const r=this.ctx,i=n._clip,s=!i.disabled,o=function Nwe(t,e){const{xScale:n,yScale:r}=t;return n&&r?{left:gv(n,e,"left"),right:gv(n,e,"right"),top:gv(r,e,"top"),bottom:gv(r,e,"bottom")}:e}(n,this.chartArea),a={meta:n,index:n.index,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetDraw",a)&&(s&&nv(r,{left:!1===i.left?0:o.left-i.left,right:!1===i.right?this.width:o.right+i.right,top:!1===i.top?0:o.top-i.top,bottom:!1===i.bottom?this.height:o.bottom+i.bottom}),n.controller.draw(),s&&rv(r),a.cancelable=!1,this.notifyPlugins("afterDatasetDraw",a))}isPointInArea(n){return qs(n,this.chartArea,this._minPadding)}getElementsAtEventForMode(n,r,i,s){const o=kbe.modes[r];return"function"==typeof o?o(this,n,i,s):[]}getDatasetMeta(n){const r=this.data.datasets[n],i=this._metasets;let s=i.filter(o=>o&&o._dataset===r).pop();return s||(s={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:r&&r.order||0,index:n,_dataset:r,_parsed:[],_sorted:!1},i.push(s)),s}getContext(){return this.$context||(this.$context=zo(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(n){const r=this.data.datasets[n];if(!r)return!1;const i=this.getDatasetMeta(n);return"boolean"==typeof i.hidden?!i.hidden:!r.hidden}setDatasetVisibility(n,r){this.getDatasetMeta(n).hidden=!r}toggleDataVisibility(n){this._hiddenIndices[n]=!this._hiddenIndices[n]}getDataVisibility(n){return!this._hiddenIndices[n]}_updateVisibility(n,r,i){const s=i?"show":"hide",o=this.getDatasetMeta(n),a=o.controller._resolveAnimations(void 0,s);Hf(r)?(o.data[r].hidden=!i,this.update()):(this.setDatasetVisibility(n,i),a.update(o,{visible:i}),this.update(c=>c.datasetIndex===n?s:void 0))}hide(n,r){this._updateVisibility(n,r,!1)}show(n,r){this._updateVisibility(n,r,!0)}_destroyDatasetMeta(n){const r=this._metasets[n];r&&r.controller&&r.controller._destroy(),delete this._metasets[n]}_stop(){let n,r;for(this.stop(),Ks.remove(this),n=0,r=this.data.datasets.length;n<r;++n)this._destroyDatasetMeta(n)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:n,ctx:r}=this;this._stop(),this.config.clearCache(),n&&(this.unbindEvents(),c5(n,r),this.platform.releaseContext(r),this.canvas=null,this.ctx=null),delete pv[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...n){return this.canvas.toDataURL(...n)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const n=this._listeners,r=this.platform,i=(o,a)=>{r.addEventListener(this,o,a),n[o]=a},s=(o,a,c)=>{o.offsetX=a,o.offsetY=c,this._eventHandler(o)};We(this.options.events,o=>i(o,s))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const n=this._responsiveListeners,r=this.platform,i=(l,u)=>{r.addEventListener(this,l,u),n[l]=u},s=(l,u)=>{n[l]&&(r.removeEventListener(this,l,u),delete n[l])},o=(l,u)=>{this.canvas&&this.resize(l,u)};let a;const c=()=>{s("attach",c),this.attached=!0,this.resize(),i("resize",o),i("detach",a)};a=()=>{this.attached=!1,s("resize",o),this._stop(),this._resize(0,0),i("attach",c)},r.isAttached(this.canvas)?c():a()}unbindEvents(){We(this._listeners,(n,r)=>{this.platform.removeEventListener(this,r,n)}),this._listeners={},We(this._responsiveListeners,(n,r)=>{this.platform.removeEventListener(this,r,n)}),this._responsiveListeners=void 0}updateHoverStyle(n,r,i){const s=i?"set":"remove";let o,a,c,l;for("dataset"===r&&(o=this.getDatasetMeta(n[0].datasetIndex),o.controller["_"+s+"DatasetHoverStyle"]()),c=0,l=n.length;c<l;++c){a=n[c];const u=a&&this.getDatasetMeta(a.datasetIndex).controller;u&&u[s+"HoverStyle"](a.element,a.datasetIndex,a.index)}}getActiveElements(){return this._active||[]}setActiveElements(n){const r=this._active||[],i=n.map(({datasetIndex:o,index:a})=>{const c=this.getDatasetMeta(o);if(!c)throw new Error("No dataset found at index "+o);return{datasetIndex:o,element:c.data[a],index:a}});!Z_(i,r)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,r))}notifyPlugins(n,r,i){return this._plugins.notify(this,n,r,i)}isPluginEnabled(n){return 1===this._plugins._cache.filter(r=>r.plugin.id===n).length}_updateHoverStyles(n,r,i){const s=this.options.hover,o=(l,u)=>l.filter(d=>!u.some(h=>d.datasetIndex===h.datasetIndex&&d.index===h.index)),a=o(r,n),c=i?n:o(n,r);a.length&&this.updateHoverStyle(a,s.mode,!1),c.length&&s.mode&&this.updateHoverStyle(c,s.mode,!0)}_eventHandler(n,r){const i={event:n,replay:r,cancelable:!0,inChartArea:this.isPointInArea(n)},s=a=>(a.options.events||this.options.events).includes(n.native.type);if(!1===this.notifyPlugins("beforeEvent",i,s))return;const o=this._handleEvent(n,r,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,s),(o||i.changed)&&this.render(),this}_handleEvent(n,r,i){const{_active:s=[],options:o}=this,c=this._getActiveElements(n,s,i,r),l=function U_e(t){return"mouseup"===t.type||"click"===t.type||"contextmenu"===t.type}(n),u=function Owe(t,e,n,r){return n&&"mouseout"!==t.type?r?e:t:null}(n,this._lastEvent,i,l);i&&(this._lastEvent=null,st(o.onHover,[n,c,this],this),l&&st(o.onClick,[n,c,this],this));const d=!Z_(c,s);return(d||r)&&(this._active=c,this._updateHoverStyles(c,s,r)),this._lastEvent=u,d}_getActiveElements(n,r,i,s){if("mouseout"===n.type)return[];if(!i)return r;const o=this.options.hover;return this.getElementsAtEventForMode(n,o.mode,o,s)}})();function m6(){return We(hk.instances,t=>t._plugins.invalidate())}function Pu(t,e,n,r){return{x:n+t*Math.cos(e),y:r+t*Math.sin(e)}}function mv(t,e,n,r,i,s){const{x:o,y:a,startAngle:c,pixelMargin:l,innerRadius:u}=e,d=Math.max(e.outerRadius+r+n-l,0),h=u>0?u+r+n+l:0;let f=0;const p=i-c;if(r){const $t=((u>0?u-r:0)+(d>0?d-r:0))/2;f=(p-(0!==$t?p*$t/($t+r):p))/2}const m=(p-Math.max(.001,p*d-n/dt)/d)/2,_=c+m+f,y=i-m-f,{outerStart:v,outerEnd:I,innerStart:w,innerEnd:T}=function Bwe(t,e,n,r){const i=function Fwe(t){return ZM(t,["outerStart","outerEnd","innerStart","innerEnd"])}(t.options.borderRadius),s=(n-e)/2,o=Math.min(s,r*e/2),a=c=>{const l=(n-Math.min(s,c))*r/2;return pn(c,0,Math.min(s,l))};return{outerStart:a(i.outerStart),outerEnd:a(i.outerEnd),innerStart:pn(i.innerStart,0,o),innerEnd:pn(i.innerEnd,0,o)}}(e,h,d,y-_),O=d-v,P=d-I,q=_+v/O,pe=y-I/P,ye=h+w,xe=h+T,An=_+w/ye,Or=y-T/xe;if(t.beginPath(),s){const Ke=(q+pe)/2;if(t.arc(o,a,d,q,Ke),t.arc(o,a,d,Ke,pe),I>0){const Hn=Pu(P,pe,o,a);t.arc(Hn.x,Hn.y,I,pe,y+jt)}const gt=Pu(xe,y,o,a);if(t.lineTo(gt.x,gt.y),T>0){const Hn=Pu(xe,Or,o,a);t.arc(Hn.x,Hn.y,T,y+jt,Or+Math.PI)}const $t=(y-T/h+(_+w/h))/2;if(t.arc(o,a,h,y-T/h,$t,!0),t.arc(o,a,h,$t,_+w/h,!0),w>0){const Hn=Pu(ye,An,o,a);t.arc(Hn.x,Hn.y,w,An+Math.PI,_-jt)}const vi=Pu(O,_,o,a);if(t.lineTo(vi.x,vi.y),v>0){const Hn=Pu(O,q,o,a);t.arc(Hn.x,Hn.y,v,_-jt,q)}}else{t.moveTo(o,a);const Ke=Math.cos(q)*d+o,gt=Math.sin(q)*d+a;t.lineTo(Ke,gt);const $t=Math.cos(pe)*d+o,vi=Math.sin(pe)*d+a;t.lineTo($t,vi)}t.closePath()}function y6(t,e,n=e){t.lineCap=we(n.borderCapStyle,e.borderCapStyle),t.setLineDash(we(n.borderDash,e.borderDash)),t.lineDashOffset=we(n.borderDashOffset,e.borderDashOffset),t.lineJoin=we(n.borderJoinStyle,e.borderJoinStyle),t.lineWidth=we(n.borderWidth,e.borderWidth),t.strokeStyle=we(n.borderColor,e.borderColor)}function $we(t,e,n){t.lineTo(n.x,n.y)}function _6(t,e,n={}){const r=t.length,{start:i=0,end:s=r-1}=n,{start:o,end:a}=e,c=Math.max(i,o),l=Math.min(s,a);return{count:r,start:c,loop:e.loop,ilen:l<c&&!(i<o&&s<o||i>a&&s>a)?r+l-c:l-c}}function zwe(t,e,n,r){const{points:i,options:s}=e,{count:o,start:a,loop:c,ilen:l}=_6(i,n,r),u=function Hwe(t){return t.stepped?cve:t.tension||"monotone"===t.cubicInterpolationMode?lve:$we}(s);let f,p,g,{move:d=!0,reverse:h}=r||{};for(f=0;f<=l;++f)p=i[(a+(h?l-f:f))%o],!p.skip&&(d?(t.moveTo(p.x,p.y),d=!1):u(t,g,p,h,s.stepped),g=p);return c&&(p=i[(a+(h?l:0))%o],u(t,g,p,h,s.stepped)),!!c}function Gwe(t,e,n,r){const i=e.points,{count:s,start:o,ilen:a}=_6(i,n,r),{move:c=!0,reverse:l}=r||{};let h,f,p,g,m,_,u=0,d=0;const y=I=>(o+(l?a-I:I))%s,v=()=>{g!==m&&(t.lineTo(u,m),t.lineTo(u,g),t.lineTo(u,_))};for(c&&(f=i[y(0)],t.moveTo(f.x,f.y)),h=0;h<=a;++h){if(f=i[y(h)],f.skip)continue;const I=f.x,w=f.y,T=0|I;T===p?(w<g?g=w:w>m&&(m=w),u=(d*u+I)/++d):(v(),t.lineTo(I,w),p=T,d=0,g=m=w),_=w}v()}function fk(t){const e=t.options;return t._decimated||t._loop||e.tension||"monotone"===e.cubicInterpolationMode||e.stepped||e.borderDash&&e.borderDash.length?zwe:Gwe}const Ywe="function"==typeof Path2D;let yv=(()=>class t extends Ys{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:n=>"borderDash"!==n&&"fill"!==n};constructor(n){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,n&&Object.assign(this,n)}updateControlPoints(n,r){const i=this.options;!i.tension&&"monotone"!==i.cubicInterpolationMode||i.stepped||this._pointsUpdated||(Rve(this._points,i,n,i.spanGaps?this._loop:this._fullLoop,r),this._pointsUpdated=!0)}set points(n){this._points=n,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=function Kve(t,e){const n=t.points,r=t.options.spanGaps,i=n.length;if(!i)return[];const s=!!t._loop,{start:o,end:a}=function Wve(t,e,n,r){let i=0,s=e-1;if(n&&!r)for(;i<e&&!t[i].skip;)i++;for(;i<e&&t[i].skip;)i++;for(i%=e,n&&(s+=i);s>i&&t[s%e].skip;)s--;return s%=e,{start:i,end:s}}(n,i,s,r);return function S5(t,e,n,r){return r&&r.setContext&&n?function Yve(t,e,n,r){const i=t._chart.getContext(),s=x5(t.options),{_datasetIndex:o,options:{spanGaps:a}}=t,c=n.length,l=[];let u=s,d=e[0].start,h=d;function f(p,g,m,_){const y=a?-1:1;if(p!==g){for(p+=c;n[p%c].skip;)p-=y;for(;n[g%c].skip;)g+=y;p%c!=g%c&&(l.push({start:p%c,end:g%c,loop:m,style:_}),u=_,d=g%c)}}for(const p of e){d=a?d:p.start;let m,g=n[d%c];for(h=d+1;h<=p.end;h++){const _=n[h%c];m=x5(r.setContext(zo(i,{type:"segment",p0:g,p1:_,p0DataIndex:(h-1)%c,p1DataIndex:h%c,datasetIndex:o}))),Zve(m,u)&&f(d,h-1,p.loop,u),g=_,u=m}d<h-1&&f(d,h-1,p.loop,u)}return l}(t,e,n,r):e}(t,!0===r?[{start:o,end:a,loop:s}]:function qve(t,e,n,r){const i=t.length,s=[];let c,o=e,a=t[e];for(c=e+1;c<=n;++c){const l=t[c%i];l.skip||l.stop?a.skip||(s.push({start:e%i,end:(c-1)%i,loop:r=!1}),e=o=l.stop?c:null):(o=c,a.skip&&(e=c)),a=l}return null!==o&&s.push({start:e%i,end:o%i,loop:r}),s}(n,o,a<o?a+i:a,!!t._fullLoop&&0===o&&a===i-1),n,e)}(this,this.options.segment))}first(){const n=this.segments;return n.length&&this.points[n[0].start]}last(){const n=this.segments,i=n.length;return i&&this.points[n[i-1].end]}interpolate(n,r){const i=this.options,s=n[r],o=this.points,a=D5(this,{property:r,start:s,end:s});if(!a.length)return;const c=[],l=function Wwe(t){return t.stepped?jve:t.tension||"monotone"===t.cubicInterpolationMode?$ve:lc}(i);let u,d;for(u=0,d=a.length;u<d;++u){const{start:h,end:f}=a[u],p=o[h],g=o[f];if(p===g){c.push(p);continue}const _=l(p,g,Math.abs((s-p[r])/(g[r]-p[r])),i.stepped);_[r]=n[r],c.push(_)}return 1===c.length?c[0]:c}pathSegment(n,r,i){return fk(this)(n,this,r,i)}path(n,r,i){const s=this.segments,o=fk(this);let a=this._loop;r=r||0,i=i||this.points.length-r;for(const c of s)a&=o(n,this,c,{start:r,end:r+i-1});return!!a}draw(n,r,i,s){(this.points||[]).length&&(this.options||{}).borderWidth&&(n.save(),function Zwe(t,e,n,r){Ywe&&!e.options.segment?function qwe(t,e,n,r){let i=e._path;i||(i=e._path=new Path2D,e.path(i,n,r)&&i.closePath()),y6(t,e.options),t.stroke(i)}(t,e,n,r):function Kwe(t,e,n,r){const{segments:i,options:s}=e,o=fk(e);for(const a of i)y6(t,s,a.style),t.beginPath(),o(t,e,a,{start:n,end:n+r-1})&&t.closePath(),t.stroke()}(t,e,n,r)}(n,this,i,s),n.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}})();function v6(t,e,n,r){const i=t.options,{[n]:s}=t.getProps([n],r);return Math.abs(e-s)<i.radius+i.hitRadius}let Qwe=(()=>class t extends Ys{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(n){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,n&&Object.assign(this,n)}inRange(n,r,i){const s=this.options,{x:o,y:a}=this.getProps(["x","y"],i);return Math.pow(n-o,2)+Math.pow(r-a,2)<Math.pow(s.hitRadius+s.radius,2)}inXRange(n,r){return v6(this,n,"x",r)}inYRange(n,r){return v6(this,n,"y",r)}getCenterPoint(n){const{x:r,y:i}=this.getProps(["x","y"],n);return{x:r,y:i}}size(n){let r=(n=n||this.options||{}).radius||0;return r=Math.max(r,r&&n.hoverRadius||0),2*(r+(r&&n.borderWidth||0))}draw(n,r){const i=this.options;this.skip||i.radius<.1||!qs(this,r,this.size(i)/2)||(n.strokeStyle=i.borderColor,n.lineWidth=i.borderWidth,n.fillStyle=i.backgroundColor,YM(n,i,this.x,this.y))}getRange(){const n=this.options||{};return n.radius+n.hitRadius}})();function b6(t,e){const{x:n,y:r,base:i,width:s,height:o}=t.getProps(["x","y","base","width","height"],e);let a,c,l,u,d;return t.horizontal?(d=o/2,a=Math.min(n,i),c=Math.max(n,i),l=r-d,u=r+d):(d=s/2,a=n-d,c=n+d,l=Math.min(r,i),u=Math.max(r,i)),{left:a,top:l,right:c,bottom:u}}function Wo(t,e,n,r){return t?0:pn(e,n,r)}function pk(t,e,n,r){const i=null===e,s=null===n,a=t&&!(i&&s)&&b6(t,r);return a&&(i||Gs(e,a.left,a.right))&&(s||Gs(n,a.top,a.bottom))}function n0e(t,e){t.rect(e.x,e.y,e.w,e.h)}function gk(t,e,n={}){const r=t.x!==n.x?-e:0,i=t.y!==n.y?-e:0;return{x:t.x+r,y:t.y+i,w:t.w+((t.x+t.w!==n.x+n.w?e:0)-r),h:t.h+((t.y+t.h!==n.y+n.h?e:0)-i),radius:t.radius}}var i0e=Object.freeze({__proto__:null,ArcElement:class jwe extends Ys{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:e=>"borderDash"!==e};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(e){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,n,r){const i=this.getProps(["x","y"],r),{angle:s,distance:o}=Y3(i,{x:e,y:n}),{startAngle:a,endAngle:c,innerRadius:l,outerRadius:u,circumference:d}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],r),h=(this.options.spacing+this.options.borderWidth)/2,p=we(d,c-a)>=ht||Gf(s,a,c),g=Gs(o,l+h,u+h);return p&&g}getCenterPoint(e){const{x:n,y:r,startAngle:i,endAngle:s,innerRadius:o,outerRadius:a}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:c,spacing:l}=this.options,u=(i+s)/2,d=(o+a+l+c)/2;return{x:n+Math.cos(u)*d,y:r+Math.sin(u)*d}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:n,circumference:r}=this,i=(n.offset||0)/4,s=(n.spacing||0)/2,o=n.circular;if(this.pixelMargin="inner"===n.borderAlign?.33:0,this.fullCircles=r>ht?Math.floor(r/ht):0,0===r||this.innerRadius<0||this.outerRadius<0)return;e.save();const a=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(a)*i,Math.sin(a)*i);const l=i*(1-Math.sin(Math.min(dt,r||0)));e.fillStyle=n.backgroundColor,e.strokeStyle=n.borderColor,function Vwe(t,e,n,r,i){const{fullCircles:s,startAngle:o,circumference:a}=e;let c=e.endAngle;if(s){mv(t,e,n,r,c,i);for(let l=0;l<s;++l)t.fill();isNaN(a)||(c=o+(a%ht||ht))}mv(t,e,n,r,c,i),t.fill()}(e,this,l,s,o),function Uwe(t,e,n,r,i){const{fullCircles:s,startAngle:o,circumference:a,options:c}=e,{borderWidth:l,borderJoinStyle:u,borderDash:d,borderDashOffset:h}=c,f="inner"===c.borderAlign;if(!l)return;t.setLineDash(d||[]),t.lineDashOffset=h,f?(t.lineWidth=2*l,t.lineJoin=u||"round"):(t.lineWidth=l,t.lineJoin=u||"bevel");let p=e.endAngle;if(s){mv(t,e,n,r,p,i);for(let g=0;g<s;++g)t.stroke();isNaN(a)||(p=o+(a%ht||ht))}f&&function Lwe(t,e,n){const{startAngle:r,pixelMargin:i,x:s,y:o,outerRadius:a,innerRadius:c}=e;let l=i/a;t.beginPath(),t.arc(s,o,a,r-l,n+l),c>i?(l=i/c,t.arc(s,o,c,n+l,r-l,!0)):t.arc(s,o,i,n+jt,r-jt),t.closePath(),t.clip()}(t,e,p),s||(mv(t,e,n,r,p,i),t.stroke())}(e,this,l,s,o),e.restore()}},BarElement:class r0e extends Ys{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:n,options:{borderColor:r,backgroundColor:i}}=this,{inner:s,outer:o}=function e0e(t){const e=b6(t),n=e.right-e.left,r=e.bottom-e.top,i=function Xwe(t,e,n){const i=t.borderSkipped,s=u5(t.options.borderWidth);return{t:Wo(i.top,s.top,0,n),r:Wo(i.right,s.right,0,e),b:Wo(i.bottom,s.bottom,0,n),l:Wo(i.left,s.left,0,e)}}(t,n/2,r/2),s=function Jwe(t,e,n){const{enableBorderRadius:r}=t.getProps(["enableBorderRadius"]),i=t.options.borderRadius,s=oc(i),o=Math.min(e,n),a=t.borderSkipped,c=r||Se(i);return{topLeft:Wo(!c||a.top||a.left,s.topLeft,0,o),topRight:Wo(!c||a.top||a.right,s.topRight,0,o),bottomLeft:Wo(!c||a.bottom||a.left,s.bottomLeft,0,o),bottomRight:Wo(!c||a.bottom||a.right,s.bottomRight,0,o)}}(t,n/2,r/2);return{outer:{x:e.left,y:e.top,w:n,h:r,radius:s},inner:{x:e.left+i.l,y:e.top+i.t,w:n-i.l-i.r,h:r-i.t-i.b,radius:{topLeft:Math.max(0,s.topLeft-Math.max(i.t,i.l)),topRight:Math.max(0,s.topRight-Math.max(i.t,i.r)),bottomLeft:Math.max(0,s.bottomLeft-Math.max(i.b,i.l)),bottomRight:Math.max(0,s.bottomRight-Math.max(i.b,i.r))}}}}(this),a=function t0e(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}(o.radius)?Yf:n0e;e.save(),(o.w!==s.w||o.h!==s.h)&&(e.beginPath(),a(e,gk(o,n,s)),e.clip(),a(e,gk(s,-n,o)),e.fillStyle=r,e.fill("evenodd")),e.beginPath(),a(e,gk(s,n)),e.fillStyle=i,e.fill(),e.restore()}inRange(e,n,r){return pk(this,e,n,r)}inXRange(e,n){return pk(this,e,null,n)}inYRange(e,n){return pk(this,null,e,n)}getCenterPoint(e){const{x:n,y:r,base:i,horizontal:s}=this.getProps(["x","y","base","horizontal"],e);return{x:s?(n+i)/2:n,y:s?r:(r+i)/2}}getRange(e){return"x"===e?this.width/2:this.height/2}},LineElement:yv,PointElement:Qwe});const mk=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],w6=mk.map(t=>t.replace("rgb(","rgba(").replace(")",", 0.5)"));function I6(t){return mk[t%mk.length]}function C6(t){return w6[t%w6.length]}function E6(t){let e;for(e in t)if(t[e].borderColor||t[e].backgroundColor)return!0;return!1}var u0e={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(t,e,n){if(!n.enabled)return;const{data:{datasets:r},options:i}=t.config,{elements:s}=i;if(!n.forceOverride&&(E6(r)||function l0e(t){return t&&(t.borderColor||t.backgroundColor)}(i)||s&&E6(s)))return;const o=function c0e(t){let e=0;return(n,r)=>{const i=t.getDatasetMeta(r).controller;i instanceof sk?e=function o0e(t,e){return t.backgroundColor=t.data.map(()=>I6(e++)),e}(n,e):i instanceof $5?e=function a0e(t,e){return t.backgroundColor=t.data.map(()=>C6(e++)),e}(n,e):i&&(e=function s0e(t,e){return t.borderColor=I6(e),t.backgroundColor=C6(e),++e}(n,e))}}(t);r.forEach(o)}};function T6(t){if(t._decimated){const e=t._data;delete t._decimated,delete t._data,Object.defineProperty(t,"data",{configurable:!0,enumerable:!0,writable:!0,value:e})}}function D6(t){t.data.datasets.forEach(e=>{T6(e)})}var p0e={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(t,e,n)=>{if(!n.enabled)return void D6(t);const r=t.width;t.data.datasets.forEach((i,s)=>{const{_data:o,indexAxis:a}=i,c=t.getDatasetMeta(s),l=o||i.data;if("y"===Zf([a,t.options.indexAxis])||!c.controller.supportsDecimation)return;const u=t.scales[c.xAxisID];if("linear"!==u.type&&"time"!==u.type||t.options.parsing)return;let p,{start:d,count:h}=function f0e(t,e){const n=e.length;let i,r=0;const{iScale:s}=t,{min:o,max:a,minDefined:c,maxDefined:l}=s.getUserBounds();return c&&(r=pn(Ws(e,s.axis,o).lo,0,n-1)),i=l?pn(Ws(e,s.axis,a).hi+1,r,n)-r:n-r,{start:r,count:i}}(c,l);if(h<=(n.threshold||4*r))T6(i);else{switch(Le(o)&&(i._data=l,delete i.data,Object.defineProperty(i,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(g){this._data=g}})),n.algorithm){case"lttb":p=function d0e(t,e,n,r,i){const s=i.samples||r;if(s>=n)return t.slice(e,e+n);const o=[],a=(n-2)/(s-2);let c=0;const l=e+n-1;let d,h,f,p,g,u=e;for(o[c++]=t[u],d=0;d<s-2;d++){let y,m=0,_=0;const v=Math.floor((d+1)*a)+1+e,I=Math.min(Math.floor((d+2)*a)+1,n)+e,w=I-v;for(y=v;y<I;y++)m+=t[y].x,_+=t[y].y;m/=w,_/=w;const T=Math.floor(d*a)+1+e,O=Math.min(Math.floor((d+1)*a)+1,n)+e,{x:P,y:q}=t[u];for(f=p=-1,y=T;y<O;y++)p=.5*Math.abs((P-m)*(t[y].y-q)-(P-t[y].x)*(_-q)),p>f&&(f=p,h=t[y],g=y);o[c++]=h,u=g}return o[c++]=t[l],o}(l,d,h,r,n);break;case"min-max":p=function h0e(t,e,n,r){let o,a,c,l,u,d,h,f,p,g,i=0,s=0;const m=[],y=t[e].x,I=t[e+n-1].x-y;for(o=e;o<e+n;++o){a=t[o],c=(a.x-y)/I*r,l=a.y;const w=0|c;if(w===u)l<p?(p=l,d=o):l>g&&(g=l,h=o),i=(s*i+a.x)/++s;else{const T=o-1;if(!Le(d)&&!Le(h)){const O=Math.min(d,h),P=Math.max(d,h);O!==f&&O!==T&&m.push({...t[O],x:i}),P!==f&&P!==T&&m.push({...t[P],x:i})}o>0&&T!==f&&m.push(t[T]),m.push(a),u=w,s=0,p=g=l,d=h=f=o}}return m}(l,d,h,r);break;default:throw new Error(`Unsupported decimation algorithm '${n.algorithm}'`)}i._decimated=p}})},destroy(t){D6(t)}};function yk(t,e,n,r){if(r)return;let i=e[t],s=n[t];return"angle"===t&&(i=Rr(i),s=Rr(s)),{property:t,start:i,end:s}}function _k(t,e,n){for(;e>t;e--){const r=n[e];if(!isNaN(r.x)&&!isNaN(r.y))break}return e}function S6(t,e,n,r){return t&&e?r(t[n],e[n]):t?t[n]:e?e[n]:0}function x6(t,e){let n=[],r=!1;return ut(t)?(r=!0,n=t):n=function m0e(t,e){const{x:n=null,y:r=null}=t||{},i=e.points,s=[];return e.segments.forEach(({start:o,end:a})=>{a=_k(o,a,i);const c=i[o],l=i[a];null!==r?(s.push({x:c.x,y:r}),s.push({x:l.x,y:r})):null!==n&&(s.push({x:n,y:c.y}),s.push({x:n,y:l.y}))}),s}(t,e),n.length?new yv({points:n,options:{tension:0},_loop:r,_fullLoop:r}):null}function A6(t){return t&&!1!==t.fill}function y0e(t,e,n){let i=t[e].fill;const s=[e];let o;if(!n)return i;for(;!1!==i&&-1===s.indexOf(i);){if(!At(i))return i;if(o=t[i],!o)return!1;if(o.visible)return i;s.push(i),i=o.fill}return!1}function _0e(t,e,n){const r=function I0e(t){const e=t.options,n=e.fill;let r=we(n&&n.target,n);return void 0===r&&(r=!!e.backgroundColor),!1!==r&&null!==r&&(!0===r?"origin":r)}(t);if(Se(r))return!isNaN(r.value)&&r;let i=parseFloat(r);return At(i)&&Math.floor(i)===i?function v0e(t,e,n,r){return("-"===t||"+"===t)&&(n=e+n),!(n===e||n<0||n>=r)&&n}(r[0],e,i,n):["origin","start","end","stack","shape"].indexOf(r)>=0&&r}function T0e(t,e,n){const r=[];for(let i=0;i<n.length;i++){const s=n[i],{first:o,last:a,point:c}=D0e(s,e,"x");if(!(!c||o&&a))if(o)r.unshift(c);else if(t.push(c),!a)break}t.push(...r)}function D0e(t,e,n){const r=t.interpolate(e,n);if(!r)return{};const i=r[n],s=t.segments,o=t.points;let a=!1,c=!1;for(let l=0;l<s.length;l++){const u=s[l],d=o[u.start][n],h=o[u.end][n];if(Gs(i,d,h)){a=i===d,c=i===h;break}}return{first:a,last:c,point:r}}class M6{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,n,r){const{x:i,y:s,radius:o}=this;return e.arc(i,s,o,(n=n||{start:0,end:ht}).end,n.start,!0),!r.bounds}interpolate(e){const{x:n,y:r,radius:i}=this,s=e.angle;return{x:n+Math.cos(s)*i,y:r+Math.sin(s)*i,angle:s}}}function vk(t,e,n){const r=function S0e(t){const{chart:e,fill:n,line:r}=t;if(At(n))return function x0e(t,e){const n=t.getDatasetMeta(e);return n&&t.isDatasetVisible(e)?n.dataset:null}(e,n);if("stack"===n)return function C0e(t){const{scale:e,index:n,line:r}=t,i=[],s=r.segments,o=r.points,a=function E0e(t,e){const n=[],r=t.getMatchingVisibleMetas("line");for(let i=0;i<r.length;i++){const s=r[i];if(s.index===e)break;s.hidden||n.unshift(s.dataset)}return n}(e,n);a.push(x6({x:null,y:e.bottom},r));for(let c=0;c<s.length;c++){const l=s[c];for(let u=l.start;u<=l.end;u++)T0e(i,o[u],a)}return new yv({points:i,options:{}})}(t);if("shape"===n)return!0;const i=function A0e(t){return(t.scale||{}).getPointPositionForValue?function k0e(t){const{scale:e,fill:n}=t,r=e.options,i=e.getLabels().length,s=r.reverse?e.max:e.min,o=function w0e(t,e,n){let r;return r="start"===t?n:"end"===t?e.options.reverse?e.min:e.max:Se(t)?t.value:e.getBaseValue(),r}(n,e,s),a=[];if(r.grid.circular){const c=e.getPointPositionForValue(0,s);return new M6({x:c.x,y:c.y,radius:e.getDistanceFromCenterForValue(o)})}for(let c=0;c<i;++c)a.push(e.getPointPositionForValue(c,o));return a}(t):function M0e(t){const{scale:e={},fill:n}=t,r=function b0e(t,e){let n=null;return"start"===t?n=e.bottom:"end"===t?n=e.top:Se(t)?n=e.getPixelForValue(t.value):e.getBasePixel&&(n=e.getBasePixel()),n}(n,e);if(At(r)){const i=e.isHorizontal();return{x:i?r:null,y:i?null:r}}return null}(t)}(t);return i instanceof M6?i:x6(i,r)}(e),{line:i,scale:s,axis:o}=e,a=i.options,c=a.fill,l=a.backgroundColor,{above:u=l,below:d=l}=c||{};r&&i.points.length&&(nv(t,n),function P0e(t,e){const{line:n,target:r,above:i,below:s,area:o,scale:a}=e,c=n._loop?"angle":e.axis;t.save(),"x"===c&&s!==i&&(k6(t,r,o.top),P6(t,{line:n,target:r,color:i,scale:a,property:c}),t.restore(),t.save(),k6(t,r,o.bottom)),P6(t,{line:n,target:r,color:s,scale:a,property:c}),t.restore()}(t,{line:i,target:r,above:u,below:d,area:n,scale:s,axis:o}),rv(t))}function k6(t,e,n){const{segments:r,points:i}=e;let s=!0,o=!1;t.beginPath();for(const a of r){const{start:c,end:l}=a,u=i[c],d=i[_k(c,l,i)];s?(t.moveTo(u.x,u.y),s=!1):(t.lineTo(u.x,n),t.lineTo(u.x,u.y)),o=!!e.pathSegment(t,a,{move:o}),o?t.closePath():t.lineTo(d.x,n)}t.lineTo(e.first().x,n),t.closePath(),t.clip()}function P6(t,e){const{line:n,target:r,property:i,color:s,scale:o}=e,a=function g0e(t,e,n){const r=t.segments,i=t.points,s=e.points,o=[];for(const a of r){let{start:c,end:l}=a;l=_k(c,l,i);const u=yk(n,i[c],i[l],a.loop);if(!e.segments){o.push({source:a,target:u,start:i[c],end:i[l]});continue}const d=D5(e,u);for(const h of d){const f=yk(n,s[h.start],s[h.end],h.loop),p=T5(a,i,f);for(const g of p)o.push({source:g,target:h,start:{[n]:S6(u,f,"start",Math.max)},end:{[n]:S6(u,f,"end",Math.min)}})}}return o}(n,r,i);for(const{source:c,target:l,start:u,end:d}of a){const{style:{backgroundColor:h=s}={}}=c,f=!0!==r;t.save(),t.fillStyle=h,R0e(t,o,f&&yk(i,u,d)),t.beginPath();const p=!!n.pathSegment(t,c);let g;if(f){p?t.closePath():R6(t,r,d,i);const m=!!r.pathSegment(t,l,{move:p,reverse:!0});g=p&&m,g||R6(t,r,u,i)}t.closePath(),t.fill(g?"evenodd":"nonzero"),t.restore()}}function R0e(t,e,n){const{top:r,bottom:i}=e.chart.chartArea,{property:s,start:o,end:a}=n||{};"x"===s&&(t.beginPath(),t.rect(o,r,a-o,i-r),t.clip())}function R6(t,e,n,r){const i=e.interpolate(n,r);i&&t.lineTo(i.x,i.y)}var O0e={id:"filler",afterDatasetsUpdate(t,e,n){const r=(t.data.datasets||[]).length,i=[];let s,o,a,c;for(o=0;o<r;++o)s=t.getDatasetMeta(o),a=s.dataset,c=null,a&&a.options&&a instanceof yv&&(c={visible:t.isDatasetVisible(o),index:o,fill:_0e(a,o,r),chart:t,axis:s.controller.options.indexAxis,scale:s.vScale,line:a}),s.$filler=c,i.push(c);for(o=0;o<r;++o)c=i[o],c&&!1!==c.fill&&(c.fill=y0e(i,o,n.propagate))},beforeDraw(t,e,n){const r="beforeDraw"===n.drawTime,i=t.getSortedVisibleDatasetMetas(),s=t.chartArea;for(let o=i.length-1;o>=0;--o){const a=i[o].$filler;a&&(a.line.updateControlPoints(s,a.axis),r&&a.fill&&vk(t.ctx,a,s))}},beforeDatasetsDraw(t,e,n){if("beforeDatasetsDraw"!==n.drawTime)return;const r=t.getSortedVisibleDatasetMetas();for(let i=r.length-1;i>=0;--i){const s=r[i].$filler;A6(s)&&vk(t.ctx,s,t.chartArea)}},beforeDatasetDraw(t,e,n){const r=e.meta.$filler;!A6(r)||"beforeDatasetDraw"!==n.drawTime||vk(t.ctx,r,t.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const O6=(t,e)=>{let{boxHeight:n=e,boxWidth:r=e}=t;return t.usePointStyle&&(n=Math.min(n,e),r=t.pointStyleWidth||Math.min(r,e)),{boxWidth:r,boxHeight:n,itemHeight:Math.max(e,n)}};class N6 extends Ys{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,r){this.maxWidth=e,this.maxHeight=n,this._margins=r,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let n=st(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(r=>e.filter(r,this.chart.data))),e.sort&&(n=n.sort((r,i)=>e.sort(r,i,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:e,ctx:n}=this;if(!e.display)return void(this.width=this.height=0);const r=e.labels,i=rn(r.font),s=i.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:c}=O6(r,s);let l,u;n.font=i.string,this.isHorizontal()?(l=this.maxWidth,u=this._fitRows(o,s,a,c)+10):(u=this.maxHeight,l=this._fitCols(o,i,a,c)+10),this.width=Math.min(l,e.maxWidth||this.maxWidth),this.height=Math.min(u,e.maxHeight||this.maxHeight)}_fitRows(e,n,r,i){const{ctx:s,maxWidth:o,options:{labels:{padding:a}}}=this,c=this.legendHitBoxes=[],l=this.lineWidths=[0],u=i+a;let d=e;s.textAlign="left",s.textBaseline="middle";let h=-1,f=-u;return this.legendItems.forEach((p,g)=>{const m=r+n/2+s.measureText(p.text).width;(0===g||l[l.length-1]+m+2*a>o)&&(d+=u,l[l.length-(g>0?0:1)]=0,f+=u,h++),c[g]={left:0,top:f,row:h,width:m,height:i},l[l.length-1]+=m+a}),d}_fitCols(e,n,r,i){const{ctx:s,maxHeight:o,options:{labels:{padding:a}}}=this,c=this.legendHitBoxes=[],l=this.columnSizes=[],u=o-e;let d=a,h=0,f=0,p=0,g=0;return this.legendItems.forEach((m,_)=>{const{itemWidth:y,itemHeight:v}=function L0e(t,e,n,r,i){const s=function F0e(t,e,n,r){let i=t.text;return i&&"string"!=typeof i&&(i=i.reduce((s,o)=>s.length>o.length?s:o)),e+n.size/2+r.measureText(i).width}(r,t,e,n),o=function B0e(t,e,n){let r=t;return"string"!=typeof e.text&&(r=L6(e,n)),r}(i,r,e.lineHeight);return{itemWidth:s,itemHeight:o}}(r,n,s,m,i);_>0&&f+v+2*a>u&&(d+=h+a,l.push({width:h,height:f}),p+=h+a,g++,h=f=0),c[_]={left:p,top:f,col:g,width:y,height:v},h=Math.max(h,y),f+=v+a}),d+=h,l.push({width:h,height:f}),d}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:r,labels:{padding:i},rtl:s}}=this,o=ku(s,this.left,this.width);if(this.isHorizontal()){let a=0,c=Un(r,this.left+i,this.right-this.lineWidths[a]);for(const l of n)a!==l.row&&(a=l.row,c=Un(r,this.left+i,this.right-this.lineWidths[a])),l.top+=this.top+e+i,l.left=o.leftForLtr(o.x(c),l.width),c+=l.width+i}else{let a=0,c=Un(r,this.top+e+i,this.bottom-this.columnSizes[a].height);for(const l of n)l.col!==a&&(a=l.col,c=Un(r,this.top+e+i,this.bottom-this.columnSizes[a].height)),l.top=c,l.left+=this.left+i,l.left=o.leftForLtr(o.x(l.left),l.width),c+=l.height+i}}isHorizontal(){return"top"===this.options.position||"bottom"===this.options.position}draw(){if(this.options.display){const e=this.ctx;nv(e,this),this._draw(),rv(e)}}_draw(){const{options:e,columnSizes:n,lineWidths:r,ctx:i}=this,{align:s,labels:o}=e,a=Mt.color,c=ku(e.rtl,this.left,this.width),l=rn(o.font),{padding:u}=o,d=l.size,h=d/2;let f;this.drawTitle(),i.textAlign=c.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=l.string;const{boxWidth:p,boxHeight:g,itemHeight:m}=O6(o,d),v=this.isHorizontal(),I=this._computeTitleHeight();f=v?{x:Un(s,this.left+u,this.right-r[0]),y:this.top+u+I,line:0}:{x:this.left+u,y:Un(s,this.top+I+u,this.bottom-n[0].height),line:0},w5(this.ctx,e.textDirection);const w=m+u;this.legendItems.forEach((T,O)=>{i.strokeStyle=T.fontColor,i.fillStyle=T.fontColor;const P=i.measureText(T.text).width,q=c.textAlign(T.textAlign||(T.textAlign=o.textAlign)),pe=p+h+P;let ye=f.x,xe=f.y;c.setWidth(this.width),v?O>0&&ye+pe+u>this.right&&(xe=f.y+=w,f.line++,ye=f.x=Un(s,this.left+u,this.right-r[f.line])):O>0&&xe+w>this.bottom&&(ye=f.x=ye+n[f.line].width+u,f.line++,xe=f.y=Un(s,this.top+I+u,this.bottom-n[f.line].height)),function(T,O,P){if(isNaN(p)||p<=0||isNaN(g)||g<0)return;i.save();const q=we(P.lineWidth,1);if(i.fillStyle=we(P.fillStyle,a),i.lineCap=we(P.lineCap,"butt"),i.lineDashOffset=we(P.lineDashOffset,0),i.lineJoin=we(P.lineJoin,"miter"),i.lineWidth=q,i.strokeStyle=we(P.strokeStyle,a),i.setLineDash(we(P.lineDash,[])),o.usePointStyle){const pe={radius:g*Math.SQRT2/2,pointStyle:P.pointStyle,rotation:P.rotation,borderWidth:q},ye=c.xPlus(T,p/2);l5(i,pe,ye,O+h,o.pointStyleWidth&&p)}else{const pe=O+Math.max((d-g)/2,0),ye=c.leftForLtr(T,p),xe=oc(P.borderRadius);i.beginPath(),Object.values(xe).some(An=>0!==An)?Yf(i,{x:ye,y:pe,w:p,h:g,radius:xe}):i.rect(ye,pe,p,g),i.fill(),0!==q&&i.stroke()}i.restore()}(c.x(ye),xe,T),ye=((t,e,n,r)=>t===(r?"left":"right")?n:"center"===t?(e+n)/2:e)(q,ye+p+h,v?ye+pe:this.right,e.rtl),function(T,O,P){sc(i,P.text,T,O+m/2,l,{strikethrough:P.hidden,textAlign:c.textAlign(P.textAlign)})}(c.x(ye),xe,T),v?f.x+=pe+u:f.y+="string"!=typeof T.text?L6(T,l.lineHeight)+u:w}),I5(this.ctx,e.textDirection)}drawTitle(){const e=this.options,n=e.title,r=rn(n.font),i=jn(n.padding);if(!n.display)return;const s=ku(e.rtl,this.left,this.width),o=this.ctx,a=n.position,l=i.top+r.size/2;let u,d=this.left,h=this.width;if(this.isHorizontal())h=Math.max(...this.lineWidths),u=this.top+l,d=Un(e.align,d,this.right-h);else{const p=this.columnSizes.reduce((g,m)=>Math.max(g,m.height),0);u=l+Un(e.align,this.top,this.bottom-p-e.labels.padding-this._computeTitleHeight())}const f=Un(a,d,d+h);o.textAlign=s.textAlign(zM(a)),o.textBaseline="middle",o.strokeStyle=n.color,o.fillStyle=n.color,o.font=r.string,sc(o,n.text,f,u,r)}_computeTitleHeight(){const e=this.options.title,n=rn(e.font),r=jn(e.padding);return e.display?n.lineHeight+r.height:0}_getLegendItemAt(e,n){let r,i,s;if(Gs(e,this.left,this.right)&&Gs(n,this.top,this.bottom))for(s=this.legendHitBoxes,r=0;r<s.length;++r)if(i=s[r],Gs(e,i.left,i.left+i.width)&&Gs(n,i.top,i.top+i.height))return this.legendItems[r];return null}handleEvent(e){const n=this.options;if(!function V0e(t,e){return!(("mousemove"!==t&&"mouseout"!==t||!e.onHover&&!e.onLeave)&&(!e.onClick||"click"!==t&&"mouseup"!==t))}(e.type,n))return;const r=this._getLegendItemAt(e.x,e.y);if("mousemove"===e.type||"mouseout"===e.type){const i=this._hoveredItem,s=((t,e)=>null!==t&&null!==e&&t.datasetIndex===e.datasetIndex&&t.index===e.index)(i,r);i&&!s&&st(n.onLeave,[e,i,this],this),this._hoveredItem=r,r&&!s&&st(n.onHover,[e,r,this],this)}else r&&st(n.onClick,[e,r,this],this)}}function L6(t,e){return e*(t.text?t.text.length:0)}var U0e={id:"legend",_element:N6,start(t,e,n){const r=t.legend=new N6({ctx:t.ctx,options:n,chart:t});$n.configure(t,r,n),$n.addBox(t,r)},stop(t){$n.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const r=t.legend;$n.configure(t,r,n),r.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const r=e.datasetIndex,i=n.chart;i.isDatasetVisible(r)?(i.hide(r),e.hidden=!0):(i.show(r),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:r,textAlign:i,color:s,useBorderRadius:o,borderRadius:a}}=t.legend.options;return t._getSortedDatasetMetas().map(c=>{const l=c.controller.getStyle(n?0:void 0),u=jn(l.borderWidth);return{text:e[c.index].label,fillStyle:l.backgroundColor,fontColor:s,hidden:!c.visible,lineCap:l.borderCapStyle,lineDash:l.borderDash,lineDashOffset:l.borderDashOffset,lineJoin:l.borderJoinStyle,lineWidth:(u.width+u.height)/4,strokeStyle:l.borderColor,pointStyle:r||l.pointStyle,rotation:l.rotation,textAlign:i||l.textAlign,borderRadius:o&&(a||l.borderRadius),datasetIndex:c.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class bk extends Ys{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n){const r=this.options;if(this.left=0,this.top=0,!r.display)return void(this.width=this.height=this.right=this.bottom=0);this.width=this.right=e,this.height=this.bottom=n;const i=ut(r.text)?r.text.length:1;this._padding=jn(r.padding);const s=i*rn(r.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=s:this.width=s}isHorizontal(){const e=this.options.position;return"top"===e||"bottom"===e}_drawArgs(e){const{top:n,left:r,bottom:i,right:s,options:o}=this,a=o.align;let l,u,d,c=0;return this.isHorizontal()?(u=Un(a,r,s),d=n+e,l=s-r):("left"===o.position?(u=r+e,d=Un(a,i,n),c=-.5*dt):(u=s-e,d=Un(a,n,i),c=.5*dt),l=i-n),{titleX:u,titleY:d,maxWidth:l,rotation:c}}draw(){const e=this.ctx,n=this.options;if(!n.display)return;const r=rn(n.font),s=r.lineHeight/2+this._padding.top,{titleX:o,titleY:a,maxWidth:c,rotation:l}=this._drawArgs(s);sc(e,n.text,0,0,r,{color:n.color,maxWidth:c,rotation:l,textAlign:zM(n.align),textBaseline:"middle",translation:[o,a]})}}var $0e={id:"title",_element:bk,start(t,e,n){!function j0e(t,e){const n=new bk({ctx:t.ctx,options:e,chart:t});$n.configure(t,n,e),$n.addBox(t,n),t.titleBlock=n}(t,n)},stop(t){$n.removeBox(t,t.titleBlock),delete t.titleBlock},beforeUpdate(t,e,n){const r=t.titleBlock;$n.configure(t,r,n),r.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const _v=new WeakMap;var H0e={id:"subtitle",start(t,e,n){const r=new bk({ctx:t.ctx,options:n,chart:t});$n.configure(t,r,n),$n.addBox(t,r),_v.set(t,r)},stop(t){$n.removeBox(t,_v.get(t)),_v.delete(t)},beforeUpdate(t,e,n){const r=_v.get(t);$n.configure(t,r,n),r.options=n},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const sp={average(t){if(!t.length)return!1;let e,n,r=new Set,i=0,s=0;for(e=0,n=t.length;e<n;++e){const a=t[e].element;if(a&&a.hasValue()){const c=a.tooltipPosition();r.add(c.x),i+=c.y,++s}}return{x:[...r].reduce((a,c)=>a+c)/r.size,y:i/s}},nearest(t,e){if(!t.length)return!1;let s,o,a,n=e.x,r=e.y,i=Number.POSITIVE_INFINITY;for(s=0,o=t.length;s<o;++s){const c=t[s].element;if(c&&c.hasValue()){const u=$M(e,c.getCenterPoint());u<i&&(i=u,a=c)}}if(a){const c=a.tooltipPosition();n=c.x,r=c.y}return{x:n,y:r}}};function Ji(t,e){return e&&(ut(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function Zs(t){return("string"==typeof t||t instanceof String)&&t.indexOf("\n")>-1?t.split("\n"):t}function z0e(t,e){const{element:n,datasetIndex:r,index:i}=e,s=t.getDatasetMeta(r).controller,{label:o,value:a}=s.getLabelAndValue(i);return{chart:t,label:o,parsed:s.getParsed(i),raw:t.data.datasets[r].data[i],formattedValue:a,dataset:s.getDataset(),dataIndex:i,datasetIndex:r,element:n}}function F6(t,e){const n=t.chart.ctx,{body:r,footer:i,title:s}=t,{boxWidth:o,boxHeight:a}=e,c=rn(e.bodyFont),l=rn(e.titleFont),u=rn(e.footerFont),d=s.length,h=i.length,f=r.length,p=jn(e.padding);let g=p.height,m=0,_=r.reduce((I,w)=>I+w.before.length+w.lines.length+w.after.length,0);_+=t.beforeBody.length+t.afterBody.length,d&&(g+=d*l.lineHeight+(d-1)*e.titleSpacing+e.titleMarginBottom),_&&(g+=f*(e.displayColors?Math.max(a,c.lineHeight):c.lineHeight)+(_-f)*c.lineHeight+(_-1)*e.bodySpacing),h&&(g+=e.footerMarginTop+h*u.lineHeight+(h-1)*e.footerSpacing);let y=0;const v=function(I){m=Math.max(m,n.measureText(I).width+y)};return n.save(),n.font=l.string,We(t.title,v),n.font=c.string,We(t.beforeBody.concat(t.afterBody),v),y=e.displayColors?o+2+e.boxPadding:0,We(r,I=>{We(I.before,v),We(I.lines,v),We(I.after,v)}),y=0,n.font=u.string,We(t.footer,v),n.restore(),m+=p.width,{width:m,height:g}}function q0e(t,e,n,r){const{x:i,width:s}=n,{width:o,chartArea:{left:a,right:c}}=t;let l="center";return"center"===r?l=i<=(a+c)/2?"left":"right":i<=s/2?l="left":i>=o-s/2&&(l="right"),function W0e(t,e,n,r){const{x:i,width:s}=r,o=n.caretSize+n.caretPadding;if("left"===t&&i+s+o>e.width||"right"===t&&i-s-o<0)return!0}(l,t,e,n)&&(l="center"),l}function B6(t,e,n){const r=n.yAlign||e.yAlign||function G0e(t,e){const{y:n,height:r}=e;return n<r/2?"top":n>t.height-r/2?"bottom":"center"}(t,n);return{xAlign:n.xAlign||e.xAlign||q0e(t,e,n,r),yAlign:r}}function V6(t,e,n,r){const{caretSize:i,caretPadding:s,cornerRadius:o}=t,{xAlign:a,yAlign:c}=n,l=i+s,{topLeft:u,topRight:d,bottomLeft:h,bottomRight:f}=oc(o);let p=function K0e(t,e){let{x:n,width:r}=t;return"right"===e?n-=r:"center"===e&&(n-=r/2),n}(e,a);const g=function Y0e(t,e,n){let{y:r,height:i}=t;return"top"===e?r+=n:r-="bottom"===e?i+n:i/2,r}(e,c,l);return"center"===c?"left"===a?p+=l:"right"===a&&(p-=l):"left"===a?p-=Math.max(u,h)+i:"right"===a&&(p+=Math.max(d,f)+i),{x:pn(p,0,r.width-e.width),y:pn(g,0,r.height-e.height)}}function vv(t,e,n){const r=jn(n.padding);return"center"===e?t.x+t.width/2:"right"===e?t.x+t.width-r.right:t.x+r.left}function U6(t){return Ji([],Zs(t))}function j6(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const $6={beforeTitle:zs,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,r=n?n.length:0;if(this&&this.options&&"dataset"===this.options.mode)return e.dataset.label||"";if(e.label)return e.label;if(r>0&&e.dataIndex<r)return n[e.dataIndex]}return""},afterTitle:zs,beforeBody:zs,beforeLabel:zs,label(t){if(this&&this.options&&"dataset"===this.options.mode)return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return Le(n)||(e+=n),e},labelColor(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:zs,afterBody:zs,beforeFooter:zs,footer:zs,afterFooter:zs};function mr(t,e,n,r){const i=t[e].call(n,r);return typeof i>"u"?$6[e].call(n,r):i}let H6=(()=>class t extends Ys{static positioners=sp;constructor(n){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=n.chart,this.options=n.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(n){this.options=n,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const n=this._cachedAnimations;if(n)return n;const r=this.chart,i=this.options.setContext(this.getContext()),s=i.enabled&&r.options.animation&&i.animations,o=new M5(this.chart,s);return s._cacheable&&(this._cachedAnimations=Object.freeze(o)),o}getContext(){return this.$context||(this.$context=function Z0e(t,e,n){return zo(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}(this.chart.getContext(),this,this._tooltipItems))}getTitle(n,r){const{callbacks:i}=r,s=mr(i,"beforeTitle",this,n),o=mr(i,"title",this,n),a=mr(i,"afterTitle",this,n);let c=[];return c=Ji(c,Zs(s)),c=Ji(c,Zs(o)),c=Ji(c,Zs(a)),c}getBeforeBody(n,r){return U6(mr(r.callbacks,"beforeBody",this,n))}getBody(n,r){const{callbacks:i}=r,s=[];return We(n,o=>{const a={before:[],lines:[],after:[]},c=j6(i,o);Ji(a.before,Zs(mr(c,"beforeLabel",this,o))),Ji(a.lines,mr(c,"label",this,o)),Ji(a.after,Zs(mr(c,"afterLabel",this,o))),s.push(a)}),s}getAfterBody(n,r){return U6(mr(r.callbacks,"afterBody",this,n))}getFooter(n,r){const{callbacks:i}=r,s=mr(i,"beforeFooter",this,n),o=mr(i,"footer",this,n),a=mr(i,"afterFooter",this,n);let c=[];return c=Ji(c,Zs(s)),c=Ji(c,Zs(o)),c=Ji(c,Zs(a)),c}_createItems(n){const r=this._active,i=this.chart.data,s=[],o=[],a=[];let l,u,c=[];for(l=0,u=r.length;l<u;++l)c.push(z0e(this.chart,r[l]));return n.filter&&(c=c.filter((d,h,f)=>n.filter(d,h,f,i))),n.itemSort&&(c=c.sort((d,h)=>n.itemSort(d,h,i))),We(c,d=>{const h=j6(n.callbacks,d);s.push(mr(h,"labelColor",this,d)),o.push(mr(h,"labelPointStyle",this,d)),a.push(mr(h,"labelTextColor",this,d))}),this.labelColors=s,this.labelPointStyles=o,this.labelTextColors=a,this.dataPoints=c,c}update(n,r){const i=this.options.setContext(this.getContext()),s=this._active;let o,a=[];if(s.length){const c=sp[i.position].call(this,s,this._eventPosition);a=this._createItems(i),this.title=this.getTitle(a,i),this.beforeBody=this.getBeforeBody(a,i),this.body=this.getBody(a,i),this.afterBody=this.getAfterBody(a,i),this.footer=this.getFooter(a,i);const l=this._size=F6(this,i),u=Object.assign({},c,l),d=B6(this.chart,i,u),h=V6(i,u,d,this.chart);this.xAlign=d.xAlign,this.yAlign=d.yAlign,o={opacity:1,x:h.x,y:h.y,width:l.width,height:l.height,caretX:c.x,caretY:c.y}}else 0!==this.opacity&&(o={opacity:0});this._tooltipItems=a,this.$context=void 0,o&&this._resolveAnimations().update(this,o),n&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:r})}drawCaret(n,r,i,s){const o=this.getCaretPosition(n,i,s);r.lineTo(o.x1,o.y1),r.lineTo(o.x2,o.y2),r.lineTo(o.x3,o.y3)}getCaretPosition(n,r,i){const{xAlign:s,yAlign:o}=this,{caretSize:a,cornerRadius:c}=i,{topLeft:l,topRight:u,bottomLeft:d,bottomRight:h}=oc(c),{x:f,y:p}=n,{width:g,height:m}=r;let _,y,v,I,w,T;return"center"===o?(w=p+m/2,"left"===s?(_=f,y=_-a,I=w+a,T=w-a):(_=f+g,y=_+a,I=w-a,T=w+a),v=_):(y="left"===s?f+Math.max(l,d)+a:"right"===s?f+g-Math.max(u,h)-a:this.caretX,"top"===o?(I=p,w=I-a,_=y-a,v=y+a):(I=p+m,w=I+a,_=y+a,v=y-a),T=I),{x1:_,x2:y,x3:v,y1:I,y2:w,y3:T}}drawTitle(n,r,i){const s=this.title,o=s.length;let a,c,l;if(o){const u=ku(i.rtl,this.x,this.width);for(n.x=vv(this,i.titleAlign,i),r.textAlign=u.textAlign(i.titleAlign),r.textBaseline="middle",a=rn(i.titleFont),c=i.titleSpacing,r.fillStyle=i.titleColor,r.font=a.string,l=0;l<o;++l)r.fillText(s[l],u.x(n.x),n.y+a.lineHeight/2),n.y+=a.lineHeight+c,l+1===o&&(n.y+=i.titleMarginBottom-c)}}_drawColorBox(n,r,i,s,o){const a=this.labelColors[i],c=this.labelPointStyles[i],{boxHeight:l,boxWidth:u}=o,d=rn(o.bodyFont),h=vv(this,"left",o),f=s.x(h),g=r.y+(l<d.lineHeight?(d.lineHeight-l)/2:0);if(o.usePointStyle){const m={radius:Math.min(u,l)/2,pointStyle:c.pointStyle,rotation:c.rotation,borderWidth:1},_=s.leftForLtr(f,u)+u/2,y=g+l/2;n.strokeStyle=o.multiKeyBackground,n.fillStyle=o.multiKeyBackground,YM(n,m,_,y),n.strokeStyle=a.borderColor,n.fillStyle=a.backgroundColor,YM(n,m,_,y)}else{n.lineWidth=Se(a.borderWidth)?Math.max(...Object.values(a.borderWidth)):a.borderWidth||1,n.strokeStyle=a.borderColor,n.setLineDash(a.borderDash||[]),n.lineDashOffset=a.borderDashOffset||0;const m=s.leftForLtr(f,u),_=s.leftForLtr(s.xPlus(f,1),u-2),y=oc(a.borderRadius);Object.values(y).some(v=>0!==v)?(n.beginPath(),n.fillStyle=o.multiKeyBackground,Yf(n,{x:m,y:g,w:u,h:l,radius:y}),n.fill(),n.stroke(),n.fillStyle=a.backgroundColor,n.beginPath(),Yf(n,{x:_,y:g+1,w:u-2,h:l-2,radius:y}),n.fill()):(n.fillStyle=o.multiKeyBackground,n.fillRect(m,g,u,l),n.strokeRect(m,g,u,l),n.fillStyle=a.backgroundColor,n.fillRect(_,g+1,u-2,l-2))}n.fillStyle=this.labelTextColors[i]}drawBody(n,r,i){const{body:s}=this,{bodySpacing:o,bodyAlign:a,displayColors:c,boxHeight:l,boxWidth:u,boxPadding:d}=i,h=rn(i.bodyFont);let f=h.lineHeight,p=0;const g=ku(i.rtl,this.x,this.width),m=function(q){r.fillText(q,g.x(n.x+p),n.y+f/2),n.y+=f+o},_=g.textAlign(a);let y,v,I,w,T,O,P;for(r.textAlign=a,r.textBaseline="middle",r.font=h.string,n.x=vv(this,_,i),r.fillStyle=i.bodyColor,We(this.beforeBody,m),p=c&&"right"!==_?"center"===a?u/2+d:u+2+d:0,w=0,O=s.length;w<O;++w){for(y=s[w],v=this.labelTextColors[w],r.fillStyle=v,We(y.before,m),I=y.lines,c&&I.length&&(this._drawColorBox(r,n,w,g,i),f=Math.max(h.lineHeight,l)),T=0,P=I.length;T<P;++T)m(I[T]),f=h.lineHeight;We(y.after,m)}p=0,f=h.lineHeight,We(this.afterBody,m),n.y-=o}drawFooter(n,r,i){const s=this.footer,o=s.length;let a,c;if(o){const l=ku(i.rtl,this.x,this.width);for(n.x=vv(this,i.footerAlign,i),n.y+=i.footerMarginTop,r.textAlign=l.textAlign(i.footerAlign),r.textBaseline="middle",a=rn(i.footerFont),r.fillStyle=i.footerColor,r.font=a.string,c=0;c<o;++c)r.fillText(s[c],l.x(n.x),n.y+a.lineHeight/2),n.y+=a.lineHeight+i.footerSpacing}}drawBackground(n,r,i,s){const{xAlign:o,yAlign:a}=this,{x:c,y:l}=n,{width:u,height:d}=i,{topLeft:h,topRight:f,bottomLeft:p,bottomRight:g}=oc(s.cornerRadius);r.fillStyle=s.backgroundColor,r.strokeStyle=s.borderColor,r.lineWidth=s.borderWidth,r.beginPath(),r.moveTo(c+h,l),"top"===a&&this.drawCaret(n,r,i,s),r.lineTo(c+u-f,l),r.quadraticCurveTo(c+u,l,c+u,l+f),"center"===a&&"right"===o&&this.drawCaret(n,r,i,s),r.lineTo(c+u,l+d-g),r.quadraticCurveTo(c+u,l+d,c+u-g,l+d),"bottom"===a&&this.drawCaret(n,r,i,s),r.lineTo(c+p,l+d),r.quadraticCurveTo(c,l+d,c,l+d-p),"center"===a&&"left"===o&&this.drawCaret(n,r,i,s),r.lineTo(c,l+h),r.quadraticCurveTo(c,l,c+h,l),r.closePath(),r.fill(),s.borderWidth>0&&r.stroke()}_updateAnimationTarget(n){const r=this.chart,i=this.$animations,s=i&&i.x,o=i&&i.y;if(s||o){const a=sp[n.position].call(this,this._active,this._eventPosition);if(!a)return;const c=this._size=F6(this,n),l=Object.assign({},a,this._size),u=B6(r,n,l),d=V6(n,l,u,r);(s._to!==d.x||o._to!==d.y)&&(this.xAlign=u.xAlign,this.yAlign=u.yAlign,this.width=c.width,this.height=c.height,this.caretX=a.x,this.caretY=a.y,this._resolveAnimations().update(this,d))}}_willRender(){return!!this.opacity}draw(n){const r=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(r);const s={width:this.width,height:this.height},o={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const a=jn(r.padding);r.enabled&&(this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length)&&(n.save(),n.globalAlpha=i,this.drawBackground(o,n,s,r),w5(n,r.textDirection),o.y+=a.top,this.drawTitle(o,n,r),this.drawBody(o,n,r),this.drawFooter(o,n,r),I5(n,r.textDirection),n.restore())}getActiveElements(){return this._active||[]}setActiveElements(n,r){const i=this._active,s=n.map(({datasetIndex:c,index:l})=>{const u=this.chart.getDatasetMeta(c);if(!u)throw new Error("Cannot find a dataset at index "+c);return{datasetIndex:c,element:u.data[l],index:l}}),o=!Z_(i,s),a=this._positionChanged(s,r);(o||a)&&(this._active=s,this._eventPosition=r,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(n,r,i=!0){if(r&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const s=this.options,o=this._active||[],a=this._getActiveElements(n,o,r,i),c=this._positionChanged(a,n),l=r||!Z_(a,o)||c;return l&&(this._active=a,(s.enabled||s.external)&&(this._eventPosition={x:n.x,y:n.y},this.update(!0,r))),l}_getActiveElements(n,r,i,s){const o=this.options;if("mouseout"===n.type)return[];if(!s)return r.filter(c=>this.chart.data.datasets[c.datasetIndex]&&void 0!==this.chart.getDatasetMeta(c.datasetIndex).controller.getParsed(c.index));const a=this.chart.getElementsAtEventForMode(n,o.mode,o,i);return o.reverse&&a.reverse(),a}_positionChanged(n,r){const{caretX:i,caretY:s,options:o}=this,a=sp[o.position].call(this,n,r);return!1!==a&&(i!==a.x||s!==a.y)}})();var Q0e={id:"tooltip",_element:H6,positioners:sp,afterInit(t,e,n){n&&(t.tooltip=new H6({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(!1===t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0}))return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){t.tooltip&&t.tooltip.handleEvent(e.event,e.replay,e.inChartArea)&&(e.changed=!0)},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:$6},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>"filter"!==t&&"itemSort"!==t&&"external"!==t,_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},X0e=Object.freeze({__proto__:null,Colors:u0e,Decimation:p0e,Filler:O0e,Legend:U0e,SubTitle:H0e,Title:$0e,Tooltip:Q0e});function z6(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}let nIe=(()=>class t extends dc{static id="category";static defaults={ticks:{callback:z6}};constructor(n){super(n),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(n){const r=this._addedLabels;if(r.length){const i=this.getLabels();for(const{index:s,label:o}of r)i[s]===o&&i.splice(s,1);this._addedLabels=[]}super.init(n)}parse(n,r){if(Le(n))return null;const i=this.getLabels();return((t,e)=>null===t?null:pn(Math.round(t),0,e))(r=isFinite(r)&&i[r]===n?r:function eIe(t,e,n,r){const i=t.indexOf(e);return-1===i?((t,e,n,r)=>("string"==typeof e?(n=t.push(e)-1,r.unshift({index:n,label:e})):isNaN(e)&&(n=null),n))(t,e,n,r):i!==t.lastIndexOf(e)?n:i}(i,n,we(r,n),this._addedLabels),i.length-1)}determineDataLimits(){const{minDefined:n,maxDefined:r}=this.getUserBounds();let{min:i,max:s}=this.getMinMax(!0);"ticks"===this.options.bounds&&(n||(i=0),r||(s=this.getLabels().length-1)),this.min=i,this.max=s}buildTicks(){const n=this.min,r=this.max,i=this.options.offset,s=[];let o=this.getLabels();o=0===n&&r===o.length-1?o:o.slice(n,r+1),this._valueRange=Math.max(o.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let a=n;a<=r;a++)s.push({value:a});return s}getLabelForValue(n){return z6.call(this,n)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(n){return"number"!=typeof n&&(n=this.parse(n)),null===n?NaN:this.getPixelForDecimal((n-this._startValue)/this._valueRange)}getPixelForTick(n){const r=this.ticks;return n<0||n>r.length-1?null:this.getPixelForValue(r[n].value)}getValueForPixel(n){return Math.round(this._startValue+this.getDecimalForPixel(n)*this._valueRange)}getBasePixel(){return this.bottom}})();function G6(t,e,{horizontal:n,minRotation:r}){const i=_i(r),s=(n?Math.sin(i):Math.cos(i))||.001;return Math.min(e/s,.75*e*(""+t).length)}class bv extends dc{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return Le(e)||("number"==typeof e||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:n,maxDefined:r}=this.getUserBounds();let{min:i,max:s}=this;const o=c=>i=n?i:c,a=c=>s=r?s:c;if(e){const c=Qi(i),l=Qi(s);c<0&&l<0?a(0):c>0&&l>0&&o(0)}if(i===s){let c=0===s?1:Math.abs(.05*s);a(s+c),e||o(i-c)}this.min=i,this.max=s}getTickLimit(){const e=this.options.ticks;let i,{maxTicksLimit:n,stepSize:r}=e;return r?(i=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,i>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${r} would result generating up to ${i} ticks. Limiting to 1000.`),i=1e3)):(i=this.computeTickLimit(),n=n||11),n&&(i=Math.min(n,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,n=e.ticks;let r=this.getTickLimit();r=Math.max(2,r);const o=function rIe(t,e){const n=[],{bounds:i,step:s,min:o,max:a,precision:c,count:l,maxTicks:u,maxDigits:d,includeBounds:h}=t,f=s||1,p=u-1,{min:g,max:m}=e,_=!Le(o),y=!Le(a),v=!Le(l),I=(m-g)/(d+1);let T,O,P,q,w=W3((m-g)/p/f)*f;if(w<1e-14&&!_&&!y)return[{value:g},{value:m}];q=Math.ceil(m/w)-Math.floor(g/w),q>p&&(w=W3(q*w/p/f)*f),Le(c)||(T=Math.pow(10,c),w=Math.ceil(w*T)/T),"ticks"===i?(O=Math.floor(g/w)*w,P=Math.ceil(m/w)*w):(O=g,P=m),_&&y&&s&&function z_e(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}((a-o)/s,w/1e3)?(q=Math.round(Math.min((a-o)/w,u)),w=(a-o)/q,O=o,P=a):v?(O=_?o:O,P=y?a:P,q=l-1,w=(P-O)/q):(q=(P-O)/w,q=zf(q,Math.round(q),w/1e3)?Math.round(q):Math.ceil(q));const pe=Math.max(K3(w),K3(O));T=Math.pow(10,Le(c)?pe:c),O=Math.round(O*T)/T,P=Math.round(P*T)/T;let ye=0;for(_&&(h&&O!==o?(n.push({value:o}),O<o&&ye++,zf(Math.round((O+ye*w)*T)/T,o,G6(o,I,t))&&ye++):O<o&&ye++);ye<q;++ye){const xe=Math.round((O+ye*w)*T)/T;if(y&&xe>a)break;n.push({value:xe})}return y&&h&&P!==a?n.length&&zf(n[n.length-1].value,a,G6(a,I,t))?n[n.length-1].value=a:n.push({value:a}):(!y||P===a)&&n.push({value:P}),n}({maxTicks:r,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:!1!==n.includeBounds},this._range||this);return"ticks"===e.bounds&&q3(o,this,"value"),e.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const e=this.ticks;let n=this.min,r=this.max;if(super.configure(),this.options.offset&&e.length){const i=(r-n)/Math.max(e.length-1,1)/2;n-=i,r+=i}this._startValue=n,this._endValue=r,this._valueRange=r-n}getLabelForValue(e){return qf(e,this.chart.options.locale,this.options.ticks.format)}}const op=t=>Math.floor(Ho(t)),hc=(t,e)=>Math.pow(10,op(t)+e);function W6(t){return t/Math.pow(10,op(t))==1}function q6(t,e,n){const r=Math.pow(10,n),i=Math.floor(t/r);return Math.ceil(e/r)-i}function wk(t){const e=t.ticks;if(e.display&&t.display){const n=jn(e.backdropPadding);return we(e.font&&e.font.size,Mt.font.size)+n.height}return 0}function cIe(t,e,n){return n=ut(n)?n:[n],{w:ave(t,e.string,n),h:n.length*e.lineHeight}}function K6(t,e,n,r,i){return t===r||t===i?{start:e-n/2,end:e+n/2}:t<r||t>i?{start:e-n,end:e}:{start:e,end:e+n}}function uIe(t,e,n,r,i){const s=Math.abs(Math.sin(n)),o=Math.abs(Math.cos(n));let a=0,c=0;r.start<e.l?(a=(e.l-r.start)/s,t.l=Math.min(t.l,e.l-a)):r.end>e.r&&(a=(r.end-e.r)/s,t.r=Math.max(t.r,e.r+a)),i.start<e.t?(c=(e.t-i.start)/o,t.t=Math.min(t.t,e.t-c)):i.end>e.b&&(c=(i.end-e.b)/o,t.b=Math.max(t.b,e.b+c))}function dIe(t,e,n){const r=t.drawingArea,{extra:i,additionalAngle:s,padding:o,size:a}=n,c=t.getPointPosition(e,r+i+o,s),l=Math.round(jM(Rr(c.angle+jt))),u=function mIe(t,e,n){return 90===n||270===n?t-=e/2:(n>270||n<90)&&(t-=e),t}(c.y,a.h,l),d=function pIe(t){return 0===t||180===t?"center":t<180?"left":"right"}(l),h=function gIe(t,e,n){return"right"===n?t-=e:"center"===n&&(t-=e/2),t}(c.x,a.w,d);return{visible:!0,x:c.x,y:u,textAlign:d,left:h,top:u,right:h+a.w,bottom:u+a.h}}function hIe(t,e){if(!e)return!0;const{left:n,top:r,right:i,bottom:s}=t;return!(qs({x:n,y:r},e)||qs({x:n,y:s},e)||qs({x:i,y:r},e)||qs({x:i,y:s},e))}function yIe(t,e,n){const{left:r,top:i,right:s,bottom:o}=n,{backdropColor:a}=e;if(!Le(a)){const c=oc(e.borderRadius),l=jn(e.backdropPadding);t.fillStyle=a;const u=r-l.left,d=i-l.top,h=s-r+l.width,f=o-i+l.height;Object.values(c).some(p=>0!==p)?(t.beginPath(),Yf(t,{x:u,y:d,w:h,h:f,radius:c}),t.fill()):t.fillRect(u,d,h,f)}}function Y6(t,e,n,r){const{ctx:i}=t;if(n)i.arc(t.xCenter,t.yCenter,e,0,ht);else{let s=t.getPointPosition(0,e);i.moveTo(s.x,s.y);for(let o=1;o<r;o++)s=t.getPointPosition(o,e),i.lineTo(s.x,s.y)}}const wv={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},yr=Object.keys(wv);function Z6(t,e){return t-e}function Q6(t,e){if(Le(e))return null;const n=t._adapter,{parser:r,round:i,isoWeekday:s}=t._parseOpts;let o=e;return"function"==typeof r&&(o=r(o)),At(o)||(o="string"==typeof r?n.parse(o,r):n.parse(o)),null===o?null:(i&&(o="week"!==i||!xu(s)&&!0!==s?n.startOf(o,i):n.startOf(o,"isoWeek",s)),+o)}function X6(t,e,n,r){const i=yr.length;for(let s=yr.indexOf(t);s<i-1;++s){const o=wv[yr[s]];if(o.common&&Math.ceil((n-e)/((o.steps?o.steps:Number.MAX_SAFE_INTEGER)*o.size))<=r)return yr[s]}return yr[i-1]}function J6(t,e,n){if(n){if(n.length){const{lo:r,hi:i}=HM(n,e);t[n[r]>=e?n[r]:n[i]]=!0}}else t[e]=!0}function eG(t,e,n){const r=[],i={},s=e.length;let o,a;for(o=0;o<s;++o)a=e[o],i[a]=o,r.push({value:a,major:!1});return 0!==s&&n?function EIe(t,e,n,r){const i=t._adapter,s=+i.startOf(e[0].value,r),o=e[e.length-1].value;let a,c;for(a=s;a<=o;a=+i.add(a,1,r))c=n[a],c>=0&&(e[c].major=!0);return e}(t,r,i,n):r}let Ik=(()=>class t extends dc{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(n){super(n),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(n,r={}){const i=n.time||(n.time={}),s=this._adapter=new Dbe__date(n.adapters.date);s.init(r),$f(i.displayFormats,s.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(n),this._normalized=r.normalized}parse(n,r){return void 0===n?null:Q6(this,n)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const n=this.options,r=this._adapter,i=n.time.unit||"day";let{min:s,max:o,minDefined:a,maxDefined:c}=this.getUserBounds();function l(u){!a&&!isNaN(u.min)&&(s=Math.min(s,u.min)),!c&&!isNaN(u.max)&&(o=Math.max(o,u.max))}(!a||!c)&&(l(this._getLabelBounds()),("ticks"!==n.bounds||"labels"!==n.ticks.source)&&l(this.getMinMax(!1))),s=At(s)&&!isNaN(s)?s:+r.startOf(Date.now(),i),o=At(o)&&!isNaN(o)?o:+r.endOf(Date.now(),i)+1,this.min=Math.min(s,o-1),this.max=Math.max(s+1,o)}_getLabelBounds(){const n=this.getLabelTimestamps();let r=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return n.length&&(r=n[0],i=n[n.length-1]),{min:r,max:i}}buildTicks(){const n=this.options,r=n.time,i=n.ticks,s="labels"===i.source?this.getLabelTimestamps():this._generate();"ticks"===n.bounds&&s.length&&(this.min=this._userMin||s[0],this.max=this._userMax||s[s.length-1]);const o=this.min,c=function K_e(t,e,n){let r=0,i=t.length;for(;r<i&&t[r]<e;)r++;for(;i>r&&t[i-1]>n;)i--;return r>0||i<t.length?t.slice(r,i):t}(s,o,this.max);return this._unit=r.unit||(i.autoSkip?X6(r.minUnit,this.min,this.max,this._getLabelCapacity(o)):function IIe(t,e,n,r,i){for(let s=yr.length-1;s>=yr.indexOf(n);s--){const o=yr[s];if(wv[o].common&&t._adapter.diff(i,r,o)>=e-1)return o}return yr[n?yr.indexOf(n):0]}(this,c.length,r.minUnit,this.min,this.max)),this._majorUnit=i.major.enabled&&"year"!==this._unit?function CIe(t){for(let e=yr.indexOf(t)+1,n=yr.length;e<n;++e)if(wv[yr[e]].common)return yr[e]}(this._unit):void 0,this.initOffsets(s),n.reverse&&c.reverse(),eG(this,c,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(n=>+n.value))}initOffsets(n=[]){let s,o,r=0,i=0;this.options.offset&&n.length&&(s=this.getDecimalForValue(n[0]),r=1===n.length?1-s:(this.getDecimalForValue(n[1])-s)/2,o=this.getDecimalForValue(n[n.length-1]),i=1===n.length?o:(o-this.getDecimalForValue(n[n.length-2]))/2);const a=n.length<3?.5:.25;r=pn(r,0,a),i=pn(i,0,a),this._offsets={start:r,end:i,factor:1/(r+1+i)}}_generate(){const n=this._adapter,r=this.min,i=this.max,s=this.options,o=s.time,a=o.unit||X6(o.minUnit,r,i,this._getLabelCapacity(r)),c=we(s.ticks.stepSize,1),l="week"===a&&o.isoWeekday,u=xu(l)||!0===l,d={};let f,p,h=r;if(u&&(h=+n.startOf(h,"isoWeek",l)),h=+n.startOf(h,u?"day":a),n.diff(i,r,a)>1e5*c)throw new Error(r+" and "+i+" are too far apart with stepSize of "+c+" "+a);const g="data"===s.ticks.source&&this.getDataTimestamps();for(f=h,p=0;f<i;f=+n.add(f,c,a),p++)J6(d,f,g);return(f===i||"ticks"===s.bounds||1===p)&&J6(d,f,g),Object.keys(d).sort(Z6).map(m=>+m)}getLabelForValue(n){const i=this.options.time;return this._adapter.format(n,i.tooltipFormat?i.tooltipFormat:i.displayFormats.datetime)}format(n,r){return this._adapter.format(n,r||this.options.time.displayFormats[this._unit])}_tickFormatFunction(n,r,i,s){const o=this.options,a=o.ticks.callback;if(a)return st(a,[n,r,i],this);const c=o.time.displayFormats,l=this._unit,u=this._majorUnit,h=u&&c[u],f=i[r];return this._adapter.format(n,s||(u&&h&&f&&f.major?h:l&&c[l]))}generateTickLabels(n){let r,i,s;for(r=0,i=n.length;r<i;++r)s=n[r],s.label=this._tickFormatFunction(s.value,r,n)}getDecimalForValue(n){return null===n?NaN:(n-this.min)/(this.max-this.min)}getPixelForValue(n){const r=this._offsets,i=this.getDecimalForValue(n);return this.getPixelForDecimal((r.start+i)*r.factor)}getValueForPixel(n){const r=this._offsets,i=this.getDecimalForPixel(n)/r.factor-r.end;return this.min+i*(this.max-this.min)}_getLabelSize(n){const r=this.options.ticks,i=this.ctx.measureText(n).width,s=_i(this.isHorizontal()?r.maxRotation:r.minRotation),o=Math.cos(s),a=Math.sin(s),c=this._resolveTickFontOptions(0).size;return{w:i*o+c*a,h:i*a+c*o}}_getLabelCapacity(n){const r=this.options.time,i=r.displayFormats,s=i[r.unit]||i.millisecond,o=this._tickFormatFunction(n,0,eG(this,[n],this._majorUnit),s),a=this._getLabelSize(o),c=Math.floor(this.isHorizontal()?this.width/a.w:this.height/a.h)-1;return c>0?c:1}getDataTimestamps(){let r,i,n=this._cache.data||[];if(n.length)return n;const s=this.getMatchingVisibleMetas();if(this._normalized&&s.length)return this._cache.data=s[0].controller.getAllParsedValues(this);for(r=0,i=s.length;r<i;++r)n=n.concat(s[r].controller.getAllParsedValues(this));return this._cache.data=this.normalize(n)}getLabelTimestamps(){const n=this._cache.labels||[];let r,i;if(n.length)return n;const s=this.getLabels();for(r=0,i=s.length;r<i;++r)n.push(Q6(this,s[r]));return this._cache.labels=this._normalized?n:this.normalize(n)}normalize(n){return X3(n.sort(Z6))}})();function Iv(t,e,n){let s,o,a,c,r=0,i=t.length-1;n?(e>=t[r].pos&&e<=t[i].pos&&({lo:r,hi:i}=Ws(t,"pos",e)),({pos:s,time:a}=t[r]),({pos:o,time:c}=t[i])):(e>=t[r].time&&e<=t[i].time&&({lo:r,hi:i}=Ws(t,"time",e)),({time:s,pos:a}=t[r]),({time:o,pos:c}=t[i]));const l=o-s;return l?a+(c-a)*(e-s)/l:a}var DIe=Object.freeze({__proto__:null,CategoryScale:nIe,LinearScale:class iIe extends bv{static id="linear";static defaults={ticks:{callback:ev.formatters.numeric}};determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=At(e)?e:0,this.max=At(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),n=e?this.width:this.height,r=_i(this.options.ticks.minRotation),i=(e?Math.sin(r):Math.cos(r))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,s.lineHeight/i))}getPixelForValue(e){return null===e?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}},LogarithmicScale:class aIe extends dc{static id="logarithmic";static defaults={ticks:{callback:ev.formatters.logarithmic,major:{enabled:!0}}};constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,n){const r=bv.prototype.parse.apply(this,[e,n]);if(0!==r)return At(r)&&r>0?r:null;this._zero=!0}determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=At(e)?Math.max(0,e):null,this.max=At(n)?Math.max(0,n):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!At(this._userMin)&&(this.min=e===hc(this.min,0)?hc(this.min,-1):hc(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let r=this.min,i=this.max;const s=a=>r=e?r:a,o=a=>i=n?i:a;r===i&&(r<=0?(s(1),o(10)):(s(hc(r,-1)),o(hc(i,1)))),r<=0&&s(hc(i,-1)),i<=0&&o(hc(r,1)),this.min=r,this.max=i}buildTicks(){const e=this.options,r=function oIe(t,{min:e,max:n}){e=Pr(t.min,e);const r=[],i=op(e);let s=function sIe(t,e){let r=op(e-t);for(;q6(t,e,r)>10;)r++;for(;q6(t,e,r)<10;)r--;return Math.min(r,op(t))}(e,n),o=s<0?Math.pow(10,Math.abs(s)):1;const a=Math.pow(10,s),c=i>s?Math.pow(10,i):0,l=Math.round((e-c)*o)/o,u=Math.floor((e-c)/a/10)*a*10;let d=Math.floor((l-u)/Math.pow(10,s)),h=Pr(t.min,Math.round((c+u+d*Math.pow(10,s))*o)/o);for(;h<n;)r.push({value:h,major:W6(h),significand:d}),d>=10?d=d<15?15:20:d++,d>=20&&(s++,d=2,o=s>=0?1:o),h=Math.round((c+u+d*Math.pow(10,s))*o)/o;const f=Pr(t.max,h);return r.push({value:f,major:W6(f),significand:d}),r}({min:this._userMin,max:this._userMax},this);return"ticks"===e.bounds&&q3(r,this,"value"),e.reverse?(r.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),r}getLabelForValue(e){return void 0===e?"0":qf(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=Ho(e),this._valueRange=Ho(this.max)-Ho(e)}getPixelForValue(e){return(void 0===e||0===e)&&(e=this.min),null===e||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(Ho(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const n=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+n*this._valueRange)}},RadialLinearScale:class wIe extends bv{static id="radialLinear";static defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:ev.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback:e=>e,padding:5,centerPointLabels:!1}};static defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};static descriptors={angleLines:{_fallback:"grid"}};constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=jn(wk(this.options)/2),n=this.width=this.maxWidth-e.width,r=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+n/2+e.left),this.yCenter=Math.floor(this.top+r/2+e.top),this.drawingArea=Math.floor(Math.min(n,r)/2)}determineDataLimits(){const{min:e,max:n}=this.getMinMax(!1);this.min=At(e)&&!isNaN(e)?e:0,this.max=At(n)&&!isNaN(n)?n:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/wk(this.options))}generateTickLabels(e){bv.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((n,r)=>{const i=st(this.options.pointLabels.callback,[n,r],this);return i||0===i?i:""}).filter((n,r)=>this.chart.getDataVisibility(r))}fit(){const e=this.options;e.display&&e.pointLabels.display?function lIe(t){const e={l:t.left+t._padding.left,r:t.right-t._padding.right,t:t.top+t._padding.top,b:t.bottom-t._padding.bottom},n=Object.assign({},e),r=[],i=[],s=t._pointLabels.length,o=t.options.pointLabels,a=o.centerPointLabels?dt/s:0;for(let c=0;c<s;c++){const l=o.setContext(t.getPointLabelContext(c));i[c]=l.padding;const u=t.getPointPosition(c,t.drawingArea+i[c],a),d=rn(l.font),h=cIe(t.ctx,d,t._pointLabels[c]);r[c]=h;const f=Rr(t.getIndexAngle(c)+a),p=Math.round(jM(f));uIe(n,e,f,K6(p,u.x,h.w,0,180),K6(p,u.y,h.h,90,270))}t.setCenterPoint(e.l-n.l,n.r-e.r,e.t-n.t,n.b-e.b),t._pointLabelItems=function fIe(t,e,n){const r=[],i=t._pointLabels.length,s=t.options,{centerPointLabels:o,display:a}=s.pointLabels,c={extra:wk(s)/2,additionalAngle:o?dt/i:0};let l;for(let u=0;u<i;u++){c.padding=n[u],c.size=e[u];const d=dIe(t,u,c);r.push(d),"auto"===a&&(d.visible=hIe(d,l),d.visible&&(l=d))}return r}(t,r,i)}(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,n,r,i){this.xCenter+=Math.floor((e-n)/2),this.yCenter+=Math.floor((r-i)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,n,r,i))}getIndexAngle(e){return Rr(e*(ht/(this._pointLabels.length||1))+_i(this.options.startAngle||0))}getDistanceFromCenterForValue(e){if(Le(e))return NaN;const n=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*n:(e-this.min)*n}getValueForDistanceFromCenter(e){if(Le(e))return NaN;const n=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-n:this.min+n}getPointLabelContext(e){const n=this._pointLabels||[];if(e>=0&&e<n.length){const r=n[e];return function bIe(t,e,n){return zo(t,{label:n,index:e,type:"pointLabel"})}(this.getContext(),e,r)}}getPointPosition(e,n,r=0){const i=this.getIndexAngle(e)-jt+r;return{x:Math.cos(i)*n+this.xCenter,y:Math.sin(i)*n+this.yCenter,angle:i}}getPointPositionForValue(e,n){return this.getPointPosition(e,this.getDistanceFromCenterForValue(n))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:n,top:r,right:i,bottom:s}=this._pointLabelItems[e];return{left:n,top:r,right:i,bottom:s}}drawBackground(){const{backgroundColor:e,grid:{circular:n}}=this.options;if(e){const r=this.ctx;r.save(),r.beginPath(),Y6(this,this.getDistanceFromCenterForValue(this._endValue),n,this._pointLabels.length),r.closePath(),r.fillStyle=e,r.fill(),r.restore()}}drawGrid(){const e=this.ctx,n=this.options,{angleLines:r,grid:i,border:s}=n,o=this._pointLabels.length;let a,c,l;if(n.pointLabels.display&&function _Ie(t,e){const{ctx:n,options:{pointLabels:r}}=t;for(let i=e-1;i>=0;i--){const s=t._pointLabelItems[i];if(!s.visible)continue;const o=r.setContext(t.getPointLabelContext(i));yIe(n,o,s);const a=rn(o.font),{x:c,y:l,textAlign:u}=s;sc(n,t._pointLabels[i],c,l+a.lineHeight/2,a,{color:o.color,textAlign:u,textBaseline:"middle"})}}(this,o),i.display&&this.ticks.forEach((u,d)=>{if(0!==d||0===d&&this.min<0){c=this.getDistanceFromCenterForValue(u.value);const h=this.getContext(d),f=i.setContext(h),p=s.setContext(h);!function vIe(t,e,n,r,i){const s=t.ctx,o=e.circular,{color:a,lineWidth:c}=e;!o&&!r||!a||!c||n<0||(s.save(),s.strokeStyle=a,s.lineWidth=c,s.setLineDash(i.dash),s.lineDashOffset=i.dashOffset,s.beginPath(),Y6(t,n,o,r),s.closePath(),s.stroke(),s.restore())}(this,f,c,o,p)}}),r.display){for(e.save(),a=o-1;a>=0;a--){const u=r.setContext(this.getPointLabelContext(a)),{color:d,lineWidth:h}=u;!h||!d||(e.lineWidth=h,e.strokeStyle=d,e.setLineDash(u.borderDash),e.lineDashOffset=u.borderDashOffset,c=this.getDistanceFromCenterForValue(n.ticks.reverse?this.min:this.max),l=this.getPointPosition(a,c),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(l.x,l.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,n=this.options,r=n.ticks;if(!r.display)return;const i=this.getIndexAngle(0);let s,o;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(i),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((a,c)=>{if(0===c&&this.min>=0&&!n.reverse)return;const l=r.setContext(this.getContext(c)),u=rn(l.font);if(s=this.getDistanceFromCenterForValue(this.ticks[c].value),l.showLabelBackdrop){e.font=u.string,o=e.measureText(a.label).width,e.fillStyle=l.backdropColor;const d=jn(l.backdropPadding);e.fillRect(-o/2-d.left,-s-u.size/2-d.top,o+d.width,u.size+d.height)}sc(e,a.label,0,-s,u,{color:l.color,strokeColor:l.textStrokeColor,strokeWidth:l.textStrokeWidth})}),e.restore()}drawTitle(){}},TimeScale:Ik,TimeSeriesScale:class TIe extends Ik{static id="timeseries";static defaults=Ik.defaults;constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=Iv(n,this.min),this._tableRange=Iv(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:n,max:r}=this,i=[],s=[];let o,a,c,l,u;for(o=0,a=e.length;o<a;++o)l=e[o],l>=n&&l<=r&&i.push(l);if(i.length<2)return[{time:n,pos:0},{time:r,pos:1}];for(o=0,a=i.length;o<a;++o)u=i[o+1],c=i[o-1],l=i[o],Math.round((u+c)/2)!==l&&s.push({time:l,pos:o/(a-1)});return s}_generate(){const e=this.min,n=this.max;let r=super.getDataTimestamps();return(!r.includes(e)||!r.length)&&r.splice(0,0,e),(!r.includes(n)||1===r.length)&&r.push(n),r.sort((i,s)=>i-s)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const n=this.getDataTimestamps(),r=this.getLabelTimestamps();return e=n.length&&r.length?this.normalize(n.concat(r)):n.length?n:r,e=this._cache.all=e,e}getDecimalForValue(e){return(Iv(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this._offsets,r=this.getDecimalForPixel(e)/n.factor-n.end;return Iv(this._table,r*this._tableRange+this._minPos,!0)}}});hk.register(Tbe,i0e,X0e,DIe);const xIe=hk;class AIe{constructor(){this.week="week",this.month="month",this.season="season",this.halfYear="halfYear",this.year="year"}}class MIe{constructor(){this.week="\u672c\u5468",this.month="\u672c\u6708",this.season="\u672c\u5b63",this.halfYear="\u534a\u5e74",this.year="\u4eca\u5e74",this.booking_room="\u6559\u5ba4\u9810\u7d04",this.booking_site="\u5ea7\u4f4d\u9810\u7d04"}}let tG=(()=>{class t{constructor(n){this.cloudFunService=n}getChartByTimeType(n){return this.cloudFunService.getBookingTrend(n)}getBookingRate(n){return this.cloudFunService.getBookingRate(n)}static#e=this.\u0275fac=function(r){return new(r||t)(W(P3))};static#t=this.\u0275prov=X({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),kIe=(()=>{class t{constructor(n,r){this.router=n,this.reviewRoomService=r,this.isLoading=!0,this.chartTimeType=new AIe,this.chartTimeWording=new MIe,this.selectChartTimeWording=this.chartTimeWording.halfYear,this.isHiddenDialog=!0,this.dialogChartTimeItemList=[{id:this.chartTimeType.week,name:this.chartTimeWording.week},{id:this.chartTimeType.month,name:this.chartTimeWording.month},{id:this.chartTimeType.season,name:this.chartTimeWording.season},{id:this.chartTimeType.halfYear,name:this.chartTimeWording.halfYear},{id:this.chartTimeType.year,name:this.chartTimeWording.year}]}ngOnInit(){this.selectChartTimeWording=this.chartTimeWording.halfYear,this.createChart(this.chartTimeType.halfYear)}createChart(n){let r=[],i=[],s=[];this.reviewRoomService.getChartByTimeType(n).subscribe(a=>{r=a.timeTitle,i=a.siteCount,s=a.roomCount,this.lineChart=new xIe("lineChart",{type:"line",data:{labels:r,datasets:[{label:this.chartTimeWording.booking_site,data:i,borderColor:"#FBE0FF"},{label:this.chartTimeWording.booking_room,data:s,borderColor:"#661983"}]},options:{aspectRatio:1}}),this.isLoading=!1},a=>{console.log(a),alert("\u53d6\u5f97\u501f\u7528\u8da8\u52e2\u8cc7\u6599\u932f\u8aa4, \u932f\u8aa4\u8a0a\u606f\u70ba : "+a)})}selectCharTimeModel(n){this.isLoading=!0,this.lineChart.destroy(),this.dialogChartTimeItemList.forEach(r=>{r.id===n&&(this.selectChartTimeWording=r.name,this.createChart(r.id))})}static#e=this.\u0275fac=function(r){return new(r||t)($(en),$(tG))};static#t=this.\u0275cmp=wt({type:t,selectors:[["app-review-room-trend"]],decls:13,vars:6,consts:[[1,"main-container"],[1,"review-container"],[1,"row"],[1,"title"],[1,"select-item",3,"click"],["id","lineChart"],[1,"dialog-container"],[3,"dialogTitle","isHiddenDialog","itemList","selectedItem","hideDialog"],[1,"loading-container"],[3,"isLoading"]],template:function(r,i){1&r&&(D(0,"div",0)(1,"div",1)(2,"div",2)(3,"label",3),N(4,"\u501f\u7528\u8da8\u52e2"),S(),D(5,"div",4),V("click",function(){return i.isHiddenDialog=!1}),N(6),S()(),D(7,"canvas",5),N(8),S()(),D(9,"div",6)(10,"app-dialog",7),V("selectedItem",function(o){return i.selectCharTimeModel(o)})("hideDialog",function(){return i.isHiddenDialog=!0}),S()(),D(11,"div",8),_t(12,"app-loading-basic",9),S()()),2&r&&(k(6),lr(" ",i.selectChartTimeWording,""),k(2),ms(i.lineChart),k(2),F("dialogTitle","\u9078\u64c7\u501f\u7528\u8da8\u52e2\u4e4b\u6642\u5340")("isHiddenDialog",i.isHiddenDialog)("itemList",i.dialogChartTimeItemList),k(2),F("isLoading",i.isLoading))},dependencies:[$_,j_],styles:[".main-container[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;justify-content:start;align-items:center}.review-container[_ngcontent-%COMP%]{width:350px;display:flex;flex-direction:column;align-items:flex-start;padding:10px}.row[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:flex-start;align-items:center;width:100%}.row[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#661983;margin-right:30px}.row[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:25px}.row[_ngcontent-%COMP%]   .title-second[_ngcontent-%COMP%]{padding:0 10px;font-size:20px}.row[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{padding:0 20px;font-size:20px}.row[_ngcontent-%COMP%]   .select-item[_ngcontent-%COMP%]{color:#661983;font-size:20px;background:#FBE0FF;padding:10px 30px;border-radius:100px;margin-right:15px}.progress-bar[_ngcontent-%COMP%]{width:100%;height:40px;background:#FBE0FF;border-radius:5px;margin:0 20px;padding:5px}.progress-bar[_ngcontent-%COMP%]   .progress[_ngcontent-%COMP%]{width:70%;height:100%;border-radius:5px;background:#661983}.dialog-container[_ngcontent-%COMP%], .loading-container[_ngcontent-%COMP%]{z-index:91}"]})}return t})(),PIe=(()=>{class t{constructor(n){this.reviewRoomService=n,this.isLoading=!0,this.dialogRoomTypeList=[{id:"1",name:"\u5168\u90e8"},{id:"2",name:"\u6559\u5ba4\u9810\u7d04"},{id:"3",name:"\u5ea7\u4f4d\u9810\u7d04"}],this.isDialogHiddenRoomType=!0,this.dialogRemainRoomRate=[{id:"1",name:"10%"},{id:"2",name:"20%"},{id:"3",name:"30%"},{id:"4",name:"40%"},{id:"5",name:"50%"}],this.isDialogHiddenRemainRommRate=!0,this.roomType={all:"\u5168\u90e8",roomBooking:"\u6559\u5ba4\u9810\u7d04",siteBooking:"\u5ea7\u4f4d\u9810\u7d04"},this._selectRoomType=this.roomType.all,this.rateList=[],this.showRate=30}ngOnInit(){this.getRateList()}getRateList(){this.reviewRoomService.getBookingRate(3).subscribe(n=>{this.rateList=n,this.isLoading=!1})}selectDialogRate(n){this.dialogRemainRoomRate.forEach(r=>{const i=r.name.split("%");r.id===n&&!isNaN(+i[0])&&(this.showRate=+i[0])})}selectDialogRoomType(n){this.dialogRoomTypeList.forEach(r=>{r.id===n&&(this._selectRoomType=r.name)})}static#e=this.\u0275fac=function(r){return new(r||t)($(tG))};static#t=this.\u0275cmp=wt({type:t,selectors:[["app-review-room-remanet-rate"]],decls:21,vars:11,consts:[[1,"main-container"],[1,"review-container"],[1,"row"],[1,"title"],[1,"select-item",3,"click"],[1,"title-second"],[3,"rateList","showRate"],[1,"dialog-container"],[3,"dialogTitle","isHiddenDialog","itemList","hideDialog","selectedItem"],[1,"loading-container"],[3,"isLoading"]],template:function(r,i){1&r&&(D(0,"div",0)(1,"div",1)(2,"div",2)(3,"label",3),N(4,"\u7a7a\u9593\u7a2e\u985e"),S(),D(5,"div",4),V("click",function(){return i.isDialogHiddenRoomType=!1}),N(6),S()(),D(7,"div",2)(8,"label",5),N(9,"\u986f\u793a\u5269\u9918\u7a7a\u9593"),S(),D(10,"div",4),V("click",function(){return i.isDialogHiddenRemainRommRate=!1}),N(11),S(),D(12,"label",5),N(13,"\u4ee5\u4e0b"),S()(),_t(14,"app-calendar-picker",6),S(),D(15,"div",7)(16,"app-dialog",8),V("hideDialog",function(){return i.isDialogHiddenRemainRommRate=!0})("selectedItem",function(o){return i.selectDialogRate(o)}),S()(),D(17,"div",7)(18,"app-dialog",8),V("hideDialog",function(){return i.isDialogHiddenRoomType=!0})("selectedItem",function(o){return i.selectDialogRoomType(o)}),S()(),D(19,"div",9),_t(20,"app-loading-basic",10),S()()),2&r&&(k(6),lr(" ",i._selectRoomType," "),k(5),lr(" ",i.showRate," %"),k(3),F("rateList",i.rateList)("showRate",i.showRate),k(2),F("dialogTitle","\u9078\u64c7\u5269\u9918\u7a7a\u9593\u6bd4\u4f8b")("isHiddenDialog",i.isDialogHiddenRemainRommRate)("itemList",i.dialogRemainRoomRate),k(2),F("dialogTitle","\u9078\u64c7\u5269\u9918\u7a7a\u9593\u7a2e\u985e")("isHiddenDialog",i.isDialogHiddenRoomType)("itemList",i.dialogRoomTypeList),k(2),F("isLoading",i.isLoading))},dependencies:[xM,$_,j_],styles:[".main-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:start;align-items:center}.review-container[_ngcontent-%COMP%]{width:350px;display:flex;flex-direction:column;align-items:flex-start;padding:10px}.row[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:flex-start;align-items:center;width:100%;padding:5px}.row[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#661983;margin-right:10px}.row[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:25px}.row[_ngcontent-%COMP%]   .title-second[_ngcontent-%COMP%]{padding:0 10px;font-size:20px}.row[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{padding:0 20px;font-size:20px}.row[_ngcontent-%COMP%]   .select-item[_ngcontent-%COMP%]{color:#661983;font-size:20px;background:#FBE0FF;padding:10px 30px;border-radius:100px;margin-right:15px}.progress-bar[_ngcontent-%COMP%]{width:100%;height:40px;background:#FBE0FF;border-radius:5px;margin:0 20px;padding:5px}.progress-bar[_ngcontent-%COMP%]   .progress[_ngcontent-%COMP%]{width:70%;height:100%;border-radius:5px;background:#661983}.dialog-container[_ngcontent-%COMP%], .loading-container[_ngcontent-%COMP%]{z-index:91}"]})}return t})();function RIe(t,e){1&t&&_t(0,"app-review-room-trend")}function OIe(t,e){1&t&&_t(0,"app-review-room-remanet-rate")}const nG=function(t){return{"item-icon-selected":t}},NIe=[{path:"",component:kre},{path:"home",canActivate:[Pre],component:Are},{path:"booking-date",component:uye},{path:"booking-clock",component:_ye},{path:"booking-select-type",component:vye},{path:"booking-check-form",component:Dye},{path:"review-booking-calendar",component:a_e},{path:"review-booking-form",component:u_e},{path:"review-room-overview",component:(()=>{class t{constructor(){this.reviewType=new d_e,this.selectReviewType=this.reviewType.BOOKING_TREND}changeReviewType(n){this.selectReviewType=n}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=wt({type:t,selectors:[["app-review-room-overview"]],decls:18,vars:8,consts:[[1,"main-container"],[1,"select-review-type-bar"],[1,"item-icon",3,"ngClass","click"],[1,"review-container"],[1,"row"],[1,"title-second"],[1,"content"],[1,"progress-bar"],[1,"progress"],[4,"ngIf"]],template:function(r,i){1&r&&(D(0,"div",0)(1,"div",1)(2,"div",2),V("click",function(){return i.changeReviewType(i.reviewType.BOOKING_TREND)}),N(3," \u501f\u7528\u8da8\u52e2 "),S(),D(4,"div",2),V("click",function(){return i.changeReviewType(i.reviewType.REMANET_RATE)}),N(5," \u5269\u9918\u7a7a\u9593 "),S()(),D(6,"div",3)(7,"div",4)(8,"label",5),N(9,"\u4eca\u65e5\u5269\u9918\u7a7a\u9593"),S()(),D(10,"div",4)(11,"label",6),N(12,"140 / 200\u9593 (70%)"),S()(),D(13,"div",4)(14,"div",7),_t(15,"div",8),S()()()(),Ct(16,RIe,1,0,"app-review-room-trend",9),Ct(17,OIe,1,0,"app-review-room-remanet-rate",9)),2&r&&(k(2),F("ngClass",Te(4,nG,i.selectReviewType===i.reviewType.BOOKING_TREND)),k(2),F("ngClass",Te(6,nG,i.selectReviewType===i.reviewType.REMANET_RATE)),k(12),F("ngIf",i.selectReviewType===i.reviewType.BOOKING_TREND),k(1),F("ngIf",i.selectReviewType===i.reviewType.REMANET_RATE))},dependencies:[vl,uo,kIe,PIe],styles:[".main-container[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;justify-content:start;align-items:center}.review-container[_ngcontent-%COMP%]{width:350px;display:flex;flex-direction:column;align-items:flex-start;padding:10px}.select-review-type-bar[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;align-items:center;padding:10px}.select-review-type-bar[_ngcontent-%COMP%]   .item-icon[_ngcontent-%COMP%]{color:#661983;font-size:20px;background:#FBE0FF;padding:10px 30px;border-radius:100px;margin:0 5px}.select-review-type-bar[_ngcontent-%COMP%]   .item-icon-selected[_ngcontent-%COMP%]{color:#fbe0ff;background:#661983}.row[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:flex-start;align-items:center;width:100%}.row[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#661983;margin-right:30px}.row[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:25px}.row[_ngcontent-%COMP%]   .title-second[_ngcontent-%COMP%]{padding:0 10px;font-size:20px}.row[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{padding:0 20px;font-size:20px}.progress-bar[_ngcontent-%COMP%]{width:100%;height:40px;background:#FBE0FF;border-radius:5px;margin:0 20px;padding:5px}.progress-bar[_ngcontent-%COMP%]   .progress[_ngcontent-%COMP%]{width:70%;height:100%;border-radius:5px;background:#661983}"]})}return t})()},{path:"pay-plan-list",component:i_e},{path:"ecpay-form",component:o_e}];let LIe=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Ci({type:t});static#n=this.\u0275inj=ni({imports:[EB.forRoot(NIe),EB]})}return t})();const FIe=["header"];function BIe(t,e){1&t&&_t(0,"img",6)}function VIe(t,e){1&t&&_t(0,"img",7)}const UIe=function(t){return{height:t}};let jIe=(()=>{class t{constructor(n){this.routeUrlRecordService=n,this.headerTitle="",this.isMainHeader=!0,this.otherBackUrl="",this.isHiddenBacke=!1,this.headerPeddingHeigh="200px",this.routeUrlRecordService.routerUrlChangeEmit.subscribe(r=>{this.setHeaderImg(r),this.setHeaderTitle(r)})}ngOnInit(){this.setHeaderImg(this.routeUrlRecordService.getCurrentUrl())}setHeaderImg(n){this.isMainHeader="/home"===n||"/"===n||!n,this.headerPeddingHeigh=window.innerWidth>1100||500<=window.innerWidth&&window.innerWidth<=1100?this.isMainHeader?"200px":"100px":this.isMainHeader?"160px":"100px"}setHeaderTitle(n){this.headerTitle=n?n.includes("review-booking")?"\u5df2\u9810\u7d04":n.includes("booking-")?"\u9810\u7d04\u7a7a\u9593":n.includes("review-room")?"\u7a7a\u9593\u7e3d\u89bd":n.includes("pay-")?"\u8cfc\u8cb7\u65b9\u6848":"":""}backPage(){this.setHeaderImg(this.routeUrlRecordService.getPreviousUrl()),this.setHeaderTitle(this.routeUrlRecordService.getPreviousUrl()),this.routeUrlRecordService.backPage()}static#e=this.\u0275fac=function(r){return new(r||t)($(ya))};static#t=this.\u0275cmp=wt({type:t,selectors:[["app-header"]],viewQuery:function(r,i){if(1&r&&a0(FIe,5),2&r){let s;Bg(s=Vg())&&(i.headerElementRef=s.first)}},decls:9,vars:6,consts:[["header",""],["class","img-header-main",4,"ngIf","ngIfElse"],["notMainHeader",""],[1,"header-title"],["src","assets/images/icon/icon_back.png",1,"img-back",3,"click"],[3,"ngStyle"],[1,"img-header-main"],[1,"img-header"]],template:function(r,i){if(1&r&&(D(0,"header",null,0),Ct(2,BIe,1,0,"img",1),Ct(3,VIe,1,0,"ng-template",null,2,PL),D(5,"div",3),N(6),S(),D(7,"img",4),V("click",function(){return i.backPage()}),S()(),_t(8,"div",5)),2&r){const s=function RO(t){return Ac(function H9(){return oe.lFrame.contextLView}(),Ce+t)}(4);k(2),F("ngIf",i.isMainHeader)("ngIfElse",s),k(4),ms(i.headerTitle),k(2),F("ngStyle",Te(4,UIe,i.headerPeddingHeigh))}},dependencies:[uo,am],styles:["header[_ngcontent-%COMP%]{width:110%;position:fixed;z-index:90;top:-4px;left:-1px}header[_ngcontent-%COMP%]   .img-header[_ngcontent-%COMP%]{width:105%}header[_ngcontent-%COMP%]   .img-back[_ngcontent-%COMP%]{width:40px;position:fixed;top:20px;left:10px}header[_ngcontent-%COMP%]   .header-title[_ngcontent-%COMP%]{font-size:25px;width:100%;color:#fbe0ff;position:fixed;top:20px;left:10px;text-align:center}.padding-box[_ngcontent-%COMP%]{background:white}@media (min-width: 1100px){.img-header-main[_ngcontent-%COMP%]{content:url(/assets/header/main/bar-main-2000px.png)}}@media (min-width: 500px) and (max-width: 1100px){.img-header-main[_ngcontent-%COMP%]{content:url(/assets/header/main/bar-main-1000px.png)}}@media (max-width: 500px){.img-header-main[_ngcontent-%COMP%]{content:url(/assets/header/main/bar-main-400px.png)}}@media (min-width: 1100px){.img-header[_ngcontent-%COMP%]{content:url(/assets/header/secondary/bar-secondary-2000px.png)}}@media (min-width: 500px) and (max-width: 1100px){.img-header[_ngcontent-%COMP%]{content:url(/assets/header/secondary/bar-secondary-1000px.png)}}@media (max-width: 500px){.img-header[_ngcontent-%COMP%]{content:url(/assets/header/secondary/bar-secondary-400px.png)}}"]})}return t})(),$Ie=(()=>{class t{constructor(){this.title="Space In"}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=wt({type:t,selectors:[["app-root"]],decls:2,vars:0,template:function(r,i){1&r&&_t(0,"app-header")(1,"router-outlet")},dependencies:[vI,jIe]})}return t})();const HIe={projectId:"spacein-ec8ab",appId:"1:328066296243:web:b1897c1201a0f9b55843c6",databaseURL:"https://spacein-ec8ab-default-rtdb.firebaseio.com",storageBucket:"spacein-ec8ab.appspot.com",apiKey:"AIzaSyDKF1CmT6ugm2WYk8mgRzyPQy8-AsBAgvs",authDomain:"spacein-ec8ab.firebaseapp.com",messagingSenderId:"328066296243",measurementId:"G-54HYGJ7ZDQ"};let zIe=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Ci({type:t,bootstrap:[$Ie]});static#n=this.\u0275inj=ni({imports:[jee,LIe,Xye,Ace(()=>Mce(HIe)),Kme(()=>Jme())]})}return t})();Vee().bootstrapModule(zIe).catch(t=>console.error(t))},861:(Nu,gc,Yr)=>{function ne(Qs,Zr,Yt,Xs,es,_r,gn){try{var Nr=Qs[_r](gn),Qr=Nr.value}catch(mc){return void Yt(mc)}Nr.done?Zr(Qr):Promise.resolve(Qr).then(Xs,es)}function qo(Qs){return function(){var Zr=this,Yt=arguments;return new Promise(function(Xs,es){var _r=Qs.apply(Zr,Yt);function gn(Qr){ne(_r,Xs,es,gn,Nr,"next",Qr)}function Nr(Qr){ne(_r,Xs,es,gn,Nr,"throw",Qr)}gn(void 0)})}}Yr.d(gc,{Z:()=>qo})}},Nu=>{Nu(Nu.s=117)}]);